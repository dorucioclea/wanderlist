(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{217:function(e,t,a){e.exports=a(503)},226:function(e,t,a){},229:function(e,t,a){},45:function(e){e.exports=[{name:"Afghanistan",pk:1},{name:"Aland Islands",pk:2},{name:"Albania",pk:3},{name:"Algeria",pk:4},{name:"American Samoa",pk:5},{name:"Andorra",pk:6},{name:"Angola",pk:7},{name:"Anguilla",pk:8},{name:"Antarctica",pk:9},{name:"Antigua and Barbuda",pk:10},{name:"Argentina",pk:11},{name:"Armenia",pk:12},{name:"Aruba",pk:13},{name:"Australia",pk:14},{name:"Austria",pk:15},{name:"Azerbaijan",pk:16},{name:"Bahamas",pk:17},{name:"Bahrain",pk:18},{name:"Bangladesh",pk:19},{name:"Barbados",pk:20},{name:"Belarus",pk:21},{name:"Belgium",pk:22},{name:"Belize",pk:23},{name:"Benin",pk:24},{name:"Bermuda",pk:25},{name:"Bhutan",pk:26},{name:"Bolivia (Plurinational State of)",pk:27},{name:"Bonaire, Sint Eustatius and Saba",pk:28},{name:"Bosnia and Herzegovina",pk:29},{name:"Botswana",pk:30},{name:"Bouvet Island",pk:31},{name:"Brazil",pk:32},{name:"British Indian Ocean Territory",pk:33},{name:"Brunei Darussalam",pk:37},{name:"Bulgaria",pk:38},{name:"Burkina Faso",pk:39},{name:"Burundi",pk:40},{name:"Cabo Verde",pk:44},{name:"Cambodia",pk:41},{name:"Cameroon",pk:42},{name:"Canada",pk:43},{name:"Cayman Islands",pk:45},{name:"Central African Republic",pk:46},{name:"Chad",pk:47},{name:"Chile",pk:48},{name:"China",pk:49},{name:"Christmas Island",pk:50},{name:"Cocos (Keeling) Islands",pk:51},{name:"Colombia",pk:52},{name:"Comoros",pk:53},{name:"Congo",pk:54},{name:"Congo (Democratic Republic of the)",pk:55},{name:"Cook Islands",pk:56},{name:"Costa Rica",pk:57},{name:"Croatia",pk:58},{name:"Cuba",pk:59},{name:"Cura\xe7ao",pk:60},{name:"Cyprus",pk:61},{name:"Czech Republic",pk:62},{name:"C\xf4te d'Ivoire",pk:107},{name:"Denmark",pk:63},{name:"Djibouti",pk:64},{name:"Dominica",pk:65},{name:"Dominican Republic",pk:66},{name:"Ecuador",pk:67},{name:"Egypt",pk:68},{name:"El Salvador",pk:69},{name:"Equatorial Guinea",pk:70},{name:"Eritrea",pk:71},{name:"Estonia",pk:72},{name:"Ethiopia",pk:73},{name:"Falkland Islands (Malvinas)",pk:74},{name:"Faroe Islands",pk:75},{name:"Fiji",pk:76},{name:"Finland",pk:77},{name:"France",pk:78},{name:"French Guiana",pk:79},{name:"French Polynesia",pk:80},{name:"French Southern Territories",pk:81},{name:"Gabon",pk:82},{name:"Gambia",pk:83},{name:"Georgia",pk:84},{name:"Germany",pk:85},{name:"Ghana",pk:86},{name:"Gibraltar",pk:87},{name:"Greece",pk:88},{name:"Greenland",pk:89},{name:"Grenada",pk:90},{name:"Guadeloupe",pk:91},{name:"Guam",pk:92},{name:"Guatemala",pk:93},{name:"Guernsey",pk:94},{name:"Guinea",pk:95},{name:"Guinea-Bissau",pk:96},{name:"Guyana",pk:97},{name:"Haiti",pk:98},{name:"Heard Island and McDonald Islands",pk:99},{name:"Holy See",pk:100},{name:"Honduras",pk:101},{name:"Hong Kong",pk:102},{name:"Hungary",pk:103},{name:"Iceland",pk:104},{name:"India",pk:105},{name:"Indonesia",pk:106},{name:"Iran (Islamic Republic of)",pk:108},{name:"Iraq",pk:109},{name:"Ireland",pk:110},{name:"Isle of Man",pk:111},{name:"Israel",pk:112},{name:"Italy",pk:113},{name:"Jamaica",pk:114},{name:"Japan",pk:115},{name:"Jersey",pk:116},{name:"Jordan",pk:117},{name:"Kazakhstan",pk:118},{name:"Kenya",pk:119},{name:"Kiribati",pk:120},{name:"Korea (Democratic People's Republic of)",pk:166},{name:"Korea (Republic of)",pk:211},{name:"Kuwait",pk:121},{name:"Kyrgyzstan",pk:122},{name:"Lao People's Democratic Republic",pk:123},{name:"Latvia",pk:124},{name:"Lebanon",pk:125},{name:"Lesotho",pk:126},{name:"Liberia",pk:127},{name:"Libya",pk:128},{name:"Liechtenstein",pk:129},{name:"Lithuania",pk:130},{name:"Luxembourg",pk:131},{name:"Macao",pk:132},{name:"Macedonia (the former Yugoslav Republic of)",pk:133},{name:"Madagascar",pk:134},{name:"Malawi",pk:135},{name:"Malaysia",pk:136},{name:"Maldives",pk:137},{name:"Mali",pk:138},{name:"Malta",pk:139},{name:"Marshall Islands",pk:140},{name:"Martinique",pk:141},{name:"Mauritania",pk:142},{name:"Mauritius",pk:143},{name:"Mayotte",pk:144},{name:"Mexico",pk:145},{name:"Micronesia (Federated States of)",pk:146},{name:"Moldova (Republic of)",pk:147},{name:"Monaco",pk:148},{name:"Mongolia",pk:149},{name:"Montenegro",pk:150},{name:"Montserrat",pk:151},{name:"Morocco",pk:152},{name:"Mozambique",pk:153},{name:"Myanmar",pk:154},{name:"Namibia",pk:155},{name:"Nauru",pk:156},{name:"Nepal",pk:157},{name:"Netherlands",pk:158},{name:"New Caledonia",pk:159},{name:"New Zealand",pk:160},{name:"Nicaragua",pk:161},{name:"Niger",pk:162},{name:"Nigeria",pk:163},{name:"Niue",pk:164},{name:"Norfolk Island",pk:165},{name:"Northern Mariana Islands",pk:167},{name:"Norway",pk:168},{name:"Oman",pk:169},{name:"Pakistan",pk:170},{name:"Palau",pk:171},{name:"Palestine, State of",pk:172},{name:"Panama",pk:173},{name:"Papua New Guinea",pk:174},{name:"Paraguay",pk:175},{name:"Peru",pk:176},{name:"Philippines",pk:177},{name:"Pitcairn",pk:178},{name:"Poland",pk:179},{name:"Portugal",pk:180},{name:"Puerto Rico",pk:181},{name:"Qatar",pk:182},{name:"Republic of Kosovo",pk:183},{name:"Romania",pk:185},{name:"Russian Federation",pk:186},{name:"Rwanda",pk:187},{name:"R\xe9union",pk:184},{name:"Saint Barth\xe9lemy",pk:188},{name:"Saint Helena, Ascension and Tristan da Cunha",pk:189},{name:"Saint Kitts and Nevis",pk:190},{name:"Saint Lucia",pk:191},{name:"Saint Martin (French part)",pk:192},{name:"Saint Pierre and Miquelon",pk:193},{name:"Saint Vincent and the Grenadines",pk:194},{name:"Samoa",pk:195},{name:"San Marino",pk:196},{name:"Sao Tome and Principe",pk:197},{name:"Saudi Arabia",pk:198},{name:"Senegal",pk:199},{name:"Serbia",pk:200},{name:"Seychelles",pk:201},{name:"Sierra Leone",pk:202},{name:"Singapore",pk:203},{name:"Sint Maarten (Dutch part)",pk:204},{name:"Slovakia",pk:205},{name:"Slovenia",pk:206},{name:"Solomon Islands",pk:207},{name:"Somalia",pk:208},{name:"South Africa",pk:209},{name:"South Georgia and the South Sandwich Islands",pk:210},{name:"South Sudan",pk:212},{name:"Spain",pk:213},{name:"Sri Lanka",pk:214},{name:"Sudan",pk:215},{name:"Suriname",pk:216},{name:"Svalbard and Jan Mayen",pk:217},{name:"Swaziland",pk:218},{name:"Sweden",pk:219},{name:"Switzerland",pk:220},{name:"Syrian Arab Republic",pk:221},{name:"Taiwan",pk:222},{name:"Tajikistan",pk:223},{name:"Tanzania, United Republic of",pk:224},{name:"Thailand",pk:225},{name:"Timor-Leste",pk:226},{name:"Togo",pk:227},{name:"Tokelau",pk:228},{name:"Tonga",pk:229},{name:"Trinidad and Tobago",pk:230},{name:"Tunisia",pk:231},{name:"Turkey",pk:232},{name:"Turkmenistan",pk:233},{name:"Turks and Caicos Islands",pk:234},{name:"Tuvalu",pk:235},{name:"Uganda",pk:236},{name:"Ukraine",pk:237},{name:"United Arab Emirates",pk:238},{name:"United Kingdom",pk:239},{name:"United States Minor Outlying Islands",pk:34},{name:"United States of America",pk:240},{name:"Uruguay",pk:241},{name:"Uzbekistan",pk:242},{name:"Vanuatu",pk:243},{name:"Venezuela (Bolivarian Republic of)",pk:244},{name:"Vietnam",pk:245},{name:"Virgin Islands (British)",pk:35},{name:"Virgin Islands (U.S.)",pk:36},{name:"Wallis and Futuna",pk:246},{name:"Western Sahara",pk:247},{name:"Yemen",pk:248},{name:"Zambia",pk:249},{name:"Zimbabwe",pk:250}]},503:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(33),l=a.n(o),i=a(19),c=(a(226),a(16)),s=(a(228),a(202)),u=a(3),p={token:null,authenticating:!1,authenticated:!1},m={fetching:!1,fetched:!1,country:[]},d={error:null,success:null},h={showCountryModal:!1,showEditProfileModal:!1,showPostModal:!1,updatePostModal:!1,showConfirmDeleteModal:!1,showTripReportModal:!1,showNotAuthModal:!1,showCopyLinkModal:!1,showImageModal:!1,modalCountry:{},modalProfile:{},modalPost:{},modalLink:null,modalImage:null},E=a(18),f={posting:!1,updating:!1,fetching:!1,fetched:!1,fetchingNext:!1,fetchedNext:!1,fetchingUserNext:!1,fetchedUserNext:!1,fetchingTripReports:!1,fetchedTripReports:!1,fetchingSlugTripReports:!1,fetchedSlugTripReports:!1,fetchingFeaturedTripReport:!1,fetchedFeaturedTripReport:!1,tripReports:{results:[],count:null,next:null,previous:null},userTripReports:{results:[],count:null,next:null,previous:null},slugTripReports:[],featuredTripReport:[]},g={fetching:!1,fetched:!1,fetchingSingleUser:!1,fetchedSingleUser:!1,user:{countries:[]},singleUser:{}},R=Object(c.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return Object(u.a)({},e,{authenticating:!0});case"AUTH_SUCCESS":return Object(u.a)({},e,{authenticating:!1,authenticated:!0,token:t.token});case"AUTH_FAIL":return Object(u.a)({},e,{authenticating:!1,authenticated:!1});case"AUTH_LOGOUT":return Object(u.a)({},e,{authenticating:!1,authenticated:!1,token:null});default:return e}},country:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_COUNTRY_PENDING":return Object(u.a)({},e,{fetching:!0,fetched:!1});case"FETCH_COUNTRY_FULFILLED":return Object(u.a)({},e,{fetching:!1,fetched:!0,country:t.country});case"FETCH_COUNTRY_REJECTED":return Object(u.a)({},e,{fetching:!1,fetched:!1});default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ERROR":return Object(u.a)({},e,{error:t.error});case"REMOVE_ERROR":return Object(u.a)({},e,{error:null,success:null});case"ADD_SUCCESS":return Object(u.a)({},e,{success:t.success});default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_COUNTRY_MODAL":return Object(u.a)({},e,{showCountryModal:!0,modalCountry:t.modalCountry});case"CLOSE_COUNTRY_MODAL":return Object(u.a)({},e,{showCountryModal:!1});case"OPEN_EDIT_PROFILE_MODAL":return Object(u.a)({},e,{showEditProfileModal:!0,modalProfile:t.modalProfile});case"CLOSE_EDIT_PROFILE_MODAL":return Object(u.a)({},e,{showEditProfileModal:!1});case"OPEN_POST_MODAL":return Object(u.a)({},e,{showPostModal:!0});case"OPEN_UPDATE_POST_MODAL":return Object(u.a)({},e,{showPostModal:!0,updatePostModal:!0,modalPost:t.modalPost});case"CLOSE_POST_MODAL":return Object(u.a)({},e,{showPostModal:!1,updatePostModal:!1});case"OPEN_CONFIRM_DELETE_MODAL":return Object(u.a)({},e,{showConfirmDeleteModal:!0,modalPost:t.modalPost});case"CLOSE_CONFIRM_DELETE_MODAL":return Object(u.a)({},e,{showConfirmDeleteModal:!1});case"OPEN_TRIP_REPORT_MODAL":return Object(u.a)({},e,{showTripReportModal:!0,modalPost:t.modalPost});case"CLOSE_TRIP_REPORT_MODAL":return Object(u.a)({},e,{showTripReportModal:!1});case"OPEN_NOT_AUTH_MODAL":return Object(u.a)({},e,{showNotAuthModal:!0});case"CLOSE_NOT_AUTH_MODAL":return Object(u.a)({},e,{showNotAuthModal:!1});case"OPEN_COPY_LINK_MODAL":return Object(u.a)({},e,{showCopyLinkModal:!0,modalLink:t.modalLink});case"CLOSE_COPY_LINK_MODAL":return Object(u.a)({},e,{showCopyLinkModal:!1});case"TOGGLE_FAVORITE_FULFILLED":return Object(u.a)({},e,{modalPost:t.response});case"OPEN_IMAGE_MODAL":return Object(u.a)({},e,{showImageModal:!0,modalImage:t.modalImage});case"CLOSE_IMAGE_MODAL":return Object(u.a)({},e,{showImageModal:!1});default:return e}},tripReport:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_TRIP_REPORTS_PENDING":return Object(u.a)({},e,{fetching:!0});case"FETCH_TRIP_REPORTS_FULFILLED":return Object(u.a)({},e,{fetching:!1,fetched:!0,tripReports:t.tripReports});case"FETCH_TRIP_REPORTS_REJECTED":return Object(u.a)({},e,{fetching:!1,fetched:!1});case"FETCH_NEXT_TRIP_REPORTS_PENDING":return Object(u.a)({},e,{fetchingNext:!0,fetchedNext:!1});case"FETCH_NEXT_TRIP_REPORTS_FULFILLED":return Object(u.a)({},e,{fetchingNext:!1,fetchedNext:!0,tripReports:{count:t.tripReports.count,next:t.tripReports.next,previous:t.tripReports.previous,results:Object(E.a)(e.tripReports.results).concat(t.tripReports.results)}});case"FETCH_NEXT_TRIP_REPORTS_REJECTED":return Object(u.a)({},e,{fetchingNext:!1,fetchedNext:!1});case"FETCH_USER_TRIP_REPORTS_PENDING":return Object(u.a)({},e,{fetchingTripReports:!0,fetchedTripReports:!1});case"FETCH_USER_TRIP_REPORTS_FULFILLED":return Object(u.a)({},e,{fetchingTripReports:!1,fetchedTripReports:!0,userTripReports:t.tripReports});case"FETCH_USER_TRIP_REPORTS_REJECTED":return Object(u.a)({},e,{fetchingTripReports:!1,fetchedTripReports:!1});case"FETCH_NEXT_USER_TRIP_REPORTS_PENDING":return Object(u.a)({},e,{fetchingUserNext:!0,fetchedUserNext:!1});case"FETCH_NEXT_USER_TRIP_REPORTS_FULFILLED":return Object(u.a)({},e,{fetchingUserNext:!1,fetchedUserNext:!0,userTripReports:{count:t.tripReports.count,next:t.tripReports.next,previous:t.tripReports.previous,results:Object(E.a)(e.userTripReports.results).concat(t.tripReports.results)}});case"FETCH_NEXT_USER_TRIP_REPORTS_REJECTED":return Object(u.a)({},e,{fetchingUserNext:!1,fetchedUserNext:!1});case"POST_TRIP_REPORTS_PENDING":return Object(u.a)({},e,{posting:!0});case"POST_TRIP_REPORTS_FULFILLED":return Object(u.a)({},e,{userTripReports:{results:Object(E.a)(e.userTripReports.results).concat(t.response).sort(function(e,t){return e.id<t.id}),count:e.userTripReports.count,next:e.userTripReports.next,previous:e.userTripReports.previous},tripReports:{results:Object(E.a)(e.tripReports.results).concat(t.response).sort(function(e,t){return e.id<t.id}),count:e.tripReports.count,next:e.tripReports.next,previous:e.tripReports.previous},posting:!1});case"POST_TRIP_REPORTS_REJECTED":return Object(u.a)({},e,{posting:!1});case"DELETE_TRIP_REPORTS_FULFILLED":return Object(u.a)({},e,{userTripReports:{results:Object(E.a)(e.userTripReports.results).filter(function(e){return e.id!==t.response.id}),count:e.userTripReports.count,next:e.userTripReports.next,previous:e.userTripReports.previous},tripReports:{results:Object(E.a)(e.tripReports.results).filter(function(e){return e.id!==t.response.id}),count:e.tripReports.count,next:e.tripReports.next,previous:e.tripReports.previous}});case"UPDATE_TRIP_REPORTS_PENDING":return Object(u.a)({},e,{updating:!0});case"UPDATE_TRIP_REPORTS_FULFILLED":return Object(u.a)({},e,{userTripReports:{results:Object(E.a)(e.userTripReports.results).filter(function(e){return e.id!==t.response.id}).concat(t.response).sort(function(e,t){return e.id<t.id}),count:e.userTripReports.count,next:e.userTripReports.next,previous:e.userTripReports.previous},tripReports:{results:Object(E.a)(e.tripReports.results).filter(function(e){return e.id!==t.response.id}).concat(t.response).sort(function(e,t){return e.id<t.id}),count:e.tripReports.count,next:e.tripReports.next,previous:e.tripReports.previous},updating:!1});case"UPDATE_TRIP_REPORTS_REJECTED":return Object(u.a)({},e,{updating:!1});case"FETCH_SLUG_TRIP_REPORTS_PENDING":return Object(u.a)({},e,{fetchingSlugTripReports:!0,fetchedSlugTripReports:!1});case"FETCH_SLUG_TRIP_REPORTS_FULFILLED":return Object(u.a)({},e,{fetchingSlugTripReports:!1,fetchedSlugTripReports:!0,slugTripReports:t.tripReports.results});case"FETCH_SLUG_TRIP_REPORTS_REJECTED":return Object(u.a)({},e,{fetchingSlugTripReports:!1,fetchedSlugTripReports:!1});case"FETCH_FEATURED_TRIP_REPORT_PENDING":return Object(u.a)({},e,{fetchingFeaturedTripReport:!0,fetchedFeaturedTripReport:!1});case"FETCH_FEATURED_TRIP_REPORT_FULFILLED":return Object(u.a)({},e,{fetchingFeaturedTripReport:!1,fetchedFeaturedTripReport:!0,featuredTripReport:t.tripReport.results});case"FETCH_FEATURED_TRIP_REPORT_REJECTED":return Object(u.a)({},e,{fetchingFeaturedTripReport:!1,fetchedFeaturedTripReport:!1});case"TOGGLE_FAVORITE_FULFILLED":return Object(u.a)({},e,{tripReports:{results:Object(E.a)(e.tripReports.results).map(function(e){return e.id===t.response.id?Object(u.a)({},e,{favoriters:t.response.favoriters}):Object(u.a)({},e)}),count:e.tripReports.count,next:e.tripReports.next,previous:e.tripReports.previous},slugTripReports:Object(E.a)(e.slugTripReports).map(function(e){return e.id===t.response.id?Object(u.a)({},e,{favoriters:t.response.favoriters}):Object(u.a)({},e)}),featuredTripReport:Object(E.a)(e.featuredTripReport).map(function(e){return e.id===t.response.id?Object(u.a)({},e,{favoriters:t.response.favoriters}):Object(u.a)({},e)})});case"PUT_USER_DATA_FULFILLED":return Object(u.a)({},e,{tripReports:{results:Object(E.a)(e.tripReports.results).map(function(e){return e.author.id===t.user.id?Object(u.a)({},e,{author:t.user}):Object(u.a)({},e)}),count:e.tripReports.count,next:e.tripReports.next,previous:e.tripReports.previous}});case"AUTH_LOGOUT":return Object(u.a)({},e,{userTripReports:{results:[],count:null,next:null,previous:null}});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER_PENDING":return Object(u.a)({},e,{fetching:!0});case"FETCH_USER_FULFILLED":return Object(u.a)({},e,{fetching:!1,fetched:!0,user:t.user});case"FETCH_USER_REJECTED":return Object(u.a)({},e,{fetching:!1,fetched:!1});case"PUT_USER_DATA_FULFILLED":return Object(u.a)({},e,{user:t.user});case"FETCH_SINGLE_USER_PENDING":return Object(u.a)({},e,{fetchingSingleUser:!0});case"FETCH_SINGLE_USER_FULFILLED":return Object(u.a)({},e,{fetchingSingleUser:!1,fetchedSingleUser:!0,singleUser:t.user[0]});case"FETCH_SINGLE_USER_REJECTED":return Object(u.a)({},e,{fetchingSingleUser:!1,fetchedSingleUser:!1});case"AUTH_LOGOUT":return Object(u.a)({},e,{user:{countries:[]}});default:return e}}});var y=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d)(Object(c.a)(s.a)),k=Object(c.e)(R,y),C=a(6),b=a(7),T=a(9),O=a(8),v=a(10),_=(a(229),a(505)),S=a(507),P=function(){return{type:"REMOVE_ERROR"}},M=a(26),L=a.n(M),j=function(){var e=localStorage.getItem("token");return function(t){t({type:"FETCH_USER_PENDING"}),L.a.get("".concat("http://localhost:8000","/api/v1/rest-auth/user/"),{headers:{Authorization:"Token ".concat(e)}}).then(function(e){var a=e.data;t(function(e){return{type:"FETCH_USER_FULFILLED",user:e}}(a))}).catch(function(e){t({type:"FETCH_USER_REJECTED"}),t({type:"ADD_ERROR",error:e})})}},N=function(e,t,a,n,r,o){var l=localStorage.getItem("token");return function(i){L.a.put("".concat("http://localhost:8000","/api/v1/rest-auth/user/"),{username:e,email:t,countries:a,home:n,biography:r},{headers:{Authorization:"Token ".concat(l)}}).then(function(e){var t=e.data;i(function(e){return{type:"PUT_USER_DATA_FULFILLED",user:e}}(t)),i({type:"ADD_SUCCESS",success:o})}).catch(function(e){i({type:"PUT_USER_DATA_REJECTED"}),i({type:"ADD_ERROR",error:e})})}},D=function(e){return function(t){t({type:"FETCH_SINGLE_USER_PENDING"}),L.a.get("".concat("http://localhost:8000","/api/v1/users/?search=").concat(e)).then(function(e){var a=e.data;t(function(e){return{type:"FETCH_SINGLE_USER_FULFILLED",user:e}}(a))}).catch(function(e){t({type:"FETCH_SINGLE_USER_REJECTED"}),t({type:"ADD_ERROR",error:e})})}},I=a(17),w=a.n(I),A=a(44),U=a.n(A),F=function(e){var t=null;return t=e.error.response?Object.keys(e.error.response.data).map(function(t){return r.a.createElement("p",{key:t},t.charAt(0).toUpperCase()+t.slice(1)," - ",e.error.response.data[t])}):e.error.message,r.a.createElement("div",{className:"error-message"},r.a.createElement(w.a,{style:{float:"right"},onClick:e.removeError},r.a.createElement(U.a,null)),r.a.createElement("div",{style:{width:48,height:48,float:"left"}}),t)},x=a(504),H=a(11),G=a.n(H),B=a(203),z=a.n(B),J=a(204),W=a.n(J),Y=a(206),X=a.n(Y),K=a(207),V=a.n(K),q=a(205),Q=a.n(q),Z=a(49),$=a.n(Z),ee=function(e){return r.a.createElement("div",{style:{backgroundColor:"#ffffff"}},r.a.createElement(z.a,{color:"inherit",position:"static"},r.a.createElement(W.a,{style:{padding:0}},r.a.createElement(G.a,{style:{flex:1,justifyContent:"left",minWidth:90,backgroundColor:"transparent"},component:x.a,to:"/",color:"inherit"},"Wanderlist"),r.a.createElement($.a,{title:"Trip Report Feed"},r.a.createElement(G.a,{component:x.a,to:"/feed",color:"inherit"},r.a.createElement(Q.a,null))),r.a.createElement($.a,{title:"Search for Countries"},r.a.createElement(G.a,{component:x.a,to:"/search",color:"inherit"},r.a.createElement(X.a,null))),r.a.createElement($.a,{title:"My Profile"},r.a.createElement(G.a,{component:x.a,to:"/edit_profile",color:"inherit"},r.a.createElement(V.a,null))),e.authenticated?r.a.createElement(G.a,{component:x.a,to:"/logout",color:"inherit"},"Logout"):r.a.createElement(G.a,{component:x.a,to:"/login",color:"inherit"},"Login"))))},te=a(107),ae=a(506),ne=function(e){var t=e.component,a=e.authenticated,n=Object(te.a)(e,["component","authenticated"]);return r.a.createElement(S.a,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(ae.a,{to:{pathname:"/login"}})}}))},re=function(e){return r.a.createElement("div",{className:"success-message"},r.a.createElement(w.a,{style:{float:"right",padding:"0 auto"},onClick:e.removeError},r.a.createElement(U.a,null)),r.a.createElement("div",{style:{width:48,height:48,float:"left"}}),e.success&&r.a.createElement("p",null,e.success))},oe=function(e){return{type:"OPEN_COUNTRY_MODAL",modalCountry:e}},le=function(){return{type:"CLOSE_COUNTRY_MODAL"}},ie=function(e){return{type:"OPEN_EDIT_PROFILE_MODAL",modalProfile:e}},ce=function(){return{type:"CLOSE_EDIT_PROFILE_MODAL"}},se=function(){return{type:"OPEN_POST_MODAL"}},ue=function(e){return{type:"OPEN_UPDATE_POST_MODAL",modalPost:e}},pe=function(){return{type:"CLOSE_POST_MODAL"}},me=function(e){return{type:"OPEN_CONFIRM_DELETE_MODAL",modalPost:e}},de=function(){return{type:"CLOSE_CONFIRM_DELETE_MODAL"}},he=function(e){return{type:"OPEN_TRIP_REPORT_MODAL",modalPost:e}},Ee=function(){return{type:"CLOSE_TRIP_REPORT_MODAL"}},fe=function(){return{type:"OPEN_NOT_AUTH_MODAL"}},ge=function(){return{type:"CLOSE_NOT_AUTH_MODAL"}},Re=function(e){return{type:"OPEN_COPY_LINK_MODAL",modalLink:e}},ye=function(){return{type:"CLOSE_COPY_LINK_MODAL"}},ke=function(e){return{type:"OPEN_IMAGE_MODAL",modalImage:e}},Ce=function(){return{type:"CLOSE_IMAGE_MODAL"}},be=function(e){return function(t){return t({type:"FETCH_COUNTRY_PENDING"}),L.a.get("".concat("http://localhost:8000","/api/v1/countries/?search=").concat(e)).then(function(e){var a=e.data;t(function(e){return{type:"FETCH_COUNTRY_FULFILLED",country:e}}(a))}).catch(function(e){t({type:"FETCH_COUNTRY_REJECTED"}),t({type:"ADD_ERROR",error:e})})}};L.a.defaults.xsrfCookieName="csrftoken",L.a.defaults.xsrfHeaderName="X-CSRFToken";var Te=function(e){return function(t){t({type:"FETCH_TRIP_REPORTS_PENDING"}),L.a.get(e).then(function(e){var a=e.data;t(function(e){return{type:"FETCH_TRIP_REPORTS_FULFILLED",tripReports:e}}(a))}).catch(function(e){t({type:"FETCH_TRIP_REPORTS_REJECTED"}),t({type:"ADD_ERROR",error:e})})}},Oe=function(e){return function(t){t({type:"FETCH_NEXT_TRIP_REPORTS_PENDING"}),L.a.get(e).then(function(e){var a=e.data;t(function(e){return{type:"FETCH_NEXT_TRIP_REPORTS_FULFILLED",tripReports:e}}(a))}).catch(function(e){t({type:"FETCH_NEXT_TRIP_REPORTS_REJECTED"}),t({type:"ADD_ERROR",error:e})})}},ve=function(e){return function(t){t({type:"FETCH_USER_TRIP_REPORTS_PENDING"}),L.a.get("".concat("http://localhost:8000","/api/v1/reports/?ordering=-pk&search=").concat(e)).then(function(e){var a=e.data;t(function(e){return{type:"FETCH_USER_TRIP_REPORTS_FULFILLED",tripReports:e}}(a))}).catch(function(e){t({type:"FETCH_USER_TRIP_REPORTS_REJECTED"}),t({type:"ADD_ERROR",error:e})})}},_e=function(e){return function(t){t({type:"FETCH_NEXT_USER_TRIP_REPORTS_PENDING"}),L.a.get(e).then(function(e){var a=e.data;t(function(e){return{type:"FETCH_NEXT_USER_TRIP_REPORTS_FULFILLED",tripReports:e}}(a))}).catch(function(e){t({type:"FETCH_NEXT_USER_TRIP_REPORTS_REJECTED"}),t({type:"ADD_ERROR",error:e})})}},Se=function(e,t,a,n,r){var o=localStorage.getItem("token");return function(l){l({type:"POST_TRIP_REPORTS_PENDING"});var i=new FormData;i.append("title",t),i.append("content",a),i.append("author",e),i.append("countries",n),r&&i.append("image",r),L.a.post("".concat("http://localhost:8000","/api/v1/reports/"),i,{headers:{Authorization:"Token ".concat(o)}}).then(function(e){l(function(e){return{type:"POST_TRIP_REPORTS_FULFILLED",response:e}}(e.data))}).catch(function(e){l({type:"POST_TRIP_REPORTS_REJECTED"}),l({type:"ADD_ERROR",error:e})})}},Pe=function(e){var t=localStorage.getItem("token");return function(a){a({type:"DELETE_TRIP_REPORTS_PENDING"}),L.a.delete("".concat("http://localhost:8000","/api/v1/reports/").concat(e.id,"/"),{headers:{"X-Requested-With":"XMLHttpRequest","X-CSRFToken":"csrftoken",Authorization:"Token ".concat(t)}}).then(function(t){a(function(e){return{type:"DELETE_TRIP_REPORTS_FULFILLED",response:e}}(e)),a({type:"ADD_SUCCESS",success:"Your post has been deleted."})}).catch(function(e){a({type:"DELETE_TRIP_REPORTS_REJECTED"}),a({type:"ADD_ERROR",error:e})})}},Me=function(e,t,a,n,r,o){var l=localStorage.getItem("token");return function(i){i({type:"UPDATE_TRIP_REPORTS_PENDING"});var c=new FormData;c.append("title",a),c.append("content",n),c.append("author",t),c.append("countries",r),o&&c.append("image",o),L.a.patch("".concat("http://localhost:8000","/api/v1/reports/").concat(e,"/"),c,{headers:{"X-Requested-With":"XMLHttpRequest","X-CSRFToken":"csrftoken",Authorization:"Token ".concat(l)}}).then(function(e){i(function(e){return{type:"UPDATE_TRIP_REPORTS_FULFILLED",response:e}}(e.data)),i({type:"ADD_SUCCESS",success:"Your post has been updated."})}).catch(function(e){i({type:"UPDATE_TRIP_REPORTS_REJECTED"}),i({type:"ADD_ERROR",error:e})})}},Le=function(e){return function(t){t({type:"FETCH_SLUG_TRIP_REPORTS_PENDING"}),L.a.get("".concat("http://localhost:8000","/api/v1/reports/?search=").concat(e)).then(function(e){var a=e.data;t(function(e){return{type:"FETCH_SLUG_TRIP_REPORTS_FULFILLED",tripReports:e}}(a))}).catch(function(e){t({type:"FETCH_SLUG_TRIP_REPORTS_REJECTED"}),t({type:"ADD_ERROR",error:e})})}},je=function(e){return function(t){t({type:"FETCH_FEATURED_TRIP_REPORT_PENDING"}),L.a.get("".concat("http://localhost:8000","/api/v1/reports/?search=").concat(e)).then(function(e){var a=e.data;t(function(e){return{type:"FETCH_FEATURED_TRIP_REPORT_FULFILLED",tripReport:e}}(a))}).catch(function(e){t({type:"FETCH_FEATURED_TRIP_REPORT_REJECTED"}),t({type:"ADD_ERROR",error:e})})}},Ne=function(e){return function(t){var a=localStorage.getItem("token");L.a.get("".concat("http://localhost:8000","/api/v1/reports/").concat(e,"/favorite/"),{headers:{Authorization:"Token ".concat(a)}}).then(function(e){t(function(e){return{type:"TOGGLE_FAVORITE_FULFILLED",response:e}}(e.data))}).catch(function(e){t({type:"TOGGLE_FAVORITE_REJECTED"}),t({type:"ADD_ERROR",error:e})})}},De=a(59),Ie=Object(De.GoogleApiWrapper)({apiKey:"AIzaSyB1CU7TQMRtQDPFXt3MQNKQ4a_hq_KI3jc"})(function(e){var t=e.userCountries.map(function(t){return r.a.createElement(De.Marker,{key:t.id,onClick:function(){return e.openCountryModal(t)},name:t.name,position:{lat:t.latlng[0],lng:t.latlng[1]}})});return r.a.createElement("div",{className:"map"},r.a.createElement(De.Map,{options:{gestureHandling:"coopertive"},style:{position:"relative",display:"flex",width:"95%",height:"95%",border:"1px solid black",margin:"0 auto"},google:e.google,zoom:2},t))}),we=a(43),Ae=a(20),Ue=a.n(Ae),Fe=a(27),xe=a.n(Fe),He=a(52),Ge=a.n(He),Be=a(50),ze=a.n(Be),Je=a(51),We=a.n(Je),Ye=a(45),Xe=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(we.a)({},e.target.name,e.target.value))},a.state={country:e.user.home.id},a}return Object(v.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=Object(E.a)(Ye).sort(function(e,t){return e.name>t.name}).map(function(e){return r.a.createElement(xe.a,{key:e.pk,value:e.pk},e.name)});return r.a.createElement("form",{onSubmit:this.props.handleSubmit},r.a.createElement(Ue.a,{className:"user-auth",type:"text",label:"Username",name:"username",defaultValue:this.props.user.username}),r.a.createElement("br",null),r.a.createElement(Ue.a,{className:"user-auth",type:"text",label:"Email",name:"email",defaultValue:this.props.user.email}),r.a.createElement("br",null),r.a.createElement(Ue.a,{multiline:!0,className:"user-auth",type:"text",label:"Biography",name:"biography",defaultValue:this.props.user.biography}),r.a.createElement("br",null),r.a.createElement(We.a,null,r.a.createElement(ze.a,{htmlFor:"countries"},"Home Country"),r.a.createElement(Ge.a,{style:{textAlign:"left"},className:"user-auth",name:"country",onChange:this.handleChange,value:this.state.country},t)),r.a.createElement("br",null),r.a.createElement(G.a,{variant:"contained",color:"primary",type:"submit"},"Update"),r.a.createElement(G.a,{onClick:function(){return e.props.closeEditProfileModal()},color:"secondary"},"Cancel"))}}]),t}(r.a.Component),Ke=a(46),Ve=a.n(Ke),qe=a(47),Qe=a.n(qe),Ze=function(e){return r.a.createElement(Ve.a,{onClose:e.closeEditProfileModal,open:e.showEditProfileModal},r.a.createElement(Qe.a,null,r.a.createElement(Xe,e)))},$e=a(38),et=a.n($e),tt=a(37),at=a.n(tt),nt=a(82),rt=a.n(nt),ot=a(73),lt=a.n(ot),it=a(74),ct=a.n(it),st=a(209),ut=a.n(st),pt=a(210),mt=a.n(pt),dt=a(208),ht=a.n(dt),Et=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},a.handleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a}return Object(v.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=this.state.anchorEl;return r.a.createElement(et.a,{style:{width:300,height:300}},r.a.createElement(at.a,{title:this.props.tripReport.title,action:r.a.createElement(w.a,{onClick:this.handleClick,"aria-owns":t?"simple-menu":void 0,"aria-haspopup":"true"},r.a.createElement(lt.a,null))}),r.a.createElement(ct.a,{id:"simple-menu",anchorEl:t,open:Boolean(t),onClose:this.handleClose},r.a.createElement(xe.a,{onClick:function(){e.handleClose(),e.props.openTripReportModal(e.props.tripReport)}},r.a.createElement(ht.a,null)),"/edit_profile"===this.props.match.path&&r.a.createElement(xe.a,{onClick:function(){e.handleClose(),e.props.openUpdatePostModal(e.props.tripReport)}},r.a.createElement(ut.a,null)),"/edit_profile"===this.props.match.path&&r.a.createElement(xe.a,{onClick:function(){e.handleClose(),e.props.openConfirmDeleteModal(e.props.tripReport)}},r.a.createElement(mt.a,null))),this.props.tripReport.image?r.a.createElement(rt.a,{component:"img",src:this.props.tripReport.image,alt:""}):r.a.createElement(rt.a,{component:"img",src:Object(E.a)(this.props.tripReport.countries).sort(function(e,t){return e.name>t.name})[0].flag,alt:""}))}}]),t}(n.Component),ft=a(53),gt=a.n(ft),Rt=a(34),yt=a.n(Rt);gt.a.setAppElement("body");var kt=Object(De.GoogleApiWrapper)({apiKey:"AIzaSyB1CU7TQMRtQDPFXt3MQNKQ4a_hq_KI3jc"})(function(e){return r.a.createElement(gt.a,{isOpen:e.showCountryModal},r.a.createElement(w.a,{style:{float:"right"},onClick:e.closeCountryModal},r.a.createElement(U.a,null)),r.a.createElement("div",{style:{width:48,height:48,float:"left"}}),r.a.createElement("div",{className:"wrap"},r.a.createElement("div",{className:"left"},r.a.createElement(yt.a,{variant:"h4",gutterBottom:!0},e.modalCountry.name),r.a.createElement("div",null,r.a.createElement("img",{className:"flag",src:e.modalCountry.flag,alt:""}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{style:{maxWidth:400,height:300,position:"relative",margin:"auto"}},e.modalCountry.latlng&&r.a.createElement(De.Map,{options:{gestureHandling:"coopertive"},style:{width:"100%",height:"75%",border:"1px solid black",margin:"0 auto",position:"relative"},google:e.google,zoom:4,initialCenter:{lat:e.modalCountry.latlng[0],lng:e.modalCountry.latlng[1]}},r.a.createElement(De.Marker,{name:e.modalCountry.name,position:{lat:e.modalCountry.latlng[0],lng:e.modalCountry.latlng[1]}}))))),r.a.createElement("div",{className:"right"},r.a.createElement(yt.a,{variant:"h4",gutterBottom:!0},"Geographic & Political Info"),r.a.createElement("div",{className:"modal-detail"},r.a.createElement(yt.a,{variant:"subtitle1",gutterBottom:!0},e.modalCountry.native_name&&r.a.createElement("div",null,r.a.createElement("strong",null,"Native Name"),": ",e.modalCountry.native_name),e.modalCountry.alt_spellings&&r.a.createElement("div",null,r.a.createElement("strong",null,"Alternate Spellings"),": ",e.modalCountry.alt_spellings.join(", ")),e.modalCountry.capital&&r.a.createElement("div",null,r.a.createElement("strong",null,"Capital"),": ",e.modalCountry.capital),e.modalCountry.demonym&&r.a.createElement("div",null,r.a.createElement("strong",null,"Demonym"),": ",e.modalCountry.demonym),e.modalCountry.languages&&r.a.createElement("div",null,r.a.createElement("strong",null,"Languages"),": ",e.modalCountry.languages&&e.modalCountry.languages.map(function(e){return e.name}).join(", ")),e.modalCountry.region&&r.a.createElement("div",null,r.a.createElement("strong",null,"Region"),": ",e.modalCountry.region),e.modalCountry.subregion&&r.a.createElement("div",null,r.a.createElement("strong",null,"SubRegion"),": ",e.modalCountry.subregion),e.modalCountry.borders&&r.a.createElement("div",null,r.a.createElement("strong",null,"Borders"),": ",e.modalCountry.borders&&e.modalCountry.borders.join(", ")),e.modalCountry.regional_blocs&&r.a.createElement("div",null,r.a.createElement("strong",null,"Regional Trade Blocs"),": ",e.modalCountry.regional_blocs&&e.modalCountry.regional_blocs.map(function(e){return e.name}).join(", ")),e.modalCountry.population&&r.a.createElement("div",null,r.a.createElement("strong",null,"Population"),": ",e.modalCountry.population),e.modalCountry.area&&r.a.createElement("div",null,r.a.createElement("strong",null,"Area"),": ",e.modalCountry.area," km\xb2"),e.modalCountry.latlng&&r.a.createElement("div",null,r.a.createElement("strong",null,"Latitude & Longitude"),": ",e.modalCountry.latlng&&e.modalCountry.latlng.join(", ")),e.modalCountry.timezones&&r.a.createElement("div",null,r.a.createElement("strong",null,"Timezone(s)"),": ",e.modalCountry.timezones&&e.modalCountry.timezones.join(", ")),e.modalCountry.top_level_domain&&r.a.createElement("div",null,r.a.createElement("strong",null,"Top Level Domain(s)"),": ",e.modalCountry.top_level_domain&&e.modalCountry.top_level_domain.join(", ")),e.modalCountry.alpha2code&&r.a.createElement("div",null,r.a.createElement("strong",null,"ISO ALPHA-2"),": ",e.modalCountry.alpha2code),e.modalCountry.alpha3code&&r.a.createElement("div",null,r.a.createElement("strong",null,"ISO ALPHA-3"),": ",e.modalCountry.alpha3code),e.modalCountry.gini&&r.a.createElement("div",null,r.a.createElement("strong",null,"Gini Coefficient"),": ",e.modalCountry.gini),e.modalCountry.numeric_code&&r.a.createElement("div",null,r.a.createElement("strong",null,"Numeric Code"),": ",e.modalCountry.numeric_code),e.modalCountry.calling_codes&&r.a.createElement("div",null,r.a.createElement("strong",null,"Calling Code(s)"),": ",e.modalCountry.calling_codes&&e.modalCountry.calling_codes.join(", ")),e.modalCountry.cioc&&r.a.createElement("div",null,r.a.createElement("strong",null,"CIOC"),": ",e.modalCountry.cioc))))),r.a.createElement("br",null))}),Ct=function(e){return r.a.createElement(Ve.a,{onClose:e.closeImageModal,open:e.showImageModal},r.a.createElement(Qe.a,{style:{padding:0}},r.a.createElement("img",{src:e.modalImage,alt:""})))},bt=a(40),Tt=a.n(bt),Ot=a(102),vt=a.n(Ot),_t=a(48),St=a.n(_t),Pt=a(103),Mt=a.n(Pt),Lt=a(104),jt=a.n(Lt),Nt=a(105),Dt=a.n(Nt),It=a(101),wt=a.n(It),At=function(e){var t=Object(E.a)(e.countries).sort(function(e,t){return e.name>t.name}).map(function(t){return r.a.createElement(G.a,{onClick:function(){return e.openCountryModal(t)},size:"small",key:t.id},t.name)});return r.a.createElement(et.a,{style:{margin:"0 auto",width:"90%"}},e.image?r.a.createElement(at.a,{style:{marginRight:24},title:e.title,subheader:r.a.createElement(x.a,{style:{textDecoration:"none",color:"gray"},to:"/u/".concat(e.author.username,"/")},e.author.username),action:r.a.createElement(w.a,{onClick:function(){return e.openImageModal(e.image)}},r.a.createElement(wt.a,null)),avatar:r.a.createElement(St.a,{src:e.author.home.flag})}):r.a.createElement(at.a,{style:{marginRight:56},title:e.title,subheader:r.a.createElement(x.a,{style:{textDecoration:"none",color:"gray"},to:"/u/".concat(e.author.username,"/")},e.author.username),avatar:r.a.createElement(St.a,{src:e.author.home.flag})}),r.a.createElement(Tt.a,null,r.a.createElement(yt.a,{component:"p"},e.content),r.a.createElement("br",null),r.a.createElement("hr",null),t),r.a.createElement(vt.a,null,e.favoriters.includes(e.pk)?r.a.createElement(w.a,{onClick:e.handleClick,id:e.id},r.a.createElement(Mt.a,null)):r.a.createElement(w.a,{onClick:function(t){return e.authenticated?e.handleClick(t):e.openNotAuthModal()},id:e.id},r.a.createElement(jt.a,null)),r.a.createElement(w.a,{onClick:function(){return e.openCopyLinkModal(e.slug)}},r.a.createElement(Dt.a,null))))};gt.a.setAppElement("body");var Ut=function(e){return r.a.createElement(gt.a,{isOpen:e.showTripReportModal},r.a.createElement(kt,e),r.a.createElement(Ct,e),r.a.createElement(w.a,{style:{float:"right"},onClick:e.closeTripReportModal},r.a.createElement(U.a,null)),r.a.createElement("br",null),r.a.createElement("div",{className:"content"},r.a.createElement(At,Object.assign({},e.modalPost,{handleClick:e.handleClick},e))))},Ft=a(75),xt=a.n(Ft),Ht=a(106),Gt=a.n(Ht),Bt=function(e){return r.a.createElement(Ve.a,{onClose:e.closeConfirmDeleteModal,open:e.showConfirmDeleteModal},r.a.createElement(Qe.a,null,r.a.createElement(Gt.a,null,"Are you sure you want to delete this Trip Report?"),r.a.createElement(xt.a,null,r.a.createElement(G.a,{onClick:function(){e.closeConfirmDeleteModal(),e.deleteTripReport(e.modalPost)},color:"primary",variant:"contained"},"Delete"),r.a.createElement(G.a,{onClick:function(){return e.closeConfirmDeleteModal()},color:"secondary"},"Cancel"))))},zt=function(e){return r.a.createElement(Ve.a,{onClose:e.closeCopyLinkModal,open:e.showCopyLinkModal},r.a.createElement(Qe.a,null,r.a.createElement(Ue.a,{className:"user-auth",type:"text",name:"link",defaultValue:"".concat("http://localhost:8000","/p/").concat(e.modalLink,"/")}),r.a.createElement(xt.a,null,r.a.createElement(G.a,{onClick:function(){return e.closeCopyLinkModal()},variant:"contained",color:"primary"},"Close"))))},Jt=function(e){function t(){var e;return Object(C.a)(this,t),(e=Object(T.a)(this,Object(O.a)(t).call(this))).handleChange=function(t){e.setState(Object(we.a)({},t.target.name,t.target.value))},e.state={countries:[]},e}return Object(v.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=Object(E.a)(Ye).sort(function(e,t){return e.name>t.name}).map(function(e){return r.a.createElement(xe.a,{key:e.pk,value:e.pk},e.name)});return r.a.createElement("form",{onSubmit:this.props.handleSubmit},r.a.createElement(Ue.a,{className:"user-auth",type:"text",name:"title",label:"Title"}),r.a.createElement("br",null),r.a.createElement(Ue.a,{multiline:!0,fullWidth:!0,className:"user-auth",type:"text",name:"content",label:"Content"}),r.a.createElement("br",null),r.a.createElement(We.a,null,r.a.createElement(ze.a,{htmlFor:"countries"},"Countries"),r.a.createElement(Ge.a,{style:{textAlign:"left"},className:"user-auth",name:"countries",onChange:this.handleChange,value:this.state.countries},e)),r.a.createElement("br",null),r.a.createElement("input",{name:"image",accept:"image/*",id:"flat-button-file",multiple:!1,type:"file"}),r.a.createElement("br",null),r.a.createElement(G.a,{style:{marginTop:10},variant:"contained",color:"primary",type:"submit"},"Post"))}}]),t}(n.Component),Wt=function(e){function t(e){var a;Object(C.a)(this,t),(a=Object(T.a)(this,Object(O.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(we.a)({},e.target.name,e.target.value))};var n=e.modalPost.countries.map(function(e){return e.id});return a.state={title:e.modalPost.title,content:e.modalPost.content,countries:n},a}return Object(v.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=Object(E.a)(Ye).sort(function(e,t){return e.name>t.name}).map(function(e){return r.a.createElement(xe.a,{key:e.pk,value:e.pk},e.name)});return r.a.createElement("form",{onSubmit:this.props.handleSubmit},r.a.createElement(Ue.a,{className:"user-auth",type:"text",name:"title",label:"Title",onChange:this.handleChange,value:this.state.title}),r.a.createElement("br",null),r.a.createElement(Ue.a,{multiline:!0,fullWidth:!0,className:"user-auth",type:"text",name:"content",label:"Content",onChange:this.handleChange,value:this.state.content}),r.a.createElement("br",null),r.a.createElement(We.a,null,r.a.createElement(ze.a,{htmlFor:"countries"},"Countries"),r.a.createElement(Ge.a,{style:{textAlign:"left"},className:"user-auth",name:"countries",onChange:this.handleChange,value:this.state.countries},e)),r.a.createElement("br",null),r.a.createElement("input",{name:"image",accept:"image/*",id:"flat-button-file",multiple:!1,type:"file"}),r.a.createElement("br",null),r.a.createElement(G.a,{style:{marginTop:10},variant:"contained",color:"primary",type:"submit"},"Update"))}}]),t}(n.Component);gt.a.setAppElement("body");var Yt=function(e){return r.a.createElement(gt.a,{isOpen:e.showPostModal},r.a.createElement(w.a,{style:{float:"right"},onClick:e.closePostModal},r.a.createElement(U.a,null)),r.a.createElement("div",{style:{width:48,height:48,float:"left"}}),e.updatePostModal?r.a.createElement(Wt,Object.assign({},e,{modalPost:e.modalPost,handleSubmit:e.handleUpdateSubmit})):r.a.createElement(Jt,Object.assign({},e,{handleSubmit:e.handlePostSubmit})))},Xt=a(29),Kt=a(76),Vt=a.n(Kt),qt=a(212),Qt=a.n(qt),Zt=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).onScroll=function(){var e=document.getElementById("scroll");a.isBottom(e)&&a.props.next&&!a.props.fetchingUserNext&&!a.props.fetchingTripReports&&a.props.fetchNextUserTripReports(a.props.next)},a.handlePostSubmit=function(e){var t;e.preventDefault(),""!==e.target.countries.value&&(t=e.target.countries.value.split(",").map(Number)),a.props.postTripReport(a.props.user.pk,e.target.title.value,e.target.content.value,t,e.target.image.files[0]),a.props.closePostModal()},a.handleUpdateSubmit=function(e){var t;e.preventDefault(),""!==e.target.countries.value&&(t=e.target.countries.value.split(",").map(Number)),a.props.updateTripReport(a.props.modalPost.id,a.props.user.pk,e.target.title.value,e.target.content.value,t,e.target.image.files[0]),a.props.closePostModal()},a.handleSubmit=function(e){e.preventDefault();var t=a.props.userCountries.map(function(e){return e.id});a.props.putUserData(e.target.username.value,e.target.email.value,t,Number(e.target.country.value),e.target.biography.value,"Your profile has been updated."),a.props.closeEditProfileModal()},a.handleClick=function(e){e.preventDefault(),a.props.toggleFavorite(e.currentTarget.id)},a}return Object(v.a)(t,e),Object(b.a)(t,[{key:"isBottom",value:function(e){return e.getBoundingClientRect().bottom<=window.innerHeight}},{key:"componentDidMount",value:function(){this.props.fetchUserTripReports(localStorage.getItem("username")),document.addEventListener("scroll",this.onScroll)}},{key:"componentWillUnmount",value:function(){this.props.removeError(),document.removeEventListener("scroll",this.onScroll)}},{key:"render",value:function(){var e=this,t=null;return this.props.tripReports&&(t=this.props.tripReports.map(function(t){return r.a.createElement(Vt.a,{item:!0,key:t.id},r.a.createElement(Et,Object.assign({tripReport:t},e.props)))})),r.a.createElement("div",{id:"scroll",className:"content"},r.a.createElement(zt,this.props),this.props.fetched&&r.a.createElement(kt,this.props),r.a.createElement(Ze,Object.assign({handleSubmit:this.handleSubmit},this.props)),r.a.createElement(Yt,Object.assign({},this.props,{handlePostSubmit:this.handlePostSubmit,handleUpdateSubmit:this.handleUpdateSubmit})),r.a.createElement(Bt,this.props),this.props.modalPost.author&&r.a.createElement(Ut,Object.assign({handleClick:this.handleClick},this.props)),r.a.createElement("div",{className:"wrap",style:{marginBottom:60}},r.a.createElement("div",{className:"left",style:{width:"37%"}},this.props.user.home&&r.a.createElement(St.a,{style:{width:150,height:150,margin:"0 auto"},src:this.props.user.home.flag})),r.a.createElement("div",{className:"right",style:{textAlign:"left",width:"63%",padding:10}},r.a.createElement("div",{style:{height:40}},r.a.createElement(yt.a,{variant:"h4",gutterBottom:!0},this.props.user.username)),r.a.createElement("br",null),r.a.createElement("div",{style:{height:40}},r.a.createElement(G.a,{size:"small",variant:"outlined",onClick:function(){return e.props.openEditProfileModal(e.props.user)}},"Edit Profile")),r.a.createElement("br",null),r.a.createElement("div",{style:{height:40}},this.props.user.biography))),r.a.createElement("hr",{style:{width:"85%",size:1}}),this.props.fetched&&r.a.createElement(Ie,this.props),r.a.createElement("hr",{style:{width:"85%",size:1}}),r.a.createElement("div",{className:""},r.a.createElement($.a,{title:"New Trip Report"},r.a.createElement(w.a,{variant:"contained","aria-label":"New Trip Report",onClick:this.props.openPostModal},r.a.createElement(Qt.a,null))),this.props.posting&&r.a.createElement("div",null,r.a.createElement(Xt.DotLoader,{size:50,color:"#2196f3",className:"content"}),r.a.createElement("br",null)),this.props.updating&&r.a.createElement("div",null,r.a.createElement(Xt.DotLoader,{size:50,color:"#2196f3",className:"content"}),r.a.createElement("br",null)),this.props.fetchingTripReports&&r.a.createElement("div",null,r.a.createElement(Xt.DotLoader,{size:50,color:"#2196f3",className:"content"})),this.props.fetchedTripReports&&r.a.createElement(Vt.a,{container:!0,spacing:24,justify:"center"},t),r.a.createElement("div",{style:{height:15}}),this.props.fetchingUserNext&&r.a.createElement(Xt.DotLoader,{size:50,color:"#2196f3",className:"content"})))}}]),t}(n.Component),$t=Object(i.b)(function(e){return{pk:e.user.user.pk,authenticated:e.auth.authenticated,user:e.user.user,next:e.tripReport.userTripReports.next,fetched:e.user.fetched,fetchingUserNext:e.tripReport.fetchingUserNext,searchedCountry:e.country.country,showEditProfileModal:e.modal.showEditProfileModal,modalProfile:e.modal.modalProfile,userCountries:e.user.user.countries,showCountryModal:e.modal.showCountryModal,modalCountry:e.modal.modalCountry,showPostModal:e.modal.showPostModal,fetchingTripReports:e.tripReport.fetchingTripReports,fetchedTripReports:e.tripReport.fetchedTripReports,tripReports:e.tripReport.userTripReports.results,updatePostModal:e.modal.updatePostModal,modalPost:e.modal.modalPost,showConfirmDeleteModal:e.modal.showConfirmDeleteModal,showTripReportModal:e.modal.showTripReportModal,showCopyLinkModal:e.modal.showCopyLinkModal,modalLink:e.modal.modalLink,posting:e.tripReport.posting,updating:e.tripReport.updating,showImageModal:e.modal.showImageModal,modalImage:e.modal.modalImage}},function(e){return Object(c.b)({fetchCountry:be,putUserData:N,openEditProfileModal:ie,closeEditProfileModal:ce,openCountryModal:oe,closeCountryModal:le,removeError:P,fetchUserTripReports:ve,postTripReport:Se,deleteTripReport:Pe,updateTripReport:Me,openPostModal:se,closePostModal:pe,openUpdatePostModal:ue,openConfirmDeleteModal:me,closeConfirmDeleteModal:de,openTripReportModal:he,closeTripReportModal:Ee,fetchNextUserTripReports:_e,toggleFavorite:Ne,openCopyLinkModal:Re,closeCopyLinkModal:ye,openImageModal:ke,closeImageModal:Ce},e)})(Zt),ea=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},a.handleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a}return Object(v.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=this.state.anchorEl;return r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement(w.a,{onClick:this.handleClick,"aria-owns":t?"simple-menu":void 0,"aria-haspopup":"true"},r.a.createElement(lt.a,null)),r.a.createElement(ct.a,{id:"simple-menu",anchorEl:t,open:Boolean(t),onClose:this.handleClose},r.a.createElement(xe.a,{style:{background:"transparent"}},r.a.createElement("form",{onSubmit:function(t){e.handleClose(),e.props.handleSubmit(t)}},r.a.createElement(Ue.a,{style:{maxWidth:250},type:"text",name:"filter",placeholder:"Author or Country"}),r.a.createElement(G.a,{variant:"contained",color:"primary",size:"small",type:"submit"},"Filter"))),r.a.createElement(xe.a,{onClick:function(){e.handleClose(),e.props.handleTopClick()}},"Top"),r.a.createElement(xe.a,{onClick:function(){e.handleClose(),e.props.handleNewestClick()}},"Newest")))}}]),t}(n.Component),ta=function(e){return r.a.createElement(Ve.a,{onClose:e.closeNotAuthModal,open:e.showNotAuthModal},r.a.createElement(Qe.a,null,r.a.createElement(Gt.a,null,"You must be logged in to do that."),r.a.createElement(xt.a,null,r.a.createElement(G.a,{onClick:function(){return e.closeNotAuthModal()},variant:"contained",color:"primary"},"Close"))))},aa=a(140),na=a.n(aa),ra=a(213),oa=a.n(ra),la=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={expanded:!1},a.handleExpandClick=function(){a.setState(function(e){return{expanded:!e.expanded}})},a}return Object(v.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=this.props.content.split("\n"),a=Object(E.a)(this.props.countries).sort(function(e,t){return e.name>t.name}).map(function(t){return r.a.createElement(G.a,{onClick:function(){return e.props.openCountryModal(t)},size:"small",key:t.id},t.name)});return r.a.createElement(et.a,{style:{margin:"0 auto",width:"90%"}},this.props.image?r.a.createElement(at.a,{style:{marginRight:24},title:this.props.title,subheader:r.a.createElement(x.a,{style:{textDecoration:"none",color:"gray"},to:"/u/".concat(this.props.author.username,"/")},this.props.author.username),action:r.a.createElement(w.a,{onClick:function(){return e.props.openImageModal(e.props.image)}},r.a.createElement(wt.a,null)),avatar:r.a.createElement(St.a,{src:this.props.author.home.flag})}):r.a.createElement(at.a,{style:{marginRight:56},title:this.props.title,subheader:r.a.createElement(x.a,{style:{textDecoration:"none",color:"gray"},to:"/u/".concat(this.props.author.username,"/")},this.props.author.username),avatar:r.a.createElement(St.a,{src:this.props.author.home.flag})}),r.a.createElement(Tt.a,null,r.a.createElement(yt.a,{component:"p"},t[0])),r.a.createElement(oa.a,{in:this.state.expanded,timeout:"auto",unmountOnExit:!0},r.a.createElement(Tt.a,null,r.a.createElement(yt.a,{component:"p"},-1!==this.props.content.indexOf("\n")&&this.props.content.substring(this.props.content.indexOf("\n")+2)))),r.a.createElement(Tt.a,null,r.a.createElement("hr",null),a),r.a.createElement(vt.a,{style:{display:"flex"},disableActionSpacing:!0},this.props.favoriters.includes(this.props.pk)?r.a.createElement(w.a,{onClick:this.props.handleClick,id:this.props.id},r.a.createElement(Mt.a,null)):r.a.createElement(w.a,{onClick:function(t){return e.props.authenticated?e.props.handleClick(t):e.props.openNotAuthModal()},id:this.props.id},r.a.createElement(jt.a,null)),r.a.createElement(w.a,{onClick:function(){return e.props.openCopyLinkModal(e.props.slug)}},r.a.createElement(Dt.a,null)),this.state.expanded?r.a.createElement(w.a,{style:{transform:"rotate(180deg)",float:"right",marginLeft:"auto"},onClick:this.handleExpandClick,"aria-expanded":this.state.expanded,"aria-label":"Show more"},r.a.createElement(na.a,null)):r.a.createElement(w.a,{style:{float:"right",marginLeft:"auto"},onClick:this.handleExpandClick,"aria-expanded":this.state.expanded,"aria-label":"Show more"},r.a.createElement(na.a,null))))}}]),t}(n.Component),ia=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).onScroll=function(){var e=document.getElementById("scroll");a.isBottom(e)&&a.props.next&&!a.props.fetchingNext&&a.props.fetchNextTripReports(a.props.next)},a.handleClick=function(e){e.preventDefault(),a.props.toggleFavorite(e.currentTarget.id)},a.handleSubmit=function(e){e.preventDefault(),a.props.fetchTripReports("".concat("http://localhost:8000","/api/v1/reports/?search=").concat(e.target[0].value))},a.handleNewestClick=function(){a.props.fetchTripReports("".concat("http://localhost:8000","/api/v1/reports/?ordering=-pk"))},a.handleTopClick=function(){a.props.fetchTripReports("".concat("http://localhost:8000","/api/v1/reports/"))},a}return Object(v.a)(t,e),Object(b.a)(t,[{key:"isBottom",value:function(e){return e.getBoundingClientRect().bottom<=window.innerHeight}},{key:"componentDidMount",value:function(){document.addEventListener("scroll",this.onScroll)}},{key:"componentWillUnmount",value:function(){this.props.removeError(),document.removeEventListener("scroll",this.onScroll)}},{key:"render",value:function(){var e=this,t=null;return this.props.tripReports&&(t=this.props.tripReports.map(function(t){return r.a.createElement("div",{key:t.id,style:{marginBottom:20}},r.a.createElement(la,Object.assign({handleClick:e.handleClick},t,e.props,{openCountryModal:e.props.openCountryModal})))})),r.a.createElement("div",{id:"scroll",className:"content",style:{marginTop:0}},r.a.createElement(zt,this.props),r.a.createElement(Ct,this.props),r.a.createElement(ta,this.props),this.props.fetched&&r.a.createElement(kt,this.props),r.a.createElement(ea,{handleSubmit:this.handleSubmit,handleNewestClick:this.handleNewestClick,handleTopClick:this.handleTopClick}),this.props.fetching&&r.a.createElement("div",null,r.a.createElement(Xt.DotLoader,{size:50,color:"#2196f3",className:"content"}),r.a.createElement("br",null)),this.props.fetched&&r.a.createElement("div",null,t),r.a.createElement("div",{style:{height:15}}),this.props.fetchingNext&&r.a.createElement(Xt.DotLoader,{size:50,color:"#2196f3",className:"content"}))}}]),t}(n.Component),ca=Object(i.b)(function(e){return{pk:e.user.user.pk,authenticated:e.auth.authenticated,fetched:e.tripReport.fetched,fetching:e.tripReport.fetching,next:e.tripReport.tripReports.next,fetchingNext:e.tripReport.fetchingNext,tripReports:e.tripReport.tripReports.results,showCountryModal:e.modal.showCountryModal,modalCountry:e.modal.modalCountry,showNotAuthModal:e.modal.showNotAuthModal,showCopyLinkModal:e.modal.showCopyLinkModal,modalLink:e.modal.modalLink,showImageModal:e.modal.showImageModal,modalImage:e.modal.modalImage}},function(e){return Object(c.b)({openCountryModal:oe,closeCountryModal:le,removeError:P,fetchNextTripReports:Oe,fetchTripReports:Te,toggleFavorite:Ne,openNotAuthModal:fe,closeNotAuthModal:ge,openCopyLinkModal:Re,closeCopyLinkModal:ye,openImageModal:ke,closeImageModal:Ce},e)})(ia),sa=function(e){return{type:"AUTH_SUCCESS",token:e}},ua=function(){return localStorage.removeItem("token"),localStorage.removeItem("username"),{type:"AUTH_LOGOUT"}},pa=function(e,t){return function(a){a({type:"AUTH_START"}),L.a.post("".concat("http://localhost:8000","/api/v1/rest-auth/login/"),{username:e,password:t}).then(function(t){var n=t.data.key;localStorage.setItem("token",n),localStorage.setItem("username",e),a(sa(n)),a(j()),a(ve(e))}).catch(function(e){a({type:"AUTH_FAIL"}),a({type:"ADD_ERROR",error:e})})}},ma=function(e,t,a,n,r){return function(o){localStorage.removeItem("token"),o({type:"AUTH_START"}),L.a.post("".concat("http://localhost:8000","/api/v1/rest-auth/registration/"),{username:e,email:t,password1:a,password2:n,home:r}).then(function(t){var a=t.data.key;localStorage.setItem("token",a),localStorage.setItem("username",e),o(sa(a)),o(j()),o({type:"ADD_SUCCESS",success:"You have successfully registered."})}).catch(function(e){o({type:"AUTH_FAIL"}),o({type:"ADD_ERROR",error:e})})}},da=function(){var e=localStorage.getItem("token");return function(t){t(null===e?ua():sa(e))}},ha=function(e){return function(t){L.a.post("".concat("http://localhost:8000","/api/v1/rest-auth/password/reset/"),{email:e}).then(function(e){t({type:"ADD_SUCCESS",success:"An email has been sent with instructions."})}).catch(function(e){t({type:"ADD_ERROR",error:e})})}},Ea=function(e){return r.a.createElement(et.a,{style:{maxWidth:400,margin:"0 auto"}},r.a.createElement(at.a,{title:"Request Password Reset"}),r.a.createElement(Tt.a,null,r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(Ue.a,{className:"user-auth",type:"text",name:"email",label:"Email"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(G.a,{variant:"contained",color:"primary",type:"submit"},"Submit"),r.a.createElement(x.a,{to:"/login"},r.a.createElement(G.a,null,"Cancel")))))},fa=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.requestPasswordReset(e.target.email.value),e.target.email.value=""},a}return Object(v.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement(Ea,{handleSubmit:this.handleSubmit}))}}]),t}(n.Component),ga=Object(i.b)(function(e){return{success:e.error.success}},function(e){return Object(c.b)({requestPasswordReset:ha},e)})(fa),Ra=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){e.preventDefault(),a.props.toggleFavorite(e.currentTarget.id)},a}return Object(v.a)(t,e),Object(b.a)(t,[{key:"componentWillUnmount",value:function(){this.props.removeError()}},{key:"render",value:function(){var e=this,t=null;return this.props.tripReport&&(t=this.props.tripReport.map(function(t){return r.a.createElement("div",{key:t.id,style:{marginBottom:20}},r.a.createElement(la,Object.assign({handleClick:e.handleClick},t,e.props,{openCountryModal:e.props.openCountryModal})))})),r.a.createElement("div",null,r.a.createElement(ta,this.props),r.a.createElement(zt,this.props),r.a.createElement(Ct,this.props),this.props.modalCountry&&r.a.createElement(kt,this.props),r.a.createElement("div",{className:"header-img"},r.a.createElement(yt.a,{variant:"h2",gutterBottom:!0,style:{color:"white",paddingTop:200}},"Connect, Learn, Share")),r.a.createElement("div",{style:{marginTop:60,textAlign:"center"}},r.a.createElement("h2",null,"Search for Countries and Territories"),r.a.createElement("img",{style:{margin:"0 auto"},src:"https://s3.eu-west-3.amazonaws.com/countries-app/media/country.png",alt:""})),r.a.createElement("div",{style:{marginTop:60,textAlign:"center"}},r.a.createElement("h2",null,"Add them to your personalized map"),r.a.createElement("img",{style:{margin:"0 auto"},src:"https://s3.eu-west-3.amazonaws.com/countries-app/media/map.png",alt:""})),r.a.createElement("div",{className:"content",style:{margin:"0 auto",marginTop:30}},r.a.createElement("h2",null,"Post Trip Reports about journeys you've taken"),r.a.createElement("div",{style:{textAlign:"left",width:"90%",margin:"0 auto"}},"Featured Trip Report"),this.props.tripReport?r.a.createElement("div",null,t):r.a.createElement(Xt.DotLoader,{size:50,color:"#2196f3",className:"content"})))}}]),t}(n.Component),ya=Object(i.b)(function(e){return{tripReport:e.tripReport.featuredTripReport,showCountryModal:e.modal.showCountryModal,modalCountry:e.modal.modalCountry,pk:e.user.user.pk,authenticated:e.auth.authenticated,showNotAuthModal:e.modal.showNotAuthModal,showCopyLinkModal:e.modal.showCopyLinkModal,modalLink:e.modal.modalLink,showImageModal:e.modal.showImageModal,modalImage:e.modal.modalImage}},function(e){return Object(c.b)({removeError:P,toggleFavorite:Ne,openCountryModal:oe,closeCountryModal:le,openNotAuthModal:fe,closeNotAuthModal:ge,openCopyLinkModal:Re,closeCopyLinkModal:ye,openImageModal:ke,closeImageModal:Ce},e)})(Ra),ka=function(e){return r.a.createElement(et.a,{style:{maxWidth:400,margin:"0 auto"}},r.a.createElement(at.a,{title:"Login"}),r.a.createElement(Tt.a,null,r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(Ue.a,{className:"user-auth",type:"text",name:"username",label:"Username"}),r.a.createElement("br",null),r.a.createElement(Ue.a,{className:"user-auth",type:"password",name:"password",label:"Password"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(G.a,{variant:"contained",color:"primary",type:"submit"},"Login"),r.a.createElement(x.a,{to:"/register"},r.a.createElement(G.a,null,"Register")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(x.a,{style:{textDecoration:"none",color:"black"},to:"/password_reset"},"Forgot Password?"))))},Ca=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.authLogin(e.target.username.value,e.target.password.value)},a}return Object(v.a)(t,e),Object(b.a)(t,[{key:"componentWillUnmount",value:function(){this.props.removeError()}},{key:"render",value:function(){return r.a.createElement("div",{className:"content"},this.props.authenticated?r.a.createElement(ae.a,{to:{pathname:"/"}}):r.a.createElement(ka,Object.assign({handleSubmit:this.handleSubmit},this.props)))}}]),t}(n.Component),ba=Object(i.b)(function(e){return{authenticating:e.auth.authenticating,authenticated:e.auth.authenticated}},function(e){return Object(c.b)({authLogin:pa,removeError:P},e)})(Ca),Ta=function(e){function t(){return Object(C.a)(this,t),Object(T.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(b.a)(t,[{key:"componentWillMount",value:function(){this.props.authLogout()}},{key:"render",value:function(){return r.a.createElement("div",{className:"content"},"You have been logged out.")}}]),t}(n.Component),Oa=Object(i.b)(function(e){return{}},function(e){return Object(c.b)({authLogout:ua},e)})(Ta),va=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){e.preventDefault(),a.props.toggleFavorite(e.currentTarget.id)},a}return Object(v.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.slug;this.props.fetchSlugTripReports(e)}},{key:"componentWillUnmount",value:function(){this.props.removeError()}},{key:"render",value:function(){var e=this,t=null;return this.props.tripReports&&(t=this.props.tripReports.map(function(t){return r.a.createElement("div",{key:t.id,style:{marginBottom:20}},r.a.createElement(At,Object.assign({handleClick:e.handleClick},t,e.props,{openCountryModal:e.props.openCountryModal})))})),r.a.createElement("div",{className:"content"},r.a.createElement(ta,this.props),r.a.createElement(Ct,this.props),r.a.createElement(zt,this.props),this.props.fetched&&r.a.createElement(kt,this.props),this.props.fetching&&r.a.createElement("div",{className:"centered"},r.a.createElement(Xt.DotLoader,{size:50,color:"#2196f3",className:"content"})),this.props.fetched&&r.a.createElement("div",null,t))}}]),t}(n.Component),_a=Object(i.b)(function(e){return{pk:e.user.user.pk,authenticated:e.auth.authenticated,tripReports:e.tripReport.slugTripReports,fetched:e.tripReport.fetchedSlugTripReports,fetching:e.tripReport.fetchingSlugTripReports,showCountryModal:e.modal.showCountryModal,modalCountry:e.modal.modalCountry,showNotAuthModal:e.modal.showNotAuthModal,showCopyLinkModal:e.modal.showCopyLinkModal,modalLink:e.modal.modalLink,showImageModal:e.modal.showImageModal,modalImage:e.modal.modalImage}},function(e){return Object(c.b)({fetchSlugTripReports:Le,removeError:P,openCountryModal:oe,closeCountryModal:le,toggleFavorite:Ne,openNotAuthModal:fe,closeNotAuthModal:ge,openCopyLinkModal:Re,closeCopyLinkModal:ye,openImageModal:ke,closeImageModal:Ce},e)})(va),Sa=function(e){function t(){var e;return Object(C.a)(this,t),(e=Object(T.a)(this,Object(O.a)(t).call(this))).handleChange=function(t){e.setState(Object(we.a)({},t.target.name,t.target.value))},e.state={country:""},e}return Object(v.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=Object(E.a)(Ye).sort(function(e,t){return e.name>t.name}).map(function(e){return r.a.createElement(xe.a,{key:e.pk,value:e.pk},e.name)});return r.a.createElement("div",null,this.props.authenticating&&r.a.createElement("div",null,r.a.createElement(Xt.DotLoader,{size:50,color:"#2196f3",className:"content"}),r.a.createElement("br",null)),r.a.createElement(et.a,{style:{maxWidth:400,margin:"0 auto"}},r.a.createElement(at.a,{title:"Register"}),r.a.createElement(Tt.a,null,r.a.createElement("form",{onSubmit:this.props.handleSubmit},r.a.createElement(Ue.a,{className:"user-auth",type:"text",name:"username",label:"Username"}),r.a.createElement("br",null),r.a.createElement(Ue.a,{className:"user-auth",type:"text",name:"email",label:"Email"}),r.a.createElement("br",null),r.a.createElement(Ue.a,{className:"user-auth",type:"password",name:"password1",label:"Password"}),r.a.createElement("br",null),r.a.createElement(Ue.a,{className:"user-auth",type:"password",name:"password2",label:"Confirm Password"}),r.a.createElement("br",null),r.a.createElement(We.a,null,r.a.createElement(ze.a,{htmlFor:"country"},"Home Country"),r.a.createElement(Ge.a,{style:{textAlign:"left"},className:"user-auth",name:"country",onChange:this.handleChange,value:this.state.country},e)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(G.a,{variant:"contained",color:"primary",type:"submit"},"Register"),r.a.createElement(x.a,{to:"/login"},r.a.createElement(G.a,null,"Cancel"))))))}}]),t}(n.Component),Pa=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){var t;e.preventDefault(),""!==e.target.country.value&&(t=Number(e.target.country.value)),a.props.authRegister(e.target.username.value,e.target.email.value,e.target.password1.value,e.target.password2.value,t),e.target.password1.value="",e.target.password2.value=""},a}return Object(v.a)(t,e),Object(b.a)(t,[{key:"componentWillUnmount",value:function(){this.props.removeError()}},{key:"render",value:function(){return r.a.createElement("div",{className:"content"},this.props.authenticated?r.a.createElement(ae.a,{to:{pathname:"/"}}):r.a.createElement(Sa,Object.assign({handleSubmit:this.handleSubmit},this.props)))}}]),t}(n.Component),Ma=Object(i.b)(function(e){return{authenticating:e.auth.authenticating,authenticated:e.auth.authenticated}},function(e){return Object(c.b)({authRegister:ma,removeError:P},e)})(Pa),La=a(141),ja=a.n(La),Na=a(214),Da=a.n(Na),Ia=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},a.handleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a}return Object(v.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=this.state.anchorEl;return r.a.createElement(et.a,{style:{maxWidth:400,margin:"0 auto"}},r.a.createElement(at.a,{style:{marginLeft:24},action:r.a.createElement(w.a,{onClick:this.handleClick,"aria-owns":t?"simple-menu":void 0,"aria-haspopup":"true"},r.a.createElement(lt.a,null)),title:this.props.country.name}),r.a.createElement(ct.a,{id:"simple-menu",anchorEl:t,open:Boolean(t),onClose:this.handleClose},this.props.authenticated&&!Object(E.a)(this.props.userCountries).map(function(e){return e.name}).includes(this.props.country.name)&&r.a.createElement($.a,{title:"Add To My Map"},r.a.createElement(xe.a,{onClick:function(t){e.handleClose(),e.props.handleClick(t)},value:this.props.country.name,id:this.props.country.id},r.a.createElement(ja.a,{style:{margin:"0 auto"}}))),this.props.authenticated&&Object(E.a)(this.props.userCountries).map(function(e){return e.name}).includes(this.props.country.name)&&r.a.createElement($.a,{title:"Remove From My Map"},r.a.createElement(xe.a,{onClick:function(t){e.handleClose(),e.props.handleClick(t)},value:this.props.country.name,id:this.props.country.id},r.a.createElement(Da.a,{style:{margin:"0 auto"}}))),!this.props.authenticated&&r.a.createElement($.a,{title:"Add To My Map"},r.a.createElement(xe.a,{onClick:function(){return e.props.openNotAuthModal()},value:this.props.country.name,id:this.props.country.id},r.a.createElement(ja.a,{style:{margin:"0 auto"}}))),r.a.createElement(xe.a,{onClick:function(){e.handleClose(),e.props.openCountryModal(e.props.country)}},"More Info")),r.a.createElement(rt.a,{component:"img",src:this.props.country.flag,alt:"",width:"400"}))}}]),t}(r.a.Component),wa=a(215),Aa=a.n(wa),Ua={container:{position:"relative"},input:{width:300,height:30,marginBottom:10},inputFocused:{outline:"none"},inputOpen:{borderBottomLeftRadius:0,borderBottomRightRadius:0},suggestionsContainer:{display:"none"},suggestionsContainerOpen:{display:"block",position:"relative",width:300,maxHeight:200,zIndex:2,overflowY:"auto"},suggestionsList:{margin:0,padding:0,listStyleType:"none"},suggestion:{display:"block"},suggestionHighlighted:{backgroundColor:"#ddd"}},Fa=function(e){var t=e.trim().toLowerCase(),a=t.length;return 0===a?[]:Ye.filter(function(e){return e.name.toLowerCase().slice(0,a)===t})},xa=function(e){return e.name};function Ha(e){return r.a.createElement(xe.a,{component:"div"},r.a.createElement("div",null,e.name))}function Ga(e){var t=e.inputRef,a=void 0===t?function(){}:t,n=e.ref,o=Object(te.a)(e,["inputRef","ref"]);return r.a.createElement(Ue.a,Object.assign({InputProps:{inputRef:function(e){n(e),a(e)}}},o))}var Ba=function(e){function t(){var e;return Object(C.a)(this,t),(e=Object(T.a)(this,Object(O.a)(t).call(this))).onChange=function(t,a){var n=a.newValue;e.setState({value:n})},e.onSuggestionsFetchRequested=function(t){var a=t.value;e.setState({suggestions:Fa(a)})},e.onSuggestionsClearRequested=function(){e.setState({suggestions:[]})},e.state={value:"",suggestions:[]},e}return Object(v.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.state,t=e.value,a=e.suggestions,n={placeholder:"Search for a Country or Territory",value:t,onChange:this.onChange};return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.props.handleSubmit},r.a.createElement("div",{style:{maxWidth:300,margin:"0 auto"}},r.a.createElement(Aa.a,{suggestions:a,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:xa,renderSuggestion:Ha,renderInputComponent:Ga,inputProps:n,theme:Ua}),r.a.createElement(G.a,{variant:"contained",color:"primary",type:"submit"},"Search"))))}}]),t}(n.Component),za=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.fetchCountry(e.target[0].value)},a.handleClick=function(e){e.preventDefault();var t,n,r,o=e.currentTarget.attributes.value.nodeValue;if(t=Number(e.currentTarget.id),0===a.props.userCountries.length)n=[t];else if(-1===(n=(n=a.props.userCountries).map(function(e){return e.id})).findIndex(function(e){return e===t}))n=n.concat([t]),r="".concat(o," has been added to your map.");else{var l=n.findIndex(function(e){return e===t});-1!==l&&(n.splice(l,1),r="".concat(o," has been removed from your map."))}a.props.putUserData(a.props.username,a.props.email,n,a.props.home.id,a.props.biography,r)},a}return Object(v.a)(t,e),Object(b.a)(t,[{key:"componentWillUnmount",value:function(){this.props.removeError()}},{key:"render",value:function(){var e=this,t=this.props.searchedCountry.map(function(t){return r.a.createElement("div",{style:{marginTop:20},key:t.id},r.a.createElement(Ia,Object.assign({},e.props,{country:t,handleClick:e.handleClick})))});return r.a.createElement("div",{className:"content",style:{marginTop:60}},r.a.createElement(ta,this.props),this.props.fetched&&r.a.createElement(kt,this.props),r.a.createElement(Ba,{handleSubmit:this.handleSubmit})," ",r.a.createElement("br",null),this.props.fetching&&r.a.createElement(Xt.DotLoader,{size:50,color:"#2196f3",className:"content"}),this.props.fetched&&r.a.createElement("div",null,t))}}]),t}(n.Component),Ja=Object(i.b)(function(e){return{username:e.user.user.username,email:e.user.user.email,home:e.user.user.home,biography:e.user.user.biography,userCountries:e.user.user.countries,authenticated:e.auth.authenticated,searchedCountry:e.country.country,fetched:e.country.fetched,fetching:e.country.fetching,showCountryModal:e.modal.showCountryModal,modalCountry:e.modal.modalCountry,showNotAuthModal:e.modal.showNotAuthModal}},function(e){return Object(c.b)({fetchCountry:be,putUserData:N,openCountryModal:oe,closeCountryModal:le,removeError:P,openNotAuthModal:fe,closeNotAuthModal:ge},e)})(za),Wa=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).onScroll=function(){var e=document.getElementById("scroll");a.isBottom(e)&&a.props.next&&!a.props.fetchingUserNext&!a.props.fetchingTripReports&&a.props.fetchNextUserTripReports(a.props.next)},a.handleClick=function(e){e.preventDefault(),a.props.toggleFavorite(e.currentTarget.id)},a}return Object(v.a)(t,e),Object(b.a)(t,[{key:"isBottom",value:function(e){return e.getBoundingClientRect().bottom<=window.innerHeight}},{key:"componentDidMount",value:function(){var e=this.props.match.params.username;this.props.fetchSingleUser(e),this.props.fetchUserTripReports(e),document.addEventListener("scroll",this.onScroll)}},{key:"componentWillUnmount",value:function(){this.props.removeError(),document.removeEventListener("scroll",this.onScroll)}},{key:"render",value:function(){var e=this,t=null;return this.props.tripReports&&(t=this.props.tripReports.map(function(t){return r.a.createElement(Vt.a,{item:!0,key:t.id},r.a.createElement(Et,Object.assign({tripReport:t},e.props)))})),r.a.createElement("div",{id:"scroll",className:"content"},r.a.createElement(zt,this.props),r.a.createElement(ta,this.props),this.props.fetched&&r.a.createElement(kt,this.props),this.props.modalPost.author&&r.a.createElement(Ut,Object.assign({handleClick:this.handleClick},this.props)),r.a.createElement("div",{className:"wrap",style:{marginBottom:60}},r.a.createElement("div",{className:"left",style:{width:"37%"}},this.props.user.home&&r.a.createElement(St.a,{style:{width:150,height:150,margin:"0 auto"},src:this.props.user.home.flag})),r.a.createElement("div",{className:"right",style:{textAlign:"left",width:"63%",padding:10}},r.a.createElement("div",{style:{height:40}},r.a.createElement(yt.a,{variant:"h4",gutterBottom:!0},this.props.user.username)),r.a.createElement("br",null),r.a.createElement("div",{style:{height:40}},"".concat("http://localhost:8000").concat(this.props.match.url)),r.a.createElement("br",null),r.a.createElement("div",{style:{height:40,maxWidth:"75%"}},this.props.user.biography))),this.props.fetched&&r.a.createElement("hr",{style:{width:"85%",size:1}}),this.props.fetched&&r.a.createElement(Ie,this.props),this.props.fetched&&r.a.createElement("hr",{style:{width:"85%",size:1}}),r.a.createElement("div",{style:{marginTop:50}},this.props.fetchingTripReports&&r.a.createElement("div",null,r.a.createElement(Xt.DotLoader,{size:50,color:"#2196f3",className:"content"})),this.props.fetchedTripReports&&r.a.createElement(Vt.a,{container:!0,spacing:24,justify:"center"},t),r.a.createElement("div",{style:{height:15}}),this.props.fetchingUserNext&&r.a.createElement(Xt.DotLoader,{size:50,color:"#2196f3",className:"content"})))}}]),t}(n.Component),Ya=Object(i.b)(function(e){return{pk:e.user.user.pk,authenticated:e.auth.authenticated,fetched:e.user.fetchedSingleUser,user:e.user.singleUser,modalCountry:e.modal.modalCountry,userCountries:e.user.singleUser.countries,showCountryModal:e.modal.showCountryModal,modalPost:e.modal.modalPost,showTripReportModal:e.modal.showTripReportModal,fetchingTripReports:e.tripReport.fetchingTripReports,fetchedTripReports:e.tripReport.fetchedTripReports,fetchingUserNext:e.tripReport.fetchingUserNext,tripReports:e.tripReport.userTripReports.results,next:e.tripReport.userTripReports.next,showNotAuthModal:e.modal.showNotAuthModal,showCopyLinkModal:e.modal.showCopyLinkModal,modalLink:e.modal.modalLink,showImageModal:e.modal.showImageModal,modalImage:e.modal.modalImage}},function(e){return Object(c.b)({removeError:P,fetchSingleUser:D,fetchUserTripReports:ve,fetchNextUserTripReports:_e,openCountryModal:oe,closeCountryModal:le,openTripReportModal:he,closeTripReportModal:Ee,toggleFavorite:Ne,openNotAuthModal:fe,closeNotAuthModal:ge,openCopyLinkModal:Re,closeCopyLinkModal:ye,openImageModal:ke,closeImageModal:Ce},e)})(Wa),Xa=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){a.props.authLogout(),a.props.history.push("/")},a}return Object(v.a)(t,e),Object(b.a)(t,[{key:"componentWillMount",value:function(){this.props.authenticated&&this.props.fetchUser()}},{key:"render",value:function(){return r.a.createElement("div",null,this.props.fetching?r.a.createElement("div",{className:"centered"},r.a.createElement(Xt.DotLoader,{size:50,color:"#2196f3",className:"content"})):r.a.createElement("div",null,r.a.createElement(ee,this.props),this.props.error&&r.a.createElement(F,Object.assign({},this.props,{error:this.props.error})),this.props.success&&r.a.createElement(re,this.props),r.a.createElement(S.a,{exact:!0,path:"/",component:ya}),r.a.createElement(S.a,{path:"/search",component:Ja}),r.a.createElement(S.a,{path:"/feed",component:ca}),r.a.createElement(ne,Object.assign({},this.props,{path:"/edit_profile",component:$t})),r.a.createElement(S.a,{path:"/u/:username",component:Ya}),r.a.createElement(S.a,{path:"/login",component:ba}),r.a.createElement(S.a,{path:"/logout",component:Oa}),r.a.createElement(S.a,{path:"/register",component:Ma}),r.a.createElement(S.a,{path:"/password_reset",component:ga}),r.a.createElement(S.a,{path:"/p/:slug",component:_a})))}}]),t}(n.Component),Ka=Object(i.b)(function(e){return{error:e.error.error,success:e.error.success,authenticated:e.auth.authenticated,fetching:e.user.fetching,fetched:e.user.fetched}},function(e){return Object(c.b)({fetchUser:j,removeError:P},e)})(Xa),Va=a(100),qa=function(e){function t(){return Object(C.a)(this,t),Object(T.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(b.a)(t,[{key:"componentWillMount",value:function(){this.props.authCheckState(),this.props.fetchTripReports("".concat("http://localhost:8000","/api/v1/reports/?ordering=-pk")),this.props.fetchFeaturedTripReport("rr9IuTcYtL3E")}},{key:"render",value:function(){var e=Object(Va.createMuiTheme)({typography:{useNextVariants:!0},overides:{CardActions:{root:{overflow:"scroll"}}},palette:{primary:{main:"#2196f3"},secondary:{main:"#000000"}}});return r.a.createElement(Va.MuiThemeProvider,{theme:e},r.a.createElement(_.a,null,r.a.createElement(S.a,Object.assign({path:"",component:Ka},this.props))))}}]),t}(n.Component),Qa=Object(i.b)(function(e){return{}},function(e){return Object(c.b)({authCheckState:da,fetchTripReports:Te,fetchFeaturedTripReport:je},e)})(qa);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(i.a,{store:k},r.a.createElement(Qa,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[217,2,1]]]);
//# sourceMappingURL=main.d68c970c.chunk.js.map