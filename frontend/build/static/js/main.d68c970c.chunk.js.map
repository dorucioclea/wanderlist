{"version":3,"sources":["store/auth.js","store/country.js","store/error.js","store/modal.js","store/tripReport.js","store/user.js","store/index.js","actions/errorActions.js","actions/userActions.js","components/Error.js","components/NavBar.js","components/PrivateRoute.js","components/Success.js","actions/modalActions.js","actions/countryActions.js","actions/tripReportActions.js","actions/favoriteActions.js","components/GoogleMap.js","components/EditProfileForm.js","components/EditProfileModal.js","components/TripReportThumbnail.js","components/CountryModal.js","components/ImageModal.js","components/TripReport.js","components/TripReportModal.js","components/ConfirmDeleteModal.js","components/CopyLinkModal.js","components/PostTripReportForm.js","components/UpdateTripReportForm.js","components/PostModal.js","containers/EditProfile.js","components/Filter.js","components/NotAuthModal.js","components/TripReportTruncated.js","containers/Feed.js","actions/authActions.js","components/ForgotPasswordForm.js","containers/ForgotPassword.js","containers/Home.js","components/LoginForm.js","containers/Login.js","containers/Logout.js","containers/Post.js","components/RegistrationForm.js","containers/Register.js","components/Results.js","components/SearchBar.js","containers/Search.js","containers/ViewProfile.js","containers/Layout.js","App.js","serviceWorker.js","index.js"],"names":["initialState","token","authenticating","authenticated","fetching","fetched","country","error","success","showCountryModal","showEditProfileModal","showPostModal","updatePostModal","showConfirmDeleteModal","showTripReportModal","showNotAuthModal","showCopyLinkModal","showImageModal","modalCountry","modalProfile","modalPost","modalLink","modalImage","posting","updating","fetchingNext","fetchedNext","fetchingUserNext","fetchedUserNext","fetchingTripReports","fetchedTripReports","fetchingSlugTripReports","fetchedSlugTripReports","fetchingFeaturedTripReport","fetchedFeaturedTripReport","tripReports","results","count","next","previous","userTripReports","slugTripReports","featuredTripReport","fetchingSingleUser","fetchedSingleUser","user","countries","singleUser","reducer","combineReducers","auth","state","arguments","length","undefined","action","type","Object","objectSpread","modal","response","tripReport","toConsumableArray","concat","sort","a","b","id","filter","map","favoriters","author","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","store","createStore","removeError","fetchUser","localStorage","getItem","dispatch","axios","get","process","headers","Authorization","then","data","fetchUserFulfilled","catch","err","putUserData","username","email","home","biography","put","putUserDataFulfilled","fetchSingleUser","fetchSingleUserFulfilled","Errors","props","errorDetails","keys","react_default","createElement","key","charAt","toUpperCase","slice","message","className","IconButton_default","style","float","onClick","Close_default","width","height","NavBar","backgroundColor","AppBar_default","color","position","Toolbar_default","padding","Button_default","flex","justifyContent","minWidth","component","Link","to","Tooltip_default","title","FormatListBulleted_default","Search_default","AccountCircle_default","PrivateRoute","_ref","Component","rest","objectWithoutProperties","Route","assign","render","Redirect","pathname","Success","openCountryModal","closeCountryModal","openEditProfileModal","closeEditProfileModal","openPostModal","openUpdatePostModal","closePostModal","openConfirmDeleteModal","closeConfirmDeleteModal","openTripReportModal","closeTripReportModal","openNotAuthModal","closeNotAuthModal","openCopyLinkModal","closeCopyLinkModal","openImageModal","closeImageModal","fetchCountry","query","fetchCountryFulfilled","defaults","xsrfCookieName","xsrfHeaderName","fetchTripReports","url","fetchTripReportsFulfilled","fetchNextTripReports","fetchNextTripReportsFulfilled","fetchUserTripReports","fetchUserTripReportsFulfilled","fetchNextUserTripReports","fetchNextUserTripReportsFulfilled","postTripReport","content","image","formData","FormData","append","post","postTripReportsFulfilled","deleteTripReport","delete","X-Requested-With","X-CSRFToken","deleteTripReportsFulfilled","updateTripReport","patch","updateTripReportsFulfilled","fetchSlugTripReports","slug","fetchSlugTripReportsFulfilled","fetchFeaturedTripReport","fetchFeaturedTripReportFulfilled","toggleFavorite","toggleFavoriteFulfilled","GoogleApiWrapper","apiKey","listMarkers","userCountries","dist","name","lat","latlng","lng","options","gestureHandling","display","border","margin","google","zoom","EditProfileForm","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleChange","event","setState","defineProperty","target","value","_this2","menuItems","MenuItem_default","pk","onSubmit","handleSubmit","TextField_default","label","defaultValue","multiline","FormControl_default","InputLabel_default","htmlFor","Select_default","textAlign","onChange","variant","React","EditProfileModal","Dialog_default","onClose","open","DialogContent_default","components_EditProfileForm","TripReportThumbnail","anchorEl","handleClick","currentTarget","handleClose","Card_default","CardHeader_default","aria-owns","aria-haspopup","MoreVert_default","Menu_default","Boolean","LibraryBooks_default","match","path","Edit_default","Delete_default","CardMedia_default","src","alt","flag","ReactModal","setAppElement","lib_default","isOpen","Typography_default","gutterBottom","maxWidth","initialCenter","native_name","alt_spellings","join","capital","demonym","languages","language","region","subregion","borders","regional_blocs","bloc","population","area","timezones","top_level_domain","alpha2code","alpha3code","gini","numeric_code","calling_codes","cioc","ImageModal","TripReport","listCountries","size","marginRight","subheader","textDecoration","Collections_default","avatar","Avatar_default","CardContent_default","CardActions_default","includes","Favorite_default","e","FavoriteBorder_default","Share_default","TripReportModal","components_CountryModal","components_ImageModal","components_TripReport","ConfirmDeleteModal","DialogContentText_default","DialogActions_default","CopyLinkModal","PostTripReportForm","fullWidth","accept","multiple","marginTop","UpdateTripReportForm","countryList","PostModal","components_UpdateTripReportForm","handleUpdateSubmit","components_PostTripReportForm","handlePostSubmit","EditProfile","_Component","_getPrototypeOf2","_len","args","Array","_key","apply","onScroll","element","document","getElementById","isBottom","preventDefault","split","Number","files","userCountryList","inherits","createClass","el","getBoundingClientRect","bottom","innerHeight","addEventListener","removeEventListener","listTripReports","Grid_default","item","components_TripReportThumbnail","components_CopyLinkModal","components_EditProfileModal","components_PostModal","components_ConfirmDeleteModal","components_TripReportModal","marginBottom","components_GoogleMap","aria-label","Add_default","react_spinners","container","spacing","justify","connect","searchedCountry","bindActionCreators","Filter","background","placeholder","handleTopClick","handleNewestClick","NotAuthModal","TripReportTruncated","expanded","handleExpandClick","paragraphs","Collapse_default","in","timeout","unmountOnExit","indexOf","substring","disableActionSpacing","transform","marginLeft","aria-expanded","ExpandMore_default","Feed","components_TripReportTruncated","components_NotAuthModal","components_Filter","authSuccess","authLogout","removeItem","authLogin","password","setItem","authRegister","password1","password2","authCheckState","requestPasswordReset","ForgotPasswordForm","ForgotPassword","components_ForgotPasswordForm","Home","paddingTop","LoginForm","Login","components_LoginForm","Logout","Post","params","listTripReport","RegistrationForm","Register","components_RegistrationForm","Results","AddCircle_default","RemoveCircle_default","theme","input","inputFocused","outline","inputOpen","borderBottomLeftRadius","borderBottomRightRadius","suggestionsContainer","suggestionsContainerOpen","maxHeight","zIndex","overflowY","suggestionsList","listStyleType","suggestion","suggestionHighlighted","getSuggestions","inputValue","trim","toLowerCase","inputLength","getSuggestionValue","renderSuggestion","renderInputComponent","inputProps","_inputProps$inputRef","inputRef","ref","other","InputProps","node","SearchBar","newValue","onSuggestionsFetchRequested","_ref2","suggestions","onSuggestionsClearRequested","_this$state","react_autosuggest_dist_default","Search","newCountry","newCountryList","countryName","attributes","nodeValue","findIndex","index","splice","components_Results","components_SearchBar","ViewProfile","Layout","history","push","components_NavBar","Error","components_Success","exact","components_PrivateRoute","App","createMuiTheme","typography","useNextVariants","overides","CardActions","root","overflow","palette","primary","main","secondary","styles","BrowserRouter","location","hostname","ReactDOM","es","src_App_0","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d68c970c.chunk.js","sourcesContent":["const initialState = {\n  token: null,\n  authenticating: false,\n  authenticated: false,\n}\n\n/* Reducer Function*/\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case \"AUTH_START\": {\n      return {\n        ...state,\n        authenticating: true,\n      }\n    }\n    case \"AUTH_SUCCESS\": {\n      return {\n        ...state,\n        authenticating: false,\n        authenticated: true,\n        token: action.token,\n      }\n    }\n    case \"AUTH_FAIL\": {\n      return {\n        ...state,\n        authenticating: false,\n        authenticated: false,\n      }\n    }\n    case \"AUTH_LOGOUT\": {\n      return {\n        ...state,\n        authenticating: false,\n        authenticated: false,\n        token: null,\n      }\n    }\n    default:\n      return state\n  }\n}\n","const initialState = {\n  fetching: false,\n  fetched: false,\n  country: [],\n}\n\n/* Reducer Function*/\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case \"FETCH_COUNTRY_PENDING\": {\n      return {\n        ...state,\n        fetching: true,\n        fetched: false,\n      }\n    }\n    case \"FETCH_COUNTRY_FULFILLED\": {\n      return {\n        ...state,\n        fetching: false,\n        fetched: true,\n        country: action.country,\n      }\n    }\n    case \"FETCH_COUNTRY_REJECTED\": {\n      return {\n        ...state,\n        fetching: false,\n        fetched: false,\n      }\n    }\n    default:\n      return state\n  }\n}\n","const initialState = {\n  error: null,\n  success: null,\n}\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case \"ADD_ERROR\": {\n      return {\n        ...state,\n        error: action.error\n      }\n    }\n    case \"REMOVE_ERROR\":{\n      return {\n        ...state,\n        error: null,\n        success: null\n      }\n    }\n    case \"ADD_SUCCESS\":{\n      return {\n        ...state,\n        success: action.success\n      }\n    }\n    default:\n      return state;\n  }\n}\n","const initialState = {\n  showCountryModal: false,\n  showEditProfileModal: false,\n  showPostModal: false,\n  updatePostModal: false,\n  showConfirmDeleteModal: false,\n  showTripReportModal: false,\n  showNotAuthModal: false,\n  showCopyLinkModal: false,\n  showImageModal: false,\n  modalCountry: {},\n  modalProfile: {},\n  modalPost: {},\n  modalLink: null,\n  modalImage: null\n}\n\n/* Reducer Function*/\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    // Country modal\n    case \"OPEN_COUNTRY_MODAL\": {\n      return {\n        ...state,\n        showCountryModal: true,\n        modalCountry: action.modalCountry\n      }\n    }\n    case \"CLOSE_COUNTRY_MODAL\": {\n      return {\n        ...state,\n        showCountryModal: false\n      }\n    }\n    // Edit Profile modal\n    case \"OPEN_EDIT_PROFILE_MODAL\": {\n      return {\n        ...state,\n        showEditProfileModal: true,\n        modalProfile: action.modalProfile\n      }\n    }\n    case \"CLOSE_EDIT_PROFILE_MODAL\": {\n      return {\n        ...state,\n        showEditProfileModal: false\n      }\n    }\n    // Post modal\n    case \"OPEN_POST_MODAL\": {\n      return {\n        ...state,\n        showPostModal: true\n      }\n    }\n    case \"OPEN_UPDATE_POST_MODAL\": {\n      return {\n        ...state,\n        showPostModal: true,\n        updatePostModal: true,\n        modalPost: action.modalPost\n      }\n    }\n    case \"CLOSE_POST_MODAL\": {\n      return {\n        ...state,\n        showPostModal: false,\n        updatePostModal: false\n      }\n    }\n    // Confirm Delete modal\n    case \"OPEN_CONFIRM_DELETE_MODAL\": {\n      return {\n        ...state,\n        showConfirmDeleteModal: true,\n        modalPost: action.modalPost\n      }\n    }\n    case \"CLOSE_CONFIRM_DELETE_MODAL\": {\n      return {\n        ...state,\n        showConfirmDeleteModal: false,\n      }\n    }\n    // Trip Report modal\n    case \"OPEN_TRIP_REPORT_MODAL\": {\n      return {\n        ...state,\n        showTripReportModal: true,\n        modalPost: action.modalPost\n      }\n    }\n    case \"CLOSE_TRIP_REPORT_MODAL\": {\n      return {\n        ...state,\n        showTripReportModal: false,\n      }\n    }\n    // Not Authenticated modal\n    case \"OPEN_NOT_AUTH_MODAL\": {\n      return {\n        ...state,\n        showNotAuthModal: true,\n      }\n    }\n    case \"CLOSE_NOT_AUTH_MODAL\": {\n      return {\n        ...state,\n        showNotAuthModal: false,\n      }\n    }\n    // Copy Link modal\n    case \"OPEN_COPY_LINK_MODAL\": {\n      return {\n        ...state,\n        showCopyLinkModal: true,\n        modalLink: action.modalLink\n      }\n    }\n    case \"CLOSE_COPY_LINK_MODAL\": {\n      return {\n        ...state,\n        showCopyLinkModal: false,\n      }\n    }\n    // Update modal post, if users likes post in the modal\n    case \"TOGGLE_FAVORITE_FULFILLED\": {\n      return {\n        ...state,\n        modalPost: action.response\n      }\n    }\n    // Image modal\n    case \"OPEN_IMAGE_MODAL\": {\n      return {\n        ...state,\n        showImageModal: true,\n        modalImage: action.modalImage\n      }\n    }\n    case \"CLOSE_IMAGE_MODAL\": {\n      return {\n        ...state,\n        showImageModal: false,\n      }\n    }\n    default:\n      return state\n  }\n}\n","const initialState = {\n  posting: false,\n  updating: false,\n  fetching: false,\n  fetched: false,\n  fetchingNext: false,\n  fetchedNext: false,\n  fetchingUserNext: false,\n  fetchedUserNext: false,\n  fetchingTripReports: false,\n  fetchedTripReports: false,\n  fetchingSlugTripReports: false,\n  fetchedSlugTripReports: false,\n  fetchingFeaturedTripReport: false,\n  fetchedFeaturedTripReport: false,\n  tripReports: { results: [], count: null, next: null, previous: null},\n  userTripReports: { results: [], count: null, next: null, previous: null},\n  slugTripReports: [],\n  featuredTripReport: []\n}\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    // Basic axios request returns a response, and the state must be updated.\n    case \"FETCH_TRIP_REPORTS_PENDING\": {\n      return {\n        ...state,\n        fetching: true,\n      }\n    }\n    case \"FETCH_TRIP_REPORTS_FULFILLED\": {\n      return {\n        ...state,\n        fetching: false,\n        fetched: true,\n        tripReports: action.tripReports,\n      }\n    }\n    case \"FETCH_TRIP_REPORTS_REJECTED\": {\n      return {\n        ...state,\n        fetching: false,\n        fetched: false,\n      }\n    }\n    /*\n    In the case of fetching the next page of trip reports, the new trip reports\n    need to be added to the list of existing, fetched trip reports. They must\n    not overwnite the original list.\n    */\n    case \"FETCH_NEXT_TRIP_REPORTS_PENDING\": {\n      return {\n        ...state,\n        fetchingNext: true,\n        fetchedNext: false\n      }\n    }\n    case \"FETCH_NEXT_TRIP_REPORTS_FULFILLED\": {\n      return {\n        ...state,\n        fetchingNext: false,\n        fetchedNext: true,\n        tripReports: {\n          count: action.tripReports.count,\n          next: action.tripReports.next,\n          previous: action.tripReports.previous,\n          results: [...state.tripReports.results].concat(action.tripReports.results),\n        }\n      }\n    }\n    case \"FETCH_NEXT_TRIP_REPORTS_REJECTED\": {\n      return {\n        ...state,\n        fetchingNext: false,\n        fetchedNext: false,\n      }\n    }\n    // Basic axios request for fetching a user's Trip Reports\n    case \"FETCH_USER_TRIP_REPORTS_PENDING\": {\n      return {\n        ...state,\n        fetchingTripReports: true,\n        fetchedTripReports: false\n      }\n    }\n    case \"FETCH_USER_TRIP_REPORTS_FULFILLED\": {\n      return {\n        ...state,\n        fetchingTripReports: false,\n        fetchedTripReports: true,\n        userTripReports: action.tripReports,\n      }\n    }\n    case \"FETCH_USER_TRIP_REPORTS_REJECTED\": {\n      return {\n        ...state,\n        fetchingTripReports: false,\n        fetchedTripReports: false,\n      }\n    }\n    /*\n    In the case of fetching the next page of the user's trip reports, the new\n    trip reports need to be added to the list of existing, fetched trip reports.\n    They must not overwnite the original list.\n    */\n    case \"FETCH_NEXT_USER_TRIP_REPORTS_PENDING\": {\n      return {\n        ...state,\n        fetchingUserNext: true,\n        fetchedUserNext: false\n      }\n    }\n    case \"FETCH_NEXT_USER_TRIP_REPORTS_FULFILLED\": {\n      return {\n        ...state,\n        fetchingUserNext: false,\n        fetchedUserNext: true,\n        userTripReports: {\n          count: action.tripReports.count,\n          next: action.tripReports.next,\n          previous: action.tripReports.previous,\n          results: [...state.userTripReports.results].concat(action.tripReports.results),\n        }\n      }\n    }\n    case \"FETCH_NEXT_USER_TRIP_REPORTS_REJECTED\": {\n      return {\n        ...state,\n        fetchingUserNext: false,\n        fetchedUserNext: false,\n      }\n    }\n    // Axios post\n    case \"POST_TRIP_REPORTS_PENDING\": {\n      return {\n        ...state,\n        posting: true\n      }\n    }\n    case \"POST_TRIP_REPORTS_FULFILLED\": {\n      return {\n        ...state,\n        /*\n        The axios response is a single trip report. The new trip report must be\n        added onto the array, then the array must be sorted by id for both the\n        Trip Reports and User Trip Reports lists.\n        */\n        userTripReports: {\n          results: [...state.userTripReports.results].concat(action.response).sort((a, b) => a.id < b.id),\n          count: state.userTripReports.count,\n          next: state.userTripReports.next,\n          previous: state.userTripReports.previous\n        },\n        tripReports: {\n          results: [...state.tripReports.results].concat(action.response).sort((a, b) => a.id < b.id),\n          count: state.tripReports.count,\n          next: state.tripReports.next,\n          previous: state.tripReports.previous\n        },\n        posting: false\n      }\n    }\n    case \"POST_TRIP_REPORTS_REJECTED\": {\n      return {\n        ...state,\n        posting: false\n        }\n    }\n    // Axios delete\n    case \"DELETE_TRIP_REPORTS_FULFILLED\": {\n      return {\n        ...state,\n        /*\n        The response is the deleted post that must be filtered out of both\n        lists.\n        */\n        userTripReports: {\n          results: [...state.userTripReports.results].filter(tripReport => tripReport.id !== action.response.id),\n          count: state.userTripReports.count,\n          next: state.userTripReports.next,\n          previous: state.userTripReports.previous\n        },\n        tripReports: {\n          results: [...state.tripReports.results].filter(tripReport => tripReport.id !== action.response.id),\n          count: state.tripReports.count,\n          next: state.tripReports.next,\n          previous: state.tripReports.previous\n        }\n      }\n    }\n    case \"UPDATE_TRIP_REPORTS_PENDING\": {\n      return {\n        ...state,\n        updating: true\n      }\n    }\n    case \"UPDATE_TRIP_REPORTS_FULFILLED\": {\n      return {\n        ...state,\n        /*\n        The axios response is the updated post. The old, unupdated post must be\n        filtered out of both lists, the updated post must be added, then\n        the array must be sorted.\n        */\n        userTripReports: {\n          results: [...state.userTripReports.results].filter(tripReport => tripReport.id !== action.response.id).concat(action.response).sort((a, b) => a.id < b.id),\n          count: state.userTripReports.count,\n          next: state.userTripReports.next,\n          previous: state.userTripReports.previous\n        },\n        tripReports: {\n          results: [...state.tripReports.results].filter(tripReport => tripReport.id !== action.response.id).concat(action.response).sort((a, b) => a.id < b.id),\n          count: state.tripReports.count,\n          next: state.tripReports.next,\n          previous: state.tripReports.previous\n        },\n        updating: false\n      }\n    }\n    case \"UPDATE_TRIP_REPORTS_REJECTED\": {\n      return {\n        ...state,\n        updating: false\n      }\n    }\n    case \"FETCH_SLUG_TRIP_REPORTS_PENDING\": {\n      return {\n        ...state,\n        fetchingSlugTripReports: true,\n        fetchedSlugTripReports: false\n      }\n    }\n    case \"FETCH_SLUG_TRIP_REPORTS_FULFILLED\": {\n      return {\n        ...state,\n        fetchingSlugTripReports: false,\n        fetchedSlugTripReports: true,\n        slugTripReports: action.tripReports.results,\n      }\n    }\n    case \"FETCH_SLUG_TRIP_REPORTS_REJECTED\": {\n      return {\n        ...state,\n        fetchingSlugTripReports: false,\n        fetchedSlugTripReports: false,\n      }\n    }\n    case \"FETCH_FEATURED_TRIP_REPORT_PENDING\": {\n      return {\n        ...state,\n        fetchingFeaturedTripReport: true,\n        fetchedFeaturedTripReport: false\n      }\n    }\n    case \"FETCH_FEATURED_TRIP_REPORT_FULFILLED\": {\n      return {\n        ...state,\n        fetchingFeaturedTripReport: false,\n        fetchedFeaturedTripReport: true,\n        featuredTripReport: action.tripReport.results,\n      }\n    }\n    case \"FETCH_FEATURED_TRIP_REPORT_REJECTED\": {\n      return {\n        ...state,\n        fetchingFeaturedTripReport: false,\n        fetchedFeaturedTripReport: false,\n      }\n    }\n    case \"TOGGLE_FAVORITE_FULFILLED\": {\n      return {\n        ...state,\n        /*\n        Same as PUT request, the response of the axios call to toggle favorite\n        returns the new Trip Report object with updated favorites array. This\n        Trip Report favoriters must replace the old Trip Report favoriters.\n        User Trip Reports do not need to be updated since a favorite button is\n        never shown for that array.\n        */\n        tripReports: {\n          // Since order matters, only the specific index of the array should be changed.\n          results: [...state.tripReports.results].map( tripReport => tripReport.id === action.response.id ? { ...tripReport, favoriters: action.response.favoriters} : {...tripReport}),\n          count: state.tripReports.count,\n          next: state.tripReports.next,\n          previous: state.tripReports.previous\n        },\n        slugTripReports: [...state.slugTripReports].map( tripReport => tripReport.id === action.response.id ? {...tripReport, favoriters: action.response.favoriters} : {...tripReport}),\n        featuredTripReport: [...state.featuredTripReport].map( tripReport => tripReport.id === action.response.id ? {...tripReport, favoriters: action.response.favoriters} : {...tripReport})\n      }\n    }\n    case \"PUT_USER_DATA_FULFILLED\": {\n      return {\n        ...state,\n        tripReports: {\n          // If the user home changes, any posts by that user must be updated to update Avatar image.\n          results: [...state.tripReports.results].map( tripReport => tripReport.author.id === action.user.id ? { ...tripReport, author: action.user} : {...tripReport}),\n          count: state.tripReports.count,\n          next: state.tripReports.next,\n          previous: state.tripReports.previous\n        },\n      }\n    }\n    // Reset authenticated user trip reports array on logout.\n    case \"AUTH_LOGOUT\": {\n      return {\n        ...state,\n        userTripReports: { results: [], count: null, next: null, previous: null },\n      }\n    }\n    default:\n      return state\n  }\n}\n","const initialState = {\n  fetching: false,\n  fetched: false,\n  fetchingSingleUser: false,\n  fetchedSingleUser: false,\n  user: { countries: [] },\n  singleUser: {},\n}\n\n/* Reducer Function*/\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case \"FETCH_USER_PENDING\": {\n      return {\n        ...state,\n        fetching: true\n      }\n    }\n    case \"FETCH_USER_FULFILLED\": {\n      return {\n        ...state,\n        fetching: false,\n        fetched: true,\n        user: action.user\n      }\n    }\n    case \"FETCH_USER_REJECTED\": {\n      return {\n        ...state,\n        fetching: false,\n        fetched: false,\n      }\n    }\n    // Axios put\n    case \"PUT_USER_DATA_FULFILLED\": {\n      return {\n        ...state,\n        user: action.user\n      }\n    }\n    case \"FETCH_SINGLE_USER_PENDING\": {\n      return {\n        ...state,\n        fetchingSingleUser: true\n      }\n    }\n    /*\n    API search returns an array of 1 object, since the search parameter is an\n    exact match.\n    */\n    case \"FETCH_SINGLE_USER_FULFILLED\": {\n      return {\n        ...state,\n        fetchingSingleUser: false,\n        fetchedSingleUser: true,\n        singleUser: action.user[0]\n      }\n    }\n    case \"FETCH_SINGLE_USER_REJECTED\": {\n      return {\n        ...state,\n        fetchingSingleUser: false,\n        fetchedSingleUser: false,\n      }\n    }\n    // Reset authenticated user object on logout.\n    case \"AUTH_LOGOUT\": {\n      return {\n        ...state,\n        user: { countries: [] },\n      }\n    }\n    default:\n      return state\n  }\n}\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux'\nimport { createLogger } from 'redux-logger'\nimport thunk from 'redux-thunk'\nimport auth from './auth'\nimport country from './country'\nimport error from './error'\nimport modal from './modal'\nimport tripReport from './tripReport'\nimport user from './user'\n\nconst reducer = combineReducers({auth, country, error, modal, tripReport, user})\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nlet middleware = applyMiddleware(thunk)\n\n// We only want the logger running in development.\nif (process.env.NODE_ENV === 'development') {\n  middleware = applyMiddleware(thunk, createLogger())\n}\n\nconst enhancer = composeEnhancers(middleware);\n\nconst store = createStore(reducer, enhancer)\n\nexport default store\n","// Error action creators\nexport const removeError = () => ({ type: \"REMOVE_ERROR\" })\n","import axios from 'axios'\n\n// Fetch authenticated user action creators\nexport const fetchUserPending = () => ({type: \"FETCH_USER_PENDING\"})\nexport const fetchUserFulfilled = user => ({type: \"FETCH_USER_FULFILLED\", user})\nexport const fetchUserRejected = () => ({type: \"FETCH_USER_REJECTED\"})\n\n// Update user data action creator\nexport const putUserDataFulfilled = user => ({type: \"PUT_USER_DATA_FULFILLED\", user})\nexport const putUserDataRejected = () => ({type: \"PUT_USER_DATA_REJECTED\"})\n\n// Fetch sungle user action creators\nexport const fetchSingleUserPending = () => ({type: \"FETCH_SINGLE_USER_PENDING\"})\nexport const fetchSingleUserFulfilled = user => ({type: \"FETCH_SINGLE_USER_FULFILLED\", user})\nexport const fetchSingleUserRejected = () => ({type: \"FETCH_SINGLE_USER_REJECTED\"})\n\n// GET requests the Django REST API, which returns authenticated user object.\nexport const fetchUser = () => {\n  const token = localStorage.getItem('token');\n  return dispatch => {\n    dispatch(fetchUserPending());\n    axios.get(`${process.env.REACT_APP_API_URL}/api/v1/rest-auth/user/`, {headers: { 'Authorization': `Token ${token}`}})\n      .then(response => {\n        const user = response.data;\n        dispatch(fetchUserFulfilled(user));\n      })\n      .catch(err => {\n        dispatch(fetchUserRejected());\n        dispatch({type: \"ADD_ERROR\", error: err});\n      })\n  }\n}\n\n// PUT requests the Django REST API to update user object.\nexport const putUserData = (username, email, countries, home, biography, success) => {\n  const token = localStorage.getItem('token');\n  return dispatch => {\n    axios.put(\n      `${process.env.REACT_APP_API_URL}/api/v1/rest-auth/user/`,\n      {\n        username: username,\n        email: email,\n        countries: countries,\n        home: home,\n        biography: biography\n      },\n      {headers: { 'Authorization': `Token ${token}`}}\n  )\n      .then(response => {\n        const user = response.data;\n        dispatch(putUserDataFulfilled(user));\n        dispatch({type: \"ADD_SUCCESS\", success: success});\n      })\n      .catch(err => {\n        dispatch(putUserDataRejected());\n        dispatch({type: \"ADD_ERROR\", error: err});\n      })\n  }\n}\n\n// GET requests the Django REST API, which returns user object from List View.\nexport const fetchSingleUser = (username) => {\n  return dispatch => {\n    dispatch(fetchSingleUserPending());\n    axios.get(`${process.env.REACT_APP_API_URL}/api/v1/users/?search=${username}`)\n      .then(response => {\n        const user = response.data;\n        dispatch(fetchSingleUserFulfilled(user));\n      })\n      .catch(err => {\n        dispatch(fetchSingleUserRejected());\n        dispatch({type: \"ADD_ERROR\", error: err});\n      })\n  }\n}\n","import React from 'react'\nimport IconButton from '@material-ui/core/IconButton'\nimport Close from '@material-ui/icons/Close'\n\nconst Errors = (props) => {\n\n  /*\n  If there are details on the error, they are in the response of the error\n  object, but if there are no details, the error is just the message.\n  */\n  let errorDetails = null;\n  if (props.error.response) {\n    errorDetails = Object.keys(props.error.response.data).map(error => (\n      <p key={error}>\n        {error.charAt(0).toUpperCase() + error.slice(1)} - {props.error.response.data[error]}\n      </p>\n    ));\n  } else {\n    errorDetails = props.error.message;\n  }\n\n  return (\n    <div className=\"error-message\">\n      <IconButton style={{ float: 'right' }} onClick={props.removeError}>\n        <Close />\n      </IconButton>\n      <div style={{ width: 48, height: 48, float: 'left' }}/>\n      {errorDetails}\n    </div>\n  )\n}\n\nexport default Errors;\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport Button from '@material-ui/core/Button'\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport SearchIcon from '@material-ui/icons/Search'\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle'\nimport ListIcon from '@material-ui/icons/FormatListBulleted'\nimport Tooltip from '@material-ui/core/Tooltip'\n\nconst NavBar = (props) => {\n\n  return (\n    <div style={{ backgroundColor: '#ffffff'}} >\n      <AppBar color='inherit' position=\"static\">\n        <Toolbar style={{ padding: 0 }}>\n          <Button\n            style={{ flex: 1, justifyContent: 'left', minWidth: 90, backgroundColor: 'transparent' }}\n            component={Link} to='/'\n            color=\"inherit\">\n            Wanderlist\n          </Button>\n          <Tooltip title='Trip Report Feed'>\n            <Button component={Link} to='/feed' color=\"inherit\"><ListIcon /></Button>\n          </Tooltip>\n          <Tooltip title='Search for Countries'>\n            <Button component={Link} to='/search' color=\"inherit\"><SearchIcon /></Button>\n          </Tooltip>\n          <Tooltip title='My Profile'>\n            <Button component={Link} to='/edit_profile' color=\"inherit\"><AccountCircleIcon /></Button>\n          </Tooltip>\n          {\n            props.authenticated\n            ? <Button component={Link} to='/logout' color=\"inherit\">Logout</Button>\n            : <Button component={Link} to='/login' color=\"inherit\">Login</Button>\n          }\n        </Toolbar>\n      </AppBar>\n    </div>\n  )\n};\n\nexport default NavBar;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst PrivateRoute = ({ component: Component, authenticated, ...rest }) => (\n\n  /*\n  Users must be authenticated in to view Private Routes or else they are\n  redirected to the Login Page.\n  */\n  <Route\n    {...rest}\n    render={props => (\n      authenticated\n        ? <Component {...props} />\n        : <Redirect to={{pathname: \"/login\"}} />\n    )}\n  />\n);\n\nexport default PrivateRoute;\n","import React from 'react'\nimport IconButton from '@material-ui/core/IconButton'\nimport Close from '@material-ui/icons/Close'\n\nconst Success = (props) => (\n  <div className=\"success-message\">\n    <IconButton style={{ float: 'right', padding: '0 auto' }} onClick={props.removeError}>\n      <Close />\n    </IconButton>\n    <div style={{ width: 48, height: 48, float: 'left' }}/>\n    {props.success && <p>{props.success}</p>}\n  </div>\n)\n\nexport default Success;\n","// Country modal action creators\nexport const openCountryModal = modalCountry => ({ type: \"OPEN_COUNTRY_MODAL\", modalCountry })\nexport const closeCountryModal = () => ({ type: \"CLOSE_COUNTRY_MODAL\" })\n\n// Edit Profile modal action creators\nexport const openEditProfileModal = modalProfile => ({ type: \"OPEN_EDIT_PROFILE_MODAL\", modalProfile })\nexport const closeEditProfileModal = () => ({ type: \"CLOSE_EDIT_PROFILE_MODAL\" })\n\n/*\nThere are two different actions that will open up the Post Modal. The first one\nopens up the Post modal with a blank form and a Post Submit function, and the\nsecond action passes in a trip report, and opens up the Post Modal with the forms\nautofilled with the trip report's details. The submit function will update the\ntrip report.\n*/\nexport const openPostModal = () => ({ type: \"OPEN_POST_MODAL\" })\nexport const openUpdatePostModal = modalPost => ({ type: \"OPEN_UPDATE_POST_MODAL\", modalPost })\nexport const closePostModal = () => ({ type: \"CLOSE_POST_MODAL\" })\n\n// Confirm Delete modal action creators\nexport const openConfirmDeleteModal = modalPost =>({ type: \"OPEN_CONFIRM_DELETE_MODAL\", modalPost })\nexport const closeConfirmDeleteModal = () => ({ type: \"CLOSE_CONFIRM_DELETE_MODAL\" })\n\n// Trip Report modal action creators\nexport const openTripReportModal = modalPost => ({ type: \"OPEN_TRIP_REPORT_MODAL\", modalPost })\nexport const closeTripReportModal = () => ({ type: \"CLOSE_TRIP_REPORT_MODAL\" })\n\n// Not Authenticated modal action creators\nexport const openNotAuthModal = () => ({ type: \"OPEN_NOT_AUTH_MODAL\" })\nexport const closeNotAuthModal = () => ({ type: \"CLOSE_NOT_AUTH_MODAL\" })\n\n// Copy Link modal action creators\nexport const openCopyLinkModal = modalLink => ({ type: \"OPEN_COPY_LINK_MODAL\", modalLink: modalLink })\nexport const closeCopyLinkModal = () => ({ type: \"CLOSE_COPY_LINK_MODAL\" })\n\n// Image modal action creators\nexport const openImageModal = modalImage => ({ type: \"OPEN_IMAGE_MODAL\", modalImage: modalImage })\nexport const closeImageModal = () => ({ type: \"CLOSE_IMAGE_MODAL\" })\n","import axios from 'axios'\n\n// Action creators\nexport const fetchCountryPending = () => ({type: \"FETCH_COUNTRY_PENDING\"})\nexport const fetchCountryFulfilled = country => ({type: \"FETCH_COUNTRY_FULFILLED\", country})\nexport const fetchCountryRejected = () => ({type: \"FETCH_COUNTRY_REJECTED\"})\n\n\n// GET requests the Django REST API which returns country object(s).\nexport const fetchCountry = (query) => {\n  return dispatch => {\n    dispatch(fetchCountryPending());\n    return axios.get(`${process.env.REACT_APP_API_URL}/api/v1/countries/?search=${query}`)\n      .then(response => {\n        const country = response.data;\n        dispatch(fetchCountryFulfilled(country));\n      })\n      .catch(err => {\n        dispatch(fetchCountryRejected());\n        dispatch({type: \"ADD_ERROR\", error: err});\n      })\n  }\n}\n","import axios from 'axios'\naxios.defaults.xsrfCookieName = 'csrftoken'\naxios.defaults.xsrfHeaderName = 'X-CSRFToken'\n\n// For fetching the first page of all of the users Trip Reports\nexport const fetchTripReportsPending = () => ({type: \"FETCH_TRIP_REPORTS_PENDING\"})\nexport const fetchTripReportsFulfilled = tripReports => ({type: \"FETCH_TRIP_REPORTS_FULFILLED\", tripReports})\nexport const fetchTripReportsRejected = () => ({type: \"FETCH_TRIP_REPORTS_REJECTED\"})\n\n// For fetching the next page of all of the users Trip Reports\nexport const fetchNextTripReportsPending = () => ({type: \"FETCH_NEXT_TRIP_REPORTS_PENDING\"})\nexport const fetchNextTripReportsFulfilled = tripReports => ({type: \"FETCH_NEXT_TRIP_REPORTS_FULFILLED\", tripReports})\nexport const fetchNextTripReportsRejected = () => ({type: \"FETCH_NEXT_TRIP_REPORTS_REJECTED\"})\n\n// For fetching the first page of Trip Reports of the authenticated user\nexport const fetchUserTripReportsPending = () => ({type: \"FETCH_USER_TRIP_REPORTS_PENDING\"})\nexport const fetchUserTripReportsFulfilled = tripReports => ({type: \"FETCH_USER_TRIP_REPORTS_FULFILLED\", tripReports})\nexport const fetchUserTripReportsRejected = () => ({type: \"FETCH_USER_TRIP_REPORTS_REJECTED\"})\n\n// For fetching the next page of the authenticated users Trip Reports\nexport const fetchNextUserTripReportsPending = () => ({type: \"FETCH_NEXT_USER_TRIP_REPORTS_PENDING\"})\nexport const fetchNextUserTripReportsFulfilled = tripReports => ({type: \"FETCH_NEXT_USER_TRIP_REPORTS_FULFILLED\", tripReports})\nexport const fetchNextUserTripReportsRejected = () => ({type: \"FETCH_NEXT_USER_TRIP_REPORTS_REJECTED\"})\n\n// For the authenticated user to POST request a new trip report\nexport const postTripReportsPending = () => ({type: \"POST_TRIP_REPORTS_PENDING\"})\nexport const postTripReportsFulfilled = response => ({type: \"POST_TRIP_REPORTS_FULFILLED\", response})\nexport const postTripReportsRejected = () => ({type: \"POST_TRIP_REPORTS_REJECTED\"})\n\n// For the authenticated user to delete a Trip Report of theirs\nexport const deleteTripReportsPending = () => ({type: \"DELETE_TRIP_REPORTS_PENDING\"})\nexport const deleteTripReportsFulfilled = response => ({type: \"DELETE_TRIP_REPORTS_FULFILLED\", response})\nexport const deleteTripReportsRejected = () => ({type: \"DELETE_TRIP_REPORTS_REJECTED\"})\n\n// For the authenticated user to update a Trip Report of theirs\nexport const updateTripReportsPending = () => ({type: \"UPDATE_TRIP_REPORTS_PENDING\"})\nexport const updateTripReportsFulfilled = response => ({type: \"UPDATE_TRIP_REPORTS_FULFILLED\", response})\nexport const updateTripReportsRejected = () => ({type: \"UPDATE_TRIP_REPORTS_REJECTED\"})\n\n// For fetching the post based off slug\nexport const fetchSlugTripReportsPending = () => ({type: \"FETCH_SLUG_TRIP_REPORTS_PENDING\"})\nexport const fetchSlugTripReportsFulfilled = tripReports => ({type: \"FETCH_SLUG_TRIP_REPORTS_FULFILLED\", tripReports})\nexport const fetchSlugTripReportsRejected = () => ({type: \"FETCH_SLUG_TRIP_REPORTS_REJECTED\"})\n\n// For fetching the Featured Trip Report\nexport const fetchFeaturedTripReportPending = () => ({type: \"FETCH_FEATURED_TRIP_REPORT_PENDING\"})\nexport const fetchFeaturedTripReportFulfilled = tripReport => ({type: \"FETCH_FEATURED_TRIP_REPORT_FULFILLED\", tripReport})\nexport const fetchFeaturedTripReportRejected = () => ({type: \"FETCH_FEATURED_TRIP_REPORT_REJECTED\"})\n\n/*\nGET requests the Django REST API and returns the first page of a list of Trip\nReports. The passed in url can have filter parameters added.\n*/\nexport const fetchTripReports = (url) => {\n  return dispatch => {\n    dispatch(fetchTripReportsPending());\n    axios.get(url)\n      .then(response => {\n        const tripReports = response.data;\n        dispatch(fetchTripReportsFulfilled(tripReports));\n      })\n      .catch(err => {\n        dispatch(fetchTripReportsRejected());\n        dispatch({type: \"ADD_ERROR\", error: err});\n      })\n  }\n}\n\n/*\nSince the Trip Reports are paginated, the original axios call returns an object\nwith a Next variable that contains the link API of the the next page, which is\npassed into this function to GET the next Trip Reports.\n*/\nexport const fetchNextTripReports = (url) => {\n  return dispatch => {\n    dispatch(fetchNextTripReportsPending());\n    axios.get(url)\n      .then(response => {\n        const tripReports = response.data;\n        dispatch(fetchNextTripReportsFulfilled(tripReports));\n      })\n      .catch(err => {\n        dispatch(fetchNextTripReportsRejected());\n        dispatch({type: \"ADD_ERROR\", error: err});\n      })\n  }\n}\n\n/*\nGET requests the Django REST API with the parameter of username to return the\nfirst page of the list of the Users TripReports.\n*/\nexport const fetchUserTripReports = (username) => {\n  return dispatch => {\n    dispatch(fetchUserTripReportsPending());\n    axios.get(`${process.env.REACT_APP_API_URL}/api/v1/reports/?ordering=-pk&search=${username}`)\n      .then(response => {\n        const tripReports = response.data;\n        dispatch(fetchUserTripReportsFulfilled(tripReports));\n      })\n      .catch(err => {\n        dispatch(fetchUserTripReportsRejected());\n        dispatch({type: \"ADD_ERROR\", error: err});\n      })\n  }\n}\n\n/*\nAgain, the paginated API returns a next variable that is the url to the next\npage, which is passed into this function to retrieve the next page of the user's\nTrip Reports.\n*/\nexport const fetchNextUserTripReports = (url) => {\n  return dispatch => {\n    dispatch(fetchNextUserTripReportsPending());\n    axios.get(url)\n      .then(response => {\n        const tripReports = response.data;\n        dispatch(fetchNextUserTripReportsFulfilled(tripReports));\n      })\n      .catch(err => {\n        dispatch(fetchNextUserTripReportsRejected());\n        dispatch({type: \"ADD_ERROR\", error: err});\n      })\n  }\n}\n\n/*\nPOST requests a new trip report to the Django REST API by the authenticated\nuser.\n*/\nexport const postTripReport = (author, title, content, countries, image) => {\n  const token = localStorage.getItem('token');\n  return dispatch => {\n    dispatch(postTripReportsPending());\n    const formData = new FormData();\n    formData.append('title', title);\n    formData.append('content', content);\n    formData.append('author', author);\n    formData.append('countries', countries);\n    if (image) {\n      formData.append('image', image);\n    }\n    axios.post(\n      `${process.env.REACT_APP_API_URL}/api/v1/reports/`, formData,\n      {headers: { 'Authorization': `Token ${token}`}}\n    )\n      .then(response => {\n        dispatch(postTripReportsFulfilled(response.data));\n      })\n      .catch(err => {\n        dispatch(postTripReportsRejected());\n        dispatch({type: \"ADD_ERROR\", error: err});\n      })\n  }\n}\n\n// DELETES a post of the authenticated user on the API.\nexport const deleteTripReport = (tripReport) => {\n  const token = localStorage.getItem('token');\n  return dispatch => {\n    dispatch(deleteTripReportsPending());\n    axios.delete(`${process.env.REACT_APP_API_URL}/api/v1/reports/${tripReport.id}/`, {headers: {\n      'X-Requested-With': 'XMLHttpRequest',\n      'X-CSRFToken': 'csrftoken',\n      'Authorization': `Token ${token}`\n    }})\n      .then(response => {\n        dispatch(deleteTripReportsFulfilled(tripReport));\n        dispatch({type: \"ADD_SUCCESS\", success: 'Your post has been deleted.'});\n      })\n      .catch(err => {\n        dispatch(deleteTripReportsRejected());\n        dispatch({type: \"ADD_ERROR\", error: err});\n      })\n  }\n}\n\n// UPDATEs a post of the authenticated user on the API.\nexport const updateTripReport = (tripReport, author, title, content, countries, image) => {\n  const token = localStorage.getItem('token');\n  return dispatch => {\n    dispatch(updateTripReportsPending());\n    const formData = new FormData();\n    formData.append('title', title);\n    formData.append('content', content);\n    formData.append('author', author);\n    formData.append('countries', countries);\n    // If image is field is left blank, the original image does not get updated or deleted.\n    if (image) {\n      formData.append('image', image);\n    }\n    axios.patch(`${process.env.REACT_APP_API_URL}/api/v1/reports/${tripReport}/`, formData,\n      {headers: {\n        'X-Requested-With': 'XMLHttpRequest',\n        'X-CSRFToken': 'csrftoken',\n        'Authorization': `Token ${token}`\n    }})\n      .then(response => {\n        dispatch(updateTripReportsFulfilled(response.data));\n        dispatch({type: \"ADD_SUCCESS\", success: 'Your post has been updated.'});\n      })\n      .catch(err => {\n        dispatch(updateTripReportsRejected());\n        dispatch({type: \"ADD_ERROR\", error: err});\n      })\n  }\n}\n\n/*\nFetches a single Trip Report based on slug to display on the posts /p/${slug}/\npage.\n*/\nexport const fetchSlugTripReports = (slug) => {\n  return dispatch => {\n    dispatch(fetchSlugTripReportsPending());\n    axios.get(`${process.env.REACT_APP_API_URL}/api/v1/reports/?search=${slug}`)\n      .then(response => {\n        const tripReports = response.data;\n        dispatch(fetchSlugTripReportsFulfilled(tripReports));\n      })\n      .catch(err => {\n        dispatch(fetchSlugTripReportsRejected());\n        dispatch({type: \"ADD_ERROR\", error: err});\n      })\n  }\n}\n\n/*\nGET requests the Django REST API and returns the Featured Trip Report. This slug\nfor the Featured Trip Report is hardcoded into the function.\n*/\nexport const fetchFeaturedTripReport = (slug) => {\n  return dispatch => {\n    dispatch(fetchFeaturedTripReportPending());\n    axios.get(`${process.env.REACT_APP_API_URL}/api/v1/reports/?search=${slug}`)\n      .then(response => {\n        const tripReport = response.data;\n        dispatch(fetchFeaturedTripReportFulfilled(tripReport));\n      })\n      .catch(err => {\n        dispatch(fetchFeaturedTripReportRejected());\n        dispatch({type: \"ADD_ERROR\", error: err});\n      })\n  }\n}\n","import axios from 'axios'\n\n// Action creators\nexport const toggleFavoriteFulfilled = response => ({type: \"TOGGLE_FAVORITE_FULFILLED\", response})\nexport const toggleFavoriteRejected = () => ({type: \"TOGGLE_FAVORITE_REJECTED\"})\n\nexport const toggleFavorite = (tripReport) => {\n  return dispatch => {\n    const token = localStorage.getItem('token');\n    axios.get(`${process.env.REACT_APP_API_URL}/api/v1/reports/${tripReport}/favorite/`, {headers: { 'Authorization': `Token ${token}`}})\n      .then(response => {\n        dispatch(toggleFavoriteFulfilled(response.data));\n      })\n      .catch(err => {\n        dispatch(toggleFavoriteRejected());\n        dispatch({type: \"ADD_ERROR\", error: err});\n      })\n  }\n}\n","import React from 'react'\nimport { Map, Marker, GoogleApiWrapper } from 'google-maps-react';\n\nconst API_KEY = process.env.REACT_APP_GOOGLE_API_KEY;\n\nconst GoogleMap = (props) => {\n\n  const style = {\n    position: 'relative',\n    display: 'flex',\n    width: '95%',\n    height: '95%',\n    border: '1px solid black',\n    margin: '0 auto',\n  }\n\n  /*\n  Adds clickable Markers to the map at the coordinates of all of the\n  countries on the users list.\n  */\n  const listMarkers = props.userCountries.map(country =>(\n    <Marker\n      key={country.id}\n      onClick={() => props.openCountryModal(country)}\n      name={country.name}\n      position={{lat: country.latlng[0], lng: country.latlng[1]}} />\n  ));\n\n\n  return (\n    <div className='map'>\n      <Map options={{ gestureHandling: 'coopertive' }}\n           style={style}\n           google={props.google}\n           zoom={2}>\n\n        {listMarkers}\n      </Map>\n    </div>\n  );\n}\n\n\nexport default GoogleApiWrapper({ apiKey: (API_KEY) })(GoogleMap)\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport Select from '@material-ui/core/Select'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport countries from '../country_data'\n\nclass EditProfileForm extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      country: props.user.home.id\n    }\n  }\n\n  handleChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  render() {\n\n    /*\n    Importing JSON file with all of the country names and pks from the Django\n    database. This array is mapped over to create the options of the Matrial\n    UI select form.\n    */\n    const menuItems = [...countries].sort((a, b) => a.name > b.name).map(country => (\n      <MenuItem key={country.pk} value={country.pk}>{country.name}</MenuItem>\n    ))\n\n    return(\n      <form onSubmit={this.props.handleSubmit}>\n        <TextField className=\"user-auth\" type='text' label='Username' name=\"username\" defaultValue={this.props.user.username}/><br/>\n        <TextField className=\"user-auth\" type='text' label='Email' name=\"email\" defaultValue={this.props.user.email}/><br/>\n        <TextField multiline className=\"user-auth\" type='text' label='Biography' name=\"biography\" defaultValue={this.props.user.biography}/><br/>\n        <FormControl>\n          <InputLabel htmlFor=\"countries\">Home Country</InputLabel>\n          <Select style={{ textAlign: 'left'}} className=\"user-auth\" name=\"country\" onChange={this.handleChange} value={this.state.country}>\n            {menuItems}\n          </Select>\n        </FormControl><br/>\n        <Button variant=\"contained\" color=\"primary\" type=\"submit\">Update</Button>\n        <Button onClick={() => this.props.closeEditProfileModal()} color=\"secondary\">Cancel</Button>\n      </form>\n    )\n  }\n}\n\nexport default EditProfileForm;\n","import React from 'react'\nimport EditProfileForm from './EditProfileForm'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\n\nconst EditProfileModal = (props) => (\n  <Dialog onClose={props.closeEditProfileModal} open={props.showEditProfileModal}>\n    <DialogContent>\n      <EditProfileForm {...props}/>\n    </DialogContent>\n  </Dialog>\n);\n\nexport default EditProfileModal;\n","import React, { Component } from 'react'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardMedia from '@material-ui/core/CardMedia'\nimport IconButton from '@material-ui/core/IconButton'\nimport MoreVertIcon from '@material-ui/icons/MoreVert'\nimport Menu from '@material-ui/core/Menu'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport EditIcon from '@material-ui/icons/Edit'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport LibraryBooksIcon from '@material-ui/icons/LibraryBooks'\n\nclass TripReportThumbnail extends Component {\n\n  state = {\n    anchorEl: null,\n  };\n\n  handleClick = event => {\n    this.setState({ anchorEl: event.currentTarget });\n  };\n\n  handleClose = () => {\n    this.setState({ anchorEl: null });\n  };\n\n  render() {\n\n    const { anchorEl } = this.state;\n\n    return(\n      <Card style={{ width: 300, height: 300}}>\n        <CardHeader title={this.props.tripReport.title}\n          action={\n            <IconButton\n              onClick={this.handleClick}\n              aria-owns={anchorEl ? 'simple-menu' : undefined}\n              aria-haspopup=\"true\"\n            >\n              <MoreVertIcon />\n            </IconButton>\n          }/>\n          <Menu\n            id=\"simple-menu\"\n            anchorEl={anchorEl}\n            open={Boolean(anchorEl)}\n            onClose={this.handleClose}\n          >\n            <MenuItem onClick={() => {this.handleClose(); this.props.openTripReportModal(this.props.tripReport);}}><LibraryBooksIcon /></MenuItem>\n            {this.props.match.path === '/edit_profile' && <MenuItem onClick={() => {this.handleClose(); this.props.openUpdatePostModal(this.props.tripReport);}}><EditIcon /></MenuItem>}\n            {this.props.match.path === '/edit_profile' && <MenuItem onClick={() => {this.handleClose(); this.props.openConfirmDeleteModal(this.props.tripReport);}}><DeleteIcon /></MenuItem>}\n          </Menu>\n        {\n          this.props.tripReport.image\n          ? <CardMedia component='img' src={this.props.tripReport.image} alt=\"\" />\n          : <CardMedia component='img' src={[...this.props.tripReport.countries].sort((a, b) => a.name > b.name)[0].flag} alt=\"\" />\n        }\n      </Card>\n    )\n  }\n};\n\nexport default TripReportThumbnail;\n","import React from 'react'\nimport ReactModal from 'react-modal'\nimport IconButton from '@material-ui/core/IconButton'\nimport Close from '@material-ui/icons/Close'\nimport {Map, Marker, GoogleApiWrapper} from 'google-maps-react'\nimport Typography from '@material-ui/core/Typography'\n\nReactModal.setAppElement('body');\nconst API_KEY = process.env.REACT_APP_GOOGLE_API_KEY;\n\nconst CountryModal = (props) => {\n\n  const style = {\n    width: '100%',\n    height: '75%',\n    border: '1px solid black',\n    margin: '0 auto',\n    position: 'relative'\n  }\n\n  /*\n  The data is all listed as conditional because some of the values do not\n  exist for certain country objects e.g. Antarctica does not have a capital\n  or borders.\n  */\n  return (\n    <ReactModal isOpen={props.showCountryModal}>\n      <IconButton style={{ float: 'right' }} onClick={props.closeCountryModal}>\n        <Close />\n      </IconButton>\n      <div style={{ width: 48, height: 48, float: 'left' }}/>\n      <div className='wrap'>\n        <div className=\"left\">\n          <Typography variant=\"h4\" gutterBottom>\n            {props.modalCountry.name}\n          </Typography>\n          <div>\n          <img className=\"flag\" src={props.modalCountry.flag} alt=\"\"/><br/><br/>\n          <div style={{ maxWidth: 400, height: 300, position: 'relative', margin: 'auto' }}>\n            { props.modalCountry.latlng &&\n              <Map\n                options={{ gestureHandling: 'coopertive' }}\n                style={style}\n                google={props.google}\n                zoom={4}\n                initialCenter={{lat: props.modalCountry.latlng[0], lng: props.modalCountry.latlng[1]}}\n              >\n                <Marker\n                  name={props.modalCountry.name}\n                  position={{lat: props.modalCountry.latlng[0], lng: props.modalCountry.latlng[1]}}\n                />\n              </Map>\n            }\n          </div>\n          </div>\n        </div>\n        <div className=\"right\">\n          <Typography variant=\"h4\" gutterBottom>\n            Geographic & Political Info\n          </Typography>\n          <div className=\"modal-detail\">\n            <Typography variant='subtitle1' gutterBottom>\n              {props.modalCountry.native_name && <div><strong>Native Name</strong>: {props.modalCountry.native_name}</div>}\n              {props.modalCountry.alt_spellings && <div><strong>Alternate Spellings</strong>: {props.modalCountry.alt_spellings.join(', ')}</div>}\n              {props.modalCountry.capital && <div><strong>Capital</strong>: {props.modalCountry.capital}</div>}\n              {props.modalCountry.demonym && <div><strong>Demonym</strong>: {props.modalCountry.demonym}</div>}\n              {props.modalCountry.languages && <div><strong>Languages</strong>: {props.modalCountry.languages && props.modalCountry.languages.map(language => language.name).join(', ')}</div>}\n              {props.modalCountry.region && <div><strong>Region</strong>: {props.modalCountry.region}</div>}\n              {props.modalCountry.subregion && <div><strong>SubRegion</strong>: {props.modalCountry.subregion}</div>}\n              {props.modalCountry.borders && <div><strong>Borders</strong>: {props.modalCountry.borders && props.modalCountry.borders.join(', ')}</div>}\n              {props.modalCountry.regional_blocs && <div><strong>Regional Trade Blocs</strong>: {props.modalCountry.regional_blocs && props.modalCountry.regional_blocs.map(bloc => bloc.name).join(', ')}</div>}\n              {props.modalCountry.population && <div><strong>Population</strong>: {props.modalCountry.population}</div>}\n              {props.modalCountry.area && <div><strong>Area</strong>: {props.modalCountry.area} km²</div>}\n              {props.modalCountry.latlng && <div><strong>Latitude & Longitude</strong>: {props.modalCountry.latlng && props.modalCountry.latlng.join(', ')}</div>}\n              {props.modalCountry.timezones && <div><strong>Timezone(s)</strong>: {props.modalCountry.timezones && props.modalCountry.timezones.join(', ')}</div>}\n              {props.modalCountry.top_level_domain && <div><strong>Top Level Domain(s)</strong>: {props.modalCountry.top_level_domain && props.modalCountry.top_level_domain.join(', ')}</div>}\n              {props.modalCountry.alpha2code && <div><strong>ISO ALPHA-2</strong>: {props.modalCountry.alpha2code}</div>}\n              {props.modalCountry.alpha3code && <div><strong>ISO ALPHA-3</strong>: {props.modalCountry.alpha3code}</div>}\n              {props.modalCountry.gini && <div><strong>Gini Coefficient</strong>: {props.modalCountry.gini}</div>}\n              {props.modalCountry.numeric_code && <div><strong>Numeric Code</strong>: {props.modalCountry.numeric_code}</div>}\n              {props.modalCountry.calling_codes && <div><strong>Calling Code(s)</strong>: {props.modalCountry.calling_codes && props.modalCountry.calling_codes.join(', ')}</div>}\n              {props.modalCountry.cioc && <div><strong>CIOC</strong>: {props.modalCountry.cioc}</div>}\n            </Typography>\n          </div>\n        </div>\n      </div><br/>\n    </ReactModal>\n  )\n};\n\nexport default GoogleApiWrapper({ apiKey: (API_KEY) })(CountryModal);\n","import React from 'react'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\n\nconst ImageModal = (props) => (\n  <Dialog\n    onClose={props.closeImageModal} open={props.showImageModal}>\n    <DialogContent style={{ padding: 0 }}>\n      <img src={props.modalImage} alt='' />\n    </DialogContent>\n  </Dialog>\n);\n\n\nexport default ImageModal\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardActions from '@material-ui/core/CardActions'\nimport Avatar from '@material-ui/core/Avatar'\nimport Typography from '@material-ui/core/Typography'\nimport IconButton from '@material-ui/core/IconButton'\nimport FavoriteIcon from '@material-ui/icons/Favorite'\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder'\nimport ShareIcon from '@material-ui/icons/Share'\nimport CollectionsIcon from '@material-ui/icons/Collections'\nimport Button from '@material-ui/core/Button'\n\nconst TripReport = (props) => {\n\n  const listCountries = [...props.countries].sort((a, b) => a.name > b.name).map(country =>(\n    <Button onClick={() => props.openCountryModal(country)} size='small' key={country.id}>\n      {country.name}\n    </Button>\n  ));\n\n  return(\n    <Card style={{ margin: '0 auto', width: '90%' }}>\n      {/*\n      If Trip Report has an image, render the action button to view the image.\n      */}\n      {\n        props.image\n        ? <CardHeader\n            style={{ marginRight: 24 }}\n            title={props.title}\n            subheader={\n              <Link style={{ textDecoration: 'none', color: 'gray' }} to={`/u/${props.author.username}/`} >\n                {props.author.username}\n              </Link>\n            }\n            action={\n              <IconButton onClick={() => props.openImageModal(props.image)}>\n                <CollectionsIcon />\n              </IconButton>\n            }\n            avatar={<Avatar src={props.author.home.flag}/>}\n          />\n          : <CardHeader\n              style={{ marginRight: 56 }}\n              title={props.title}\n              subheader={\n                <Link style={{ textDecoration: 'none', color: 'gray' }} to={`/u/${props.author.username}/`} >\n                  {props.author.username}\n                </Link>\n              }\n              avatar={<Avatar src={props.author.home.flag}/>}\n            />\n        }\n      <CardContent>\n        <Typography component=\"p\">\n          {props.content}\n        </Typography><br/>\n        <hr/>\n        {listCountries}\n      </CardContent>\n      <CardActions >\n        {\n          props.favoriters.includes(props.pk)\n          ? <IconButton onClick={props.handleClick} id={props.id} ><FavoriteIcon /></IconButton>\n          : <IconButton onClick={(e) => props.authenticated ? props.handleClick(e) : props.openNotAuthModal()} id={props.id} ><FavoriteBorderIcon /></IconButton>\n        }\n        <IconButton onClick={() => props.openCopyLinkModal(props.slug)}><ShareIcon /></IconButton>\n      </CardActions>\n    </Card>\n  )\n};\n\nexport default TripReport;\n","import React from 'react'\nimport CountryModal from './CountryModal'\nimport ImageModal from './ImageModal'\nimport TripReport from './TripReport'\nimport ReactModal from 'react-modal'\nimport Close from '@material-ui/icons/Close'\nimport IconButton from '@material-ui/core/IconButton'\n\nReactModal.setAppElement('body');\n\nconst TripReportModal = (props) => {\n\n  return (\n    <ReactModal isOpen={props.showTripReportModal}>\n      <CountryModal {...props} />\n      <ImageModal {...props} />\n      <IconButton style={{ float: 'right' }} onClick={props.closeTripReportModal}>\n        <Close />\n      </IconButton><br/>\n      <div className='content'>\n        <TripReport {...props.modalPost} handleClick={props.handleClick} {...props} />\n      </div>\n    </ReactModal>\n  )\n};\n\nexport default TripReportModal;\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\n\nconst ConfirmDeleteModal = (props) => (\n  <Dialog onClose={props.closeConfirmDeleteModal} open={props.showConfirmDeleteModal}>\n    <DialogContent>\n      <DialogContentText>\n        Are you sure you want to delete this Trip Report?\n      </DialogContentText>\n      <DialogActions>\n      <Button onClick={() => {props.closeConfirmDeleteModal(); props.deleteTripReport(props.modalPost);}} color=\"primary\" variant=\"contained\">\n        Delete\n      </Button>\n      <Button onClick={() => props.closeConfirmDeleteModal()} color=\"secondary\">\n        Cancel\n      </Button>\n    </DialogActions>\n    </DialogContent>\n  </Dialog>\n);\n\nexport default ConfirmDeleteModal\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport TextField from '@material-ui/core/TextField'\n\n// Form with the link of the Trip Report, so that users can easily copy the link.\nconst CopyLinkModal = (props) => (\n  <Dialog onClose={props.closeCopyLinkModal} open={props.showCopyLinkModal}>\n    <DialogContent>\n      <TextField className=\"user-auth\" type='text' name=\"link\" defaultValue={`${process.env.REACT_APP_API_URL}/p/${props.modalLink}/`} />\n      <DialogActions>\n        <Button onClick={() => props.closeCopyLinkModal()} variant='contained' color=\"primary\">\n          Close\n        </Button>\n      </DialogActions>\n    </DialogContent>\n  </Dialog>\n);\n\n\nexport default CopyLinkModal\n","import React, { Component } from 'react'\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport Select from '@material-ui/core/Select'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport countries from '../country_data'\n\nclass PostTripReportForm extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      countries: []\n    }\n  }\n\n  handleChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  render() {\n\n    /*\n    This copies the array to avoid mutation, sorts alphabetically by name,\n    then maps to a Material UI MenuItem.\n    */\n    // const menuItems = [...this.props.user.countries].sort((a, b) => a.name > b.name).map(country => (\n    //   <MenuItem key={country.id} value={country.id}>{country.name}</MenuItem>\n    // ))\n\n    /*\n    Currently displaying list of all of the countries when posting. New users\n    were confused why the list was empty before they had added countries to\n    their map. To avoid confusion and make a better user experience, all of the\n    countries are shown until UX changes.\n    */\n    const menuItems = [...countries].sort((a, b) => a.name > b.name).map(country => (\n      <MenuItem key={country.pk} value={country.pk}>{country.name}</MenuItem>\n    ))\n\n    return(\n      <form onSubmit={this.props.handleSubmit}>\n        <TextField className=\"user-auth\" type='text' name=\"title\" label=\"Title\"/><br/>\n        <TextField multiline fullWidth className=\"user-auth\" type='text' name=\"content\" label=\"Content\"/><br/>\n        <FormControl>\n          <InputLabel htmlFor=\"countries\">Countries</InputLabel>\n          <Select style={{ textAlign: 'left'}} className=\"user-auth\" name=\"countries\" onChange={this.handleChange} value={this.state.countries}>\n            {menuItems}\n          </Select>\n        </FormControl><br/>\n        <input\n          name='image'\n          accept=\"image/*\"\n          id=\"flat-button-file\"\n          multiple={false}\n          type=\"file\"\n        /><br/>\n        {/*\n        Material UI label for upload input.\n        <div style={{ width: 300, textAlign: 'left', margin: '0 auto', marginTop: 10 }}>\n          <label htmlFor=\"flat-button-file\" >\n            <Button variant='contained' component=\"span\">Browse</Button>\n            &nbsp;Select a file\n          </label>\n        </div>\n        */}\n        <Button style={{ marginTop: 10 }} variant=\"contained\" color=\"primary\" type=\"submit\">Post</Button>\n      </form>\n    )\n  }\n};\n\nexport default PostTripReportForm;\n","import React, { Component } from 'react'\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport Select from '@material-ui/core/Select'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport countries from '../country_data'\n\nclass UpdateTripReportForm extends Component {\n\n  constructor(props) {\n    super(props);\n    let countryList = props.modalPost.countries.map(country => country.id);\n    this.state = {\n      title: props.modalPost.title,\n      content: props.modalPost.content,\n      countries: countryList\n    }\n  }\n\n  handleChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  render() {\n\n    // This copies the array to avoid mutation, sorts alphabetically by name,\n    // then maps to a Material UI MenuItem.\n    // const menuItems = [...this.props.user.countries].sort((a, b) => a.name > b.name).map(country => (\n    //   <MenuItem key={country.id} value={country.id}>{country.name}</MenuItem>\n    // ))\n\n    /*\n    Currently displaying list of all of the countries when posting. New users\n    were confused why the list was empty before they had added countries to\n    their map. To avoid confusion and make a better user experience, all of the\n    countries are shown until UX changes.\n    */\n    const menuItems = [...countries].sort((a, b) => a.name > b.name).map(country => (\n      <MenuItem key={country.pk} value={country.pk}>{country.name}</MenuItem>\n    ))\n\n    return(\n      <form onSubmit={this.props.handleSubmit}>\n        <TextField className=\"user-auth\" type='text' name=\"title\" label=\"Title\" onChange={this.handleChange} value={this.state.title}/><br/>\n        <TextField multiline fullWidth className=\"user-auth\" type='text' name=\"content\" label=\"Content\" onChange={this.handleChange} value={this.state.content}/><br/>\n        <FormControl>\n          <InputLabel htmlFor=\"countries\">Countries</InputLabel>\n          <Select style={{ textAlign: 'left'}} className=\"user-auth\" name=\"countries\" onChange={this.handleChange} value={this.state.countries}>\n            {menuItems}\n          </Select>\n        </FormControl><br/>\n        <input\n          name='image'\n          accept=\"image/*\"\n          id=\"flat-button-file\"\n          multiple={false}\n          type=\"file\"\n        /><br/>\n        {/*\n        Material UI label for upload input.\n        <div style={{ width: 300, textAlign: 'left', margin: '0 auto', marginTop: 10 }}>\n          <label htmlFor=\"flat-button-file\" >\n            <Button variant='contained' component=\"span\">Change</Button>\n            &nbsp;Select a file\n          </label>\n        </div>\n        */}\n        <Button style={{ marginTop: 10 }} variant=\"contained\" color=\"primary\" type=\"submit\">Update</Button>\n      </form>\n    )\n  }\n};\n\nexport default UpdateTripReportForm;\n","import React from 'react'\nimport ReactModal from 'react-modal'\nimport PostTripReportForm from './PostTripReportForm'\nimport UpdateTripReportForm from './UpdateTripReportForm'\nimport IconButton from '@material-ui/core/IconButton'\nimport Close from '@material-ui/icons/Close'\n\nReactModal.setAppElement('body');\n\n/*\nthis.props.updatePostModal is updated depending on which action opens up the\nPost Modal. If the action is \"OPEN_UPDATE_POST_MODAL\" it flips to true, and a\ntrip report is passed in that can be updated by the user. If the action is\n\"OPEN_POST_MODAL\", it remains false and no trip report is passed in, and a new\none is POSTed to the Django REST API.\n*/\nconst PostModal = (props) => (\n  <ReactModal isOpen={props.showPostModal}>\n    <IconButton style={{ float: 'right' }} onClick={props.closePostModal}>\n      <Close />\n    </IconButton>\n    <div style={{ width: 48, height: 48, float: 'left' }}/>\n    {\n      props.updatePostModal\n      ? <UpdateTripReportForm {...props} modalPost={props.modalPost} handleSubmit={props.handleUpdateSubmit} />\n      : <PostTripReportForm {...props} handleSubmit={props.handlePostSubmit} />\n    }\n  </ReactModal>\n);\n\nexport default PostModal;\n","import React, { Component } from 'react'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\n\nimport { openEditProfileModal, closeEditProfileModal } from '../actions/modalActions'\nimport { putUserData } from '../actions/userActions'\nimport { fetchCountry } from '../actions/countryActions'\nimport { fetchNextUserTripReports } from '../actions/tripReportActions'\nimport { fetchUserTripReports, postTripReport, deleteTripReport, updateTripReport } from '../actions/tripReportActions'\nimport { openPostModal, closePostModal, openUpdatePostModal } from '../actions/modalActions'\nimport { openCountryModal, closeCountryModal } from '../actions/modalActions'\nimport { openConfirmDeleteModal, closeConfirmDeleteModal } from '../actions/modalActions'\nimport { openTripReportModal, closeTripReportModal } from '../actions/modalActions'\nimport { openCopyLinkModal, closeCopyLinkModal } from '../actions/modalActions'\nimport { openImageModal, closeImageModal } from '../actions/modalActions'\nimport { removeError } from '../actions/errorActions'\nimport { toggleFavorite } from '../actions/favoriteActions'\n\nimport GoogleMap from '../components/GoogleMap'\nimport EditProfileModal from '../components/EditProfileModal'\nimport TripReportThumbnail from '../components/TripReportThumbnail'\nimport TripReportModal from '../components/TripReportModal'\nimport ConfirmDeleteModal from '../components/ConfirmDeleteModal'\nimport CountryModal from '../components/CountryModal'\nimport CopyLinkModal from '../components/CopyLinkModal'\nimport PostModal from '../components/PostModal'\n\nimport Button from '@material-ui/core/Button'\nimport Avatar from '@material-ui/core/Avatar'\nimport Typography from '@material-ui/core/Typography'\nimport { DotLoader } from 'react-spinners'\nimport IconButton from '@material-ui/core/IconButton'\nimport Grid from '@material-ui/core/Grid'\nimport Add from '@material-ui/icons/Add'\nimport Tooltip from '@material-ui/core/Tooltip'\n\n/*\nThis container displays the same information as ViewProfile, but is used for\nauthenticated users to edit their profile information, and post new Trip\nReports. This is a protected route, so only authenticated users will have\naccess to editing their profile.\n*/\nexport class EditProfile extends Component {\n\n  // Returns True if the user has scrolled past the bottom.\n  isBottom(el) {\n    return el.getBoundingClientRect().bottom <= window.innerHeight;\n  }\n\n  // Adds event listener that checks for scrolling.\n  componentDidMount() {\n    this.props.fetchUserTripReports(localStorage.getItem('username'));\n    document.addEventListener('scroll', this.onScroll);\n  }\n\n  componentWillUnmount() {\n    this.props.removeError();\n    document.removeEventListener('scroll', this.onScroll);\n  }\n\n  /*\n  If the user has scrolled to the bottom, AND there is next URL to load more\n  Trip Reports, AND the next Trip Reports are not already being fetched, the\n  next Trip Reports will be fetched i.e. infinite scrolling.\n  */\n  onScroll = () => {\n    const element = document.getElementById('scroll');\n    if (this.isBottom(element) && this.props.next && !this.props.fetchingUserNext && !this.props.fetchingTripReports) {\n      this.props.fetchNextUserTripReports(this.props.next);\n    }\n  };\n\n  /*\n  handlPostSubmit will create a new trip report and handleUpdateSubmit will\n  update an existing trip report. Both functions are passed into the Post Modal.\n  If the Post Modal is opened with openPostModal, this.props.updatePostModal\n  remains false and the blank form is displayed, and the submit button will\n  create a new post. If the Post Modal is openeed with openUpdatePostModal,\n  this.props.updatePostModal will flip to true, and the pre-filled in form will\n  display and the submit button will update the existing trip report.\n  */\n  handlePostSubmit = (e) => {\n    e.preventDefault();\n    // e.target.countries.value must be split at the comma and then strings\n    // must be converted into numbers.\n    let countries;\n    if (e.target.countries.value !== '') {\n      countries = e.target.countries.value.split(',').map(Number);\n    }\n    this.props.postTripReport(\n      this.props.user.pk,\n      e.target.title.value,\n      e.target.content.value,\n      countries,\n      e.target.image.files[0]\n    );\n    this.props.closePostModal();\n  }\n\n  handleUpdateSubmit = (e) => {\n    e.preventDefault();\n    let countries;\n    if (e.target.countries.value !== '') {\n      countries = e.target.countries.value.split(',').map(Number);\n    }\n    this.props.updateTripReport(\n      this.props.modalPost.id,\n      this.props.user.pk,\n      e.target.title.value,\n      e.target.content.value,\n      countries,\n      e.target.image.files[0]\n    );\n    this.props.closePostModal();\n  }\n\n  /*\n  This handle submit works with the edit profile modal.\n  */\n  handleSubmit = (e) => {\n    e.preventDefault();\n    let userCountryList = this.props.userCountries.map(country => country.id);\n    this.props.putUserData(\n      e.target.username.value,\n      e.target.email.value,\n      userCountryList,\n      Number(e.target.country.value),\n      e.target.biography.value,\n      'Your profile has been updated.'\n    );\n    this.props.closeEditProfileModal();\n  }\n\n  handleClick = (e) => {\n    e.preventDefault();\n    this.props.toggleFavorite(e.currentTarget.id);\n  }\n\n  render(){\n\n    /*\n    List out Trip Reports to display in Material UI grid component.\n    */\n    let listTripReports = null;\n    if (this.props.tripReports){\n      listTripReports = this.props.tripReports.map(tripReport =>(\n        <Grid item key={tripReport.id}>\n          <TripReportThumbnail tripReport={tripReport} {...this.props} />\n        </Grid>\n      ));\n    }\n\n    return(\n      <div id='scroll' className='content'>\n        <CopyLinkModal {...this.props} />\n        {this.props.fetched && <CountryModal {...this.props} />}\n        <EditProfileModal handleSubmit={this.handleSubmit} {...this.props} />\n        <PostModal {...this.props} handlePostSubmit={this.handlePostSubmit} handleUpdateSubmit={this.handleUpdateSubmit} />\n        <ConfirmDeleteModal {...this.props} />\n        {this.props.modalPost.author && <TripReportModal handleClick={this.handleClick} {...this.props} />}\n\n        {/* This section is the user avatar, username, biography, etc. */}\n        <div className='wrap' style={{ marginBottom: 60 }} >\n          <div className='left' style={{ width: '37%' }}>\n            {this.props.user.home && <Avatar style={{ width: 150, height: 150, margin: '0 auto' }} src={this.props.user.home.flag}/>}\n          </div>\n          <div className='right' style={{textAlign: 'left', width: '63%', padding: 10 }}>\n            <div style={{ height: 40 }}>\n            <Typography variant=\"h4\" gutterBottom>\n              {this.props.user.username}\n            </Typography>\n            </div><br/>\n            <div style={{ height: 40 }}>\n              <Button size='small' variant='outlined' onClick={() => this.props.openEditProfileModal(this.props.user)}>\n                Edit Profile\n              </Button>\n            </div><br/>\n            <div style={{ height: 40 }}>\n              {this.props.user.biography}\n            </div>\n          </div>\n        </div>\n        <hr style={{width: '85%', size: 1}}/>\n\n        {/* This section is the user map */}\n        {this.props.fetched && <GoogleMap {...this.props}/>}\n        <hr style={{width: '85%', size: 1}}/>\n\n        {/* This section is the user posts */}\n        <div className=\"\">\n          <Tooltip title=\"New Trip Report\">\n            <IconButton variant=\"contained\" aria-label=\"New Trip Report\" onClick={this.props.openPostModal}>\n              <Add />\n            </IconButton>\n          </Tooltip>\n          {this.props.posting && <div><DotLoader size={50} color={'#2196f3'} className=\"content\" /><br/></div>}\n          {this.props.updating && <div><DotLoader size={50} color={'#2196f3'} className=\"content\" /><br/></div>}\n          {this.props.fetchingTripReports && <div><DotLoader size={50} color={'#2196f3'} className=\"content\" /></div>}\n          {this.props.fetchedTripReports && <Grid container spacing={24} justify='center' >{listTripReports}</Grid>}\n          <div style={{ height: 15 }}/>\n          {this.props.fetchingUserNext && <DotLoader size={50} color={'#2196f3'} className=\"content\" />}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapState = state => {\n  return {\n    pk: state.user.user.pk,\n    authenticated: state.auth.authenticated,\n    user: state.user.user,\n    next: state.tripReport.userTripReports.next,\n    fetched: state.user.fetched,\n    fetchingUserNext: state.tripReport.fetchingUserNext,\n    searchedCountry: state.country.country,\n    showEditProfileModal: state.modal.showEditProfileModal,\n    modalProfile: state.modal.modalProfile,\n    userCountries: state.user.user.countries,\n    showCountryModal: state.modal.showCountryModal,\n    modalCountry: state.modal.modalCountry,\n    showPostModal: state.modal.showPostModal,\n    fetchingTripReports: state.tripReport.fetchingTripReports,\n    fetchedTripReports: state.tripReport.fetchedTripReports,\n    tripReports: state.tripReport.userTripReports.results,\n    updatePostModal: state.modal.updatePostModal,\n    modalPost: state.modal.modalPost,\n    showConfirmDeleteModal: state.modal.showConfirmDeleteModal,\n    showTripReportModal: state.modal.showTripReportModal,\n    showCopyLinkModal: state.modal.showCopyLinkModal,\n    modalLink: state.modal.modalLink,\n    posting: state.tripReport.posting,\n    updating: state.tripReport.updating,\n    showImageModal: state.modal.showImageModal,\n    modalImage: state.modal.modalImage,\n  };\n}\n\nconst mapDispatch = dispatch => {\n  return bindActionCreators({\n    fetchCountry,\n    putUserData,\n    openEditProfileModal,\n    closeEditProfileModal,\n    openCountryModal,\n    closeCountryModal,\n    removeError,\n    fetchUserTripReports,\n    postTripReport,\n    deleteTripReport,\n    updateTripReport,\n    openPostModal,\n    closePostModal,\n    openUpdatePostModal,\n    openConfirmDeleteModal,\n    closeConfirmDeleteModal,\n    openTripReportModal,\n    closeTripReportModal,\n    fetchNextUserTripReports,\n    toggleFavorite,\n    openCopyLinkModal,\n    closeCopyLinkModal,\n    openImageModal,\n    closeImageModal,\n  }, dispatch);\n}\n\nexport default connect(mapState, mapDispatch)(EditProfile);\n\nEditProfile.propTypes = {\n  pk: PropTypes.number,\n  authenticated: PropTypes.bool,\n  user: PropTypes.object,\n  next: PropTypes.string,\n  fetched: PropTypes.bool,\n  fetchingUserNext: PropTypes.bool,\n  searchedCountry: PropTypes.array,\n  showEditProfileModal: PropTypes.bool,\n  modalProfile: PropTypes.object,\n  userCountries: PropTypes.array,\n  showCountryModal: PropTypes.bool,\n  modalCountry: PropTypes.object,\n  showPostModal: PropTypes.bool,\n  fetchingTripReports: PropTypes.bool,\n  fetchedTripReports: PropTypes.bool,\n  tripReports: PropTypes.array,\n  updatePostModal: PropTypes.bool,\n  modalPost: PropTypes.object,\n  showConfirmDeleteModal: PropTypes.bool,\n  showTripReportModal: PropTypes.bool,\n  showCopyLinkModal: PropTypes.bool,\n  modalLink: PropTypes.string,\n  posting: PropTypes.bool,\n  updating: PropTypes.bool,\n  showImageModal: PropTypes.bool,\n  modalImage: PropTypes.string,\n\n  fetchCountry: PropTypes.func,\n  putUserData: PropTypes.func,\n  openEditProfileModal: PropTypes.func,\n  closeEditProfileModal: PropTypes.func,\n  openCountryModal: PropTypes.func,\n  closeCountryModal: PropTypes.func,\n  removeError: PropTypes.func,\n  fetchUserTripReports: PropTypes.func,\n  postTripReport: PropTypes.func,\n  deleteTripReport: PropTypes.func,\n  updateTripReport: PropTypes.func,\n  openPostModal: PropTypes.func,\n  closePostModal: PropTypes.func,\n  openUpdatePostModal: PropTypes.func,\n  openConfirmDeleteModal: PropTypes.func,\n  closeConfirmDeleteModal: PropTypes.func,\n  openTripReportModal: PropTypes.func,\n  closeTripReportModal: PropTypes.func,\n  fetchNextUserTripReports: PropTypes.func,\n  toggleFavorite: PropTypes.func,\n  openCopyLinkModal: PropTypes.func,\n  closeCopyLinkModal: PropTypes.func,\n  openImageModal: PropTypes.func,\n  closeImageModal: PropTypes.func,\n};\n","import React, { Component } from 'react'\nimport IconButton from '@material-ui/core/IconButton'\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport MoreVertIcon from '@material-ui/icons/MoreVert'\nimport Menu from '@material-ui/core/Menu'\nimport MenuItem from '@material-ui/core/MenuItem'\n\nclass Filter extends Component {\n\n  state = {\n    anchorEl: null,\n  };\n\n  handleClick = event => {\n    this.setState({ anchorEl: event.currentTarget });\n  };\n\n  handleClose = () => {\n    this.setState({ anchorEl: null });\n  };\n\n  render() {\n\n    const { anchorEl } = this.state;\n\n    return(\n      <div style={{ textAlign: 'left' }}>\n        <IconButton\n          onClick={this.handleClick}\n          aria-owns={anchorEl ? 'simple-menu' : undefined}\n          aria-haspopup=\"true\"\n        >\n          <MoreVertIcon />\n        </IconButton>\n        <Menu\n          id=\"simple-menu\"\n          anchorEl={anchorEl}\n          open={Boolean(anchorEl)}\n          onClose={this.handleClose}\n        >\n          {/*\n          Filter Menu contains a form to filter Trip Reports by country or\n          author and another two buttons to filter by the newest and top\n          (highest favorite count) Trip Reports. \n          */}\n          <MenuItem style={{ background: 'transparent' }} >\n            <form onSubmit={(e) => {this.handleClose(); this.props.handleSubmit(e)}}>\n              <TextField style={{ maxWidth: 250 }} type='text' name=\"filter\" placeholder=\"Author or Country\"/>\n              <Button variant='contained' color='primary' size='small' type='submit'>\n                Filter\n              </Button>\n            </form>\n          </MenuItem>\n          <MenuItem onClick={() =>  {this.handleClose(); this.props.handleTopClick()}}>Top</MenuItem>\n          <MenuItem onClick={() => {this.handleClose(); this.props.handleNewestClick();}}>Newest</MenuItem>\n        </Menu>\n      </div>\n    )\n  }\n}\n\nexport default Filter\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\n\nconst NotAuthModal = (props) => (\n  <Dialog onClose={props.closeNotAuthModal} open={props.showNotAuthModal}>\n    <DialogContent>\n      <DialogContentText>\n        You must be logged in to do that.\n      </DialogContentText>\n      <DialogActions>\n      <Button onClick={() => props.closeNotAuthModal()} variant=\"contained\" color=\"primary\">\n        Close\n      </Button>\n    </DialogActions>\n    </DialogContent>\n  </Dialog>\n);\n\nexport default NotAuthModal\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardActions from '@material-ui/core/CardActions'\nimport Avatar from '@material-ui/core/Avatar'\nimport Typography from '@material-ui/core/Typography'\nimport IconButton from '@material-ui/core/IconButton'\nimport FavoriteIcon from '@material-ui/icons/Favorite'\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder'\nimport ShareIcon from '@material-ui/icons/Share'\nimport CollectionsIcon from '@material-ui/icons/Collections'\nimport Button from '@material-ui/core/Button'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport Collapse from '@material-ui/core/Collapse'\n\nclass TripReportTruncated extends Component {\n\n  state = { expanded: false };\n\n  handleExpandClick = () => {\n    this.setState(state => ({ expanded: !state.expanded }));\n  };\n\n  render() {\n\n    // Splits this.props.content into array of paragraphs.\n    const paragraphs = this.props.content.split('\\n')\n\n    const listCountries = [...this.props.countries].sort((a, b) => a.name > b.name).map(country =>(\n      <Button onClick={() => this.props.openCountryModal(country)} size='small' key={country.id}>\n        {country.name}\n      </Button>\n    ));\n\n    return(\n      <Card style={{ margin: '0 auto', width: '90%' }}>\n        {/*\n        If Trip Report has an image, render the action button to view the image.\n        */}\n        {\n          this.props.image\n          ? <CardHeader\n              style={{ marginRight: 24 }}\n              title={this.props.title}\n              subheader={\n                <Link style={{ textDecoration: 'none', color: 'gray' }} to={`/u/${this.props.author.username}/`} >\n                  {this.props.author.username}\n                </Link>\n              }\n              action={\n                <IconButton onClick={() => this.props.openImageModal(this.props.image)}>\n                  <CollectionsIcon />\n                </IconButton>\n              }\n              avatar={<Avatar src={this.props.author.home.flag}/>}\n            />\n            : <CardHeader\n                style={{ marginRight: 56 }}\n                title={this.props.title}\n                subheader={\n                  <Link style={{ textDecoration: 'none', color: 'gray' }} to={`/u/${this.props.author.username}/`} >\n                    {this.props.author.username}\n                  </Link>\n                }\n                avatar={<Avatar src={this.props.author.home.flag}/>}\n              />\n          }\n        <CardContent>\n          <Typography component=\"p\">\n            {/* Displays first paragraph */}\n            {paragraphs[0]}\n          </Typography>\n        </CardContent>\n        <Collapse in={this.state.expanded} timeout=\"auto\" unmountOnExit>\n          <CardContent>\n            <Typography component=\"p\">\n              {/*\n                If indexOf('/n') !== -1 , the index of the first line break does\n                not equal zero, which means the content was broken into paragraphs,\n                and the content can be shown starting at the second paragraph. If\n                the index does === -1, there were no line breaks and the whole\n                text is already displayed.\n              */}\n              {\n                this.props.content.indexOf(\"\\n\") !== -1\n                && this.props.content.substring(this.props.content.indexOf(\"\\n\") + 2)\n              }\n            </Typography>\n          </CardContent>\n        </Collapse>\n        <CardContent>\n          <hr/>\n          {listCountries}\n        </CardContent>\n        <CardActions style={{ display: 'flex' }} disableActionSpacing>\n          {\n            this.props.favoriters.includes(this.props.pk)\n            ? <IconButton onClick={this.props.handleClick} id={this.props.id} ><FavoriteIcon /></IconButton>\n            : <IconButton onClick={(e) => this.props.authenticated ? this.props.handleClick(e) : this.props.openNotAuthModal()} id={this.props.id} ><FavoriteBorderIcon /></IconButton>\n          }\n          <IconButton onClick={() => this.props.openCopyLinkModal(this.props.slug)}><ShareIcon /></IconButton>\n          {/* Button flips when expanded */}\n          {\n            this.state.expanded\n            ? <IconButton\n                style={{ transform: 'rotate(180deg)', float: 'right', marginLeft: 'auto' }}\n                onClick={this.handleExpandClick}\n                aria-expanded={this.state.expanded}\n                aria-label=\"Show more\"\n              >\n                <ExpandMoreIcon />\n              </IconButton>\n            : <IconButton\n                style={{ float: 'right', marginLeft: 'auto' }}\n                onClick={this.handleExpandClick}\n                aria-expanded={this.state.expanded}\n                aria-label=\"Show more\"\n              >\n                <ExpandMoreIcon />\n              </IconButton>\n          }\n        </CardActions>\n      </Card>\n    )\n  }\n};\n\nexport default TripReportTruncated;\n","import React, { Component } from 'react'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport { PropTypes } from 'prop-types'\n\nimport { openCopyLinkModal, closeCopyLinkModal } from '../actions/modalActions'\nimport { fetchTripReports, fetchNextTripReports } from '../actions/tripReportActions'\nimport { openCountryModal, closeCountryModal } from '../actions/modalActions'\nimport { openImageModal, closeImageModal } from '../actions/modalActions'\nimport { openNotAuthModal, closeNotAuthModal } from '../actions/modalActions'\nimport { removeError } from '../actions/errorActions'\nimport { toggleFavorite } from '../actions/favoriteActions'\n\nimport CountryModal from '../components/CountryModal'\nimport CopyLinkModal from '../components/CopyLinkModal'\nimport ImageModal from '../components/ImageModal'\nimport Filter from '../components/Filter'\nimport NotAuthModal from '../components/NotAuthModal'\nimport TripReportTruncated from '../components/TripReportTruncated'\n\nimport { DotLoader } from 'react-spinners'\n\nexport class Feed extends Component {\n\n  // Returns True if the user has scrolled past the bottom.\n  isBottom(el) {\n    return el.getBoundingClientRect().bottom <= window.innerHeight;\n  }\n\n  // Adds event listener that checks for scrolling.\n  componentDidMount() {\n    document.addEventListener('scroll', this.onScroll);\n  }\n\n  componentWillUnmount() {\n    this.props.removeError();\n    document.removeEventListener('scroll', this.onScroll);\n  }\n\n  /*\n  If the user has scrolled to the bottom, AND there is next URL to load more\n  Trip Reports, AND the next Trip Reports are not already being fetched, the\n  next Trip Reports will be fetched i.e. infinite scrolling.\n  */\n  onScroll = () => {\n    const element = document.getElementById('scroll');\n    if (this.isBottom(element) && this.props.next && !this.props.fetchingNext) {\n      this.props.fetchNextTripReports(this.props.next);\n    }\n  };\n\n  handleClick = (e) => {\n    e.preventDefault();\n    this.props.toggleFavorite(e.currentTarget.id);\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.fetchTripReports(`${process.env.REACT_APP_API_URL}/api/v1/reports/?search=${e.target[0].value}`);\n  }\n\n  handleNewestClick = () => {\n    this.props.fetchTripReports(`${process.env.REACT_APP_API_URL}/api/v1/reports/?ordering=-pk`)\n  }\n\n  handleTopClick = () => {\n    this.props.fetchTripReports(`${process.env.REACT_APP_API_URL}/api/v1/reports/`)\n  }\n\n  render(){\n\n    let listTripReports = null;\n    if (this.props.tripReports){\n      listTripReports = this.props.tripReports.map(tripReport =>(\n        <div key={tripReport.id} style={{ marginBottom: 20 }}>\n          <TripReportTruncated handleClick={this.handleClick} {...tripReport} {...this.props} openCountryModal={this.props.openCountryModal}/>\n        </div>\n      ));\n    }\n\n    return(\n      <div id='scroll' className=\"content\" style={{ marginTop: 0 }} >\n        <CopyLinkModal {...this.props} />\n        <ImageModal {...this.props} />\n        <NotAuthModal {...this.props} />\n        {this.props.fetched && <CountryModal {...this.props} />}\n        <Filter handleSubmit={this.handleSubmit} handleNewestClick={this.handleNewestClick} handleTopClick={this.handleTopClick}/>\n        {this.props.fetching && <div><DotLoader size={50} color={'#2196f3'} className=\"content\" /><br/></div>}\n        {this.props.fetched && <div>{listTripReports}</div>}\n        <div style={{ height: 15 }}/>\n        {this.props.fetchingNext && <DotLoader size={50} color={'#2196f3'} className=\"content\" />}\n      </div>\n    );\n  }\n}\n\nconst mapState = state => {\n  return {\n    pk: state.user.user.pk,\n    authenticated: state.auth.authenticated,\n    fetched: state.tripReport.fetched,\n    fetching: state.tripReport.fetching,\n    next: state.tripReport.tripReports.next,\n    fetchingNext: state.tripReport.fetchingNext,\n    tripReports: state.tripReport.tripReports.results,\n    showCountryModal: state.modal.showCountryModal,\n    modalCountry: state.modal.modalCountry,\n    showNotAuthModal: state.modal.showNotAuthModal,\n    showCopyLinkModal: state.modal.showCopyLinkModal,\n    modalLink: state.modal.modalLink,\n    showImageModal: state.modal.showImageModal,\n    modalImage: state.modal.modalImage,\n  };\n}\n\nconst mapDispatch = dispatch => {\n  return bindActionCreators({\n    openCountryModal,\n    closeCountryModal,\n    removeError,\n    fetchNextTripReports,\n    fetchTripReports,\n    toggleFavorite,\n    openNotAuthModal,\n    closeNotAuthModal,\n    openCopyLinkModal,\n    closeCopyLinkModal,\n    openImageModal,\n    closeImageModal,\n  }, dispatch);\n}\n\nexport default connect(mapState, mapDispatch)(Feed);\n\nFeed.propTypes = {\n  pk: PropTypes.number,\n  authenticated: PropTypes.bool,\n  fetched: PropTypes.bool,\n  fetching: PropTypes.bool,\n  next: PropTypes.string,\n  tripReports: PropTypes.array,\n  showCountryModal: PropTypes.bool,\n  modalCountry: PropTypes.object,\n  showNotAuthModal: PropTypes.bool,\n  showCopyLinkModal: PropTypes.bool,\n  modalLink: PropTypes.string,\n  showImageModal: PropTypes.bool,\n  modalImage: PropTypes.string,\n\n  openCountryModal: PropTypes.func,\n  closeCountryModal: PropTypes.func,\n  removeError: PropTypes.func,\n  fetchNextTripReports: PropTypes.func,\n  fetchTripReports: PropTypes.func,\n  toggleFavorite: PropTypes.func,\n  openNotAuthModal: PropTypes.func,\n  closeNotAuthModal: PropTypes.func,\n  openCopyLinkModal: PropTypes.func,\n  closeCopyLinkModal: PropTypes.func,\n  openImageModal: PropTypes.func,\n  closeImageModal: PropTypes.func,\n};\n","import axios from 'axios'\nimport { fetchUser } from './userActions'\nimport { fetchUserTripReports } from './tripReportActions'\n\n// Action creators\nexport const authStart = () => ({type: \"AUTH_START\"})\nexport const authSuccess = token => ({type: \"AUTH_SUCCESS\", token})\nexport const authFail = () => ({type: \"AUTH_FAIL\"})\n\n/*\nThe token stored in localStorage to authenticate the user is removed, logging\nthe user out.\n*/\nexport const authLogout = () => {\n  localStorage.removeItem('token');\n  localStorage.removeItem('username');\n  return {\n    type: \"AUTH_LOGOUT\"\n  }\n}\n\n/*\nLogs user in using axios and recieves a token from the Django API. This token\nis stored in localStorage.\n*/\nexport const authLogin = (username, password) => {\n  return dispatch => {\n    dispatch(authStart());\n    axios.post(`${process.env.REACT_APP_API_URL}/api/v1/rest-auth/login/`, {\n      username: username,\n      password: password\n    })\n      .then(response => {\n        const token = response.data.key;\n        localStorage.setItem('token', token);\n        localStorage.setItem('username', username);\n        dispatch(authSuccess(token));\n        dispatch(fetchUser());\n        dispatch(fetchUserTripReports(username));\n      })\n      .catch(err => {\n        dispatch(authFail());\n        dispatch({type: \"ADD_ERROR\", error: err});\n      })\n  }\n}\n\n/*\nSimilar to login, registers a user with the Django REST API which returns a\ntoken to authenticate the user. This token is stored in localStorage.\n*/\nexport const authRegister = (username, email, password1, password2, home) => {\n  return dispatch => {\n    localStorage.removeItem('token');\n    dispatch(authStart());\n    axios.post(`${process.env.REACT_APP_API_URL}/api/v1/rest-auth/registration/`, {\n      username: username,\n      email: email,\n      password1: password1,\n      password2: password2,\n      home: home\n    })\n      .then(response => {\n        const token = response.data.key;\n        localStorage.setItem('token', token);\n        localStorage.setItem('username', username);\n        dispatch(authSuccess(token));\n        dispatch(fetchUser());\n        dispatch({type: \"ADD_SUCCESS\", success: 'You have successfully registered.'});\n      })\n      .catch(err => {\n        dispatch(authFail());\n        dispatch({type: \"ADD_ERROR\", error: err});\n      })\n  }\n}\n\n/*\nChecks to see if the authentication token exists in localStorage. If a token\nexists, it runs the login function. If no token exits it runs the logout\nfunction.\n*/\nexport const authCheckState = () => {\n  const token = localStorage.getItem('token');\n  return dispatch => {\n    if (token === null) {\n      dispatch(authLogout());\n    } else {\n      dispatch(authSuccess(token));\n    }\n  }\n}\n\n/*\nThe users email is posted to the Django url, which then sends an email with a\nlink where the user can reset their password. Since the state is not changing,\nthere is no need to dispatch any actions other than those related to success\nand errors.\n*/\nexport const requestPasswordReset = (email) => {\n  return dispatch => {\n    axios.post(`${process.env.REACT_APP_API_URL}/api/v1/rest-auth/password/reset/`, {\n      email: email,\n    })\n      .then(response => {\n        dispatch({type: \"ADD_SUCCESS\", success: 'An email has been sent with instructions.'});\n      })\n      .catch(err => {\n        dispatch({type: \"ADD_ERROR\", error: err});\n      })\n  }\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardContent from '@material-ui/core/CardContent'\n\nconst ForgotPasswordForm = (props) => (\n  <Card style={{ maxWidth: 400, margin: '0 auto'}}>\n    <CardHeader title=\"Request Password Reset\"/>\n    <CardContent>\n      <form onSubmit={props.handleSubmit}>\n        <TextField className=\"user-auth\" type='text' name=\"email\" label=\"Email\"/><br/><br/>\n        <Button variant=\"contained\" color=\"primary\" type=\"submit\">Submit</Button>\n        <Link to=\"/login\"><Button>Cancel</Button></Link>\n      </form>\n    </CardContent>\n  </Card>\n);\n\nexport default ForgotPasswordForm;\n","import React, { Component } from 'react'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\n\nimport { requestPasswordReset } from '../actions/authActions'\n\nimport ForgotPasswordForm from '../components/ForgotPasswordForm'\n\n/*\nPOSTS an email address to the Django backend, which handles sending an email\nwith a url to set a new password for the user.\n*/\nexport class ForgotPassword extends Component{\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.requestPasswordReset(e.target.email.value);\n    e.target.email.value = \"\";\n  }\n\n  render() {\n    return (\n      <div className='content'>\n        <ForgotPasswordForm handleSubmit={this.handleSubmit}/>\n      </div>\n    )\n  }\n}\n\nconst mapState = state => {\n  return {\n    success: state.error.success,\n  }\n}\n\nconst mapDispatch = dispatch => {\n  return bindActionCreators({\n    requestPasswordReset,\n  }, dispatch)\n}\n\nexport default connect(mapState, mapDispatch)(ForgotPassword);\n\nForgotPassword.propTypes = {\n  requestPasswordReset: PropTypes.func,\n  success: PropTypes.string\n};\n","import React, { Component } from 'react'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport { PropTypes } from 'prop-types'\n\nimport { openCopyLinkModal, closeCopyLinkModal } from '../actions/modalActions'\nimport { openCountryModal, closeCountryModal } from '../actions/modalActions'\nimport { openImageModal, closeImageModal } from '../actions/modalActions'\nimport { openNotAuthModal, closeNotAuthModal } from '../actions/modalActions'\nimport { removeError } from '../actions/errorActions'\nimport { toggleFavorite } from '../actions/favoriteActions'\n\nimport CopyLinkModal from '../components/CopyLinkModal'\nimport CountryModal from '../components/CountryModal'\nimport ImageModal from '../components/ImageModal'\nimport NotAuthModal from '../components/NotAuthModal'\nimport TripReportTruncated from '../components/TripReportTruncated'\n\nimport { DotLoader } from 'react-spinners'\nimport Typography from '@material-ui/core/Typography'\n\nexport class Home extends Component {\n\n  componentWillUnmount() {\n    this.props.removeError();\n  }\n\n  handleClick = (e) => {\n    e.preventDefault();\n    this.props.toggleFavorite(e.currentTarget.id);\n  }\n\n  render(){\n\n    let featuredTripReport = null;\n    if (this.props.tripReport){\n      featuredTripReport = this.props.tripReport.map(tripReport =>(\n        <div key={tripReport.id} style={{ marginBottom: 20 }}>\n          <TripReportTruncated handleClick={this.handleClick} {...tripReport} {...this.props} openCountryModal={this.props.openCountryModal}/>\n        </div>\n      ));\n    }\n\n    return(\n      <div >\n        <NotAuthModal {...this.props} />\n        <CopyLinkModal {...this.props} />\n        <ImageModal {...this.props} />\n        {this.props.modalCountry && <CountryModal {...this.props} />}\n        <div className='header-img'>\n          <Typography variant=\"h2\" gutterBottom style={{ color: 'white', paddingTop: 200 }}>\n            Connect, Learn, Share\n          </Typography>\n        </div>\n        <div style={{ marginTop: 60, textAlign: 'center' }}>\n          <h2>Search for Countries and Territories</h2>\n          <img style={{ margin: '0 auto' }} src='https://s3.eu-west-3.amazonaws.com/countries-app/media/country.png' alt='' />\n        </div>\n        <div style={{marginTop: 60, textAlign: 'center' }}>\n          <h2>Add them to your personalized map</h2>\n          <img style={{ margin: '0 auto' }} src='https://s3.eu-west-3.amazonaws.com/countries-app/media/map.png' alt='' />\n        </div>\n        <div className='content' style={{ margin: '0 auto', marginTop: 30 }}>\n          <h2>Post Trip Reports about journeys you've taken</h2>\n          <div style={{ textAlign: 'left', width: '90%', margin: '0 auto' }}>\n            Featured Trip Report\n          </div>\n          {\n            this.props.tripReport\n            ? <div>{featuredTripReport}</div>\n            : <DotLoader size={50} color={'#2196f3'} className=\"content\" />\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapState = state => {\n  return {\n    tripReport: state.tripReport.featuredTripReport,\n    showCountryModal: state.modal.showCountryModal,\n    modalCountry: state.modal.modalCountry,\n    pk: state.user.user.pk,\n    authenticated: state.auth.authenticated,\n    showNotAuthModal: state.modal.showNotAuthModal,\n    showCopyLinkModal: state.modal.showCopyLinkModal,\n    modalLink: state.modal.modalLink,\n    showImageModal: state.modal.showImageModal,\n    modalImage: state.modal.modalImage\n  };\n}\n\nconst mapDispatch = dispatch => {\n  return bindActionCreators({\n    removeError,\n    toggleFavorite,\n    openCountryModal,\n    closeCountryModal,\n    openNotAuthModal,\n    closeNotAuthModal,\n    openCopyLinkModal,\n    closeCopyLinkModal,\n    openImageModal,\n    closeImageModal\n  }, dispatch);\n}\n\nexport default connect(mapState, mapDispatch)(Home);\n\nHome.propTypes = {\n  tripReport: PropTypes.array,\n  showCountryModal: PropTypes.bool,\n  modalCountry: PropTypes.object,\n  pk: PropTypes.number,\n  authenticated: PropTypes.bool,\n  showNotAuthModal: PropTypes.bool,\n  showCopyLinkModal: PropTypes.bool,\n  modalLink: PropTypes.string,\n  showImageModal: PropTypes.bool,\n  modalImage: PropTypes.string,\n\n  removeError: PropTypes.func,\n  openCountryModal: PropTypes.func,\n  closeCountryModal: PropTypes.func,\n  openCopyLinkModal: PropTypes.func,\n  closeCopyLinkModal: PropTypes.func,\n  openImageModal: PropTypes.func,\n  closeImageModal: PropTypes.func,\n};\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardContent from '@material-ui/core/CardContent'\n\nconst LoginForm = (props) => (\n  <Card style={{ maxWidth: 400, margin: '0 auto'}}>\n    <CardHeader title=\"Login\"/>\n    <CardContent>\n      <form onSubmit={props.handleSubmit}>\n        <TextField className=\"user-auth\" type='text' name=\"username\" label=\"Username\"/><br/>\n        <TextField className=\"user-auth\" type='password' name=\"password\" label=\"Password\"/><br/><br/>\n        <Button variant=\"contained\" color=\"primary\" type=\"submit\">Login</Button>\n        <Link to=\"/register\"><Button>Register</Button></Link><br/><br/>\n        <Link style={{ textDecoration: 'none', color: 'black' }} to=\"/password_reset\">Forgot Password?</Link>\n      </form>\n    </CardContent>\n  </Card>\n);\n\nexport default LoginForm;\n","import React, { Component } from 'react'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { Redirect } from 'react-router-dom'\n\nimport { authLogin } from '../actions/authActions'\nimport { removeError } from '../actions/errorActions'\n\nimport LoginForm from '../components/LoginForm'\n\nexport class Login extends Component {\n\n  componentWillUnmount() {\n    this.props.removeError();\n  }\n\n  // Authenticates the user.\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.authLogin(e.target.username.value, e.target.password.value);\n  }\n\n  render(){\n    return(\n      <div className=\"content\">\n        {\n          !this.props.authenticated\n          ? <LoginForm handleSubmit={this.handleSubmit} {...this.props} />\n          : <Redirect to={{pathname: \"/\",}} />\n        }\n      </div>\n    );\n  }\n}\n\nconst mapState = state => {\n  return {\n    authenticating: state.auth.authenticating,\n    authenticated: state.auth.authenticated,\n  };\n}\n\nconst mapDispatch = dispatch => {\n  return bindActionCreators({\n    authLogin,\n    removeError\n  }, dispatch);\n}\n\nexport default connect(mapState, mapDispatch)(Login);\n\nLogin.propTypes = {\n  authenticating: PropTypes.bool,\n  authenticated: PropTypes.bool,\n  authLogin: PropTypes.func\n};\n","import React, { Component } from 'react'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\n\nimport { authLogout } from '../actions/authActions'\n\nexport class Logout extends Component {\n\n  componentWillMount() {\n    this.props.authLogout();\n  }\n\n  render() {\n    return(\n      <div className=\"content\">\n        You have been logged out.\n      </div>\n    )\n  }\n};\n\nconst mapState = state => {\n  return {\n  }\n}\n\nconst mapDispatch = dispatch => {\n  return bindActionCreators({\n    authLogout,\n  }, dispatch)\n}\n\nexport default connect(mapState, mapDispatch)(Logout);\n\nLogout.propTypes = {\n  authLogout: PropTypes.func\n};\n","import React, { Component } from 'react'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport { PropTypes } from 'prop-types'\n\nimport { openCopyLinkModal, closeCopyLinkModal } from '../actions/modalActions'\nimport { fetchSlugTripReports } from '../actions/tripReportActions'\nimport { openCountryModal, closeCountryModal } from '../actions/modalActions'\nimport { openImageModal, closeImageModal } from '../actions/modalActions'\nimport { openNotAuthModal, closeNotAuthModal } from '../actions/modalActions'\nimport { removeError } from '../actions/errorActions'\nimport { toggleFavorite } from '../actions/favoriteActions'\n\nimport CountryModal from '../components/CountryModal'\nimport CopyLinkModal from '../components/CopyLinkModal'\nimport ImageModal from '../components/ImageModal'\nimport NotAuthModal from '../components/NotAuthModal'\nimport TripReport from '../components/TripReport'\n\nimport { DotLoader } from 'react-spinners'\n\n/*\nThis component creates a link off the posts slug, so that users can share and\naccess posts externally.\n*/\nexport class Post extends Component {\n\n  componentDidMount () {\n    const { slug } = this.props.match.params\n    this.props.fetchSlugTripReports(slug);\n  }\n\n  componentWillUnmount() {\n    this.props.removeError();\n  }\n\n  handleClick = (e) => {\n    e.preventDefault();\n    this.props.toggleFavorite(e.currentTarget.id);\n  }\n\n  render(){\n\n    let listTripReport = null;\n    if (this.props.tripReports){\n      listTripReport = this.props.tripReports.map(tripReport =>(\n        <div key={tripReport.id} style={{ marginBottom: 20 }}>\n          <TripReport handleClick={this.handleClick} {...tripReport} {...this.props} openCountryModal={this.props.openCountryModal}/>\n        </div>\n      ));\n    }\n\n    return(\n      <div className=\"content\">\n        <NotAuthModal {...this.props} />\n        <ImageModal {...this.props} />\n        <CopyLinkModal {...this.props} />\n        {this.props.fetched && <CountryModal {...this.props} />}\n        {this.props.fetching && <div className='centered'><DotLoader size={50} color={'#2196f3'} className=\"content\" /></div>}\n        {this.props.fetched && <div>{listTripReport}</div>}\n      </div>\n    );\n  }\n}\n\nconst mapState = state => {\n  return {\n    pk: state.user.user.pk,\n    authenticated: state.auth.authenticated,\n    tripReports: state.tripReport.slugTripReports,\n    fetched: state.tripReport.fetchedSlugTripReports,\n    fetching: state.tripReport.fetchingSlugTripReports,\n    showCountryModal: state.modal.showCountryModal,\n    modalCountry: state.modal.modalCountry,\n    showNotAuthModal: state.modal.showNotAuthModal,\n    showCopyLinkModal: state.modal.showCopyLinkModal,\n    modalLink: state.modal.modalLink,\n    showImageModal: state.modal.showImageModal,\n    modalImage: state.modal.modalImage,\n  };\n}\n\nconst mapDispatch = dispatch => {\n  return bindActionCreators({\n    fetchSlugTripReports,\n    removeError,\n    openCountryModal,\n    closeCountryModal,\n    toggleFavorite,\n    openNotAuthModal,\n    closeNotAuthModal,\n    openCopyLinkModal,\n    closeCopyLinkModal,\n    openImageModal,\n    closeImageModal,\n  }, dispatch);\n}\n\nexport default connect(mapState, mapDispatch)(Post);\n\nPost.propTypes = {\n  pk: PropTypes.number,\n  authenticated: PropTypes.bool,\n  tripReport: PropTypes.array,\n  fetched: PropTypes.bool,\n  showCountryModal: PropTypes.bool,\n  modalCountry: PropTypes.object,\n  showNotAuthModal: PropTypes.bool,\n  showCopyLinkModal: PropTypes.bool,\n  modalLink: PropTypes.string,\n  showImageModal: PropTypes.bool,\n  modalImage: PropTypes.string,\n\n  fetchSlugTripReports: PropTypes.func,\n  removeError: PropTypes.func,\n  openCountryModal: PropTypes.func,\n  closeCountryModal: PropTypes.func,\n  toggleFavorite: PropTypes.func,\n  openNotAuthModal: PropTypes.func,\n  closeNotAuthModal: PropTypes.func,\n  openCopyLinkModal: PropTypes.func,\n  closeCopyLinkModal: PropTypes.func,\n  openImageModal: PropTypes.func,\n  closeImageModal: PropTypes.func,\n};\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport Select from '@material-ui/core/Select'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardContent from '@material-ui/core/CardContent'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport countries from '../country_data'\nimport { DotLoader } from 'react-spinners'\n\nclass RegistrationForm extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      country: ''\n    }\n  }\n\n  handleChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  render() {\n\n    /*\n    Importing JSON file with all of the country names and pks from the Django\n    database. This array is mapped over to create the options of the Matrial\n    UI select form.\n    */\n    const menuItems = [...countries].sort((a, b) => a.name > b.name).map(country => (\n      <MenuItem key={country.pk} value={country.pk}>{country.name}</MenuItem>\n    ))\n\n    return(\n      <div>\n        {this.props.authenticating && <div><DotLoader size={50} color={'#2196f3'} className=\"content\" /><br/></div>}\n        <Card style={{ maxWidth: 400, margin: '0 auto'}}>\n          <CardHeader title=\"Register\"/>\n          <CardContent>\n            <form onSubmit={this.props.handleSubmit}>\n              <TextField className=\"user-auth\" type='text' name=\"username\" label=\"Username\"/><br/>\n              <TextField className=\"user-auth\" type='text' name=\"email\" label=\"Email\"/><br/>\n              <TextField className=\"user-auth\" type='password' name=\"password1\" label=\"Password\"/><br/>\n              <TextField className=\"user-auth\" type='password' name=\"password2\" label=\"Confirm Password\"/><br/>\n              <FormControl>\n                <InputLabel htmlFor=\"country\">Home Country</InputLabel>\n                <Select style={{ textAlign: 'left'}} className=\"user-auth\" name=\"country\" onChange={this.handleChange} value={this.state.country}>\n                  {menuItems}\n                </Select>\n              </FormControl><br/><br/>\n              <Button variant=\"contained\" color=\"primary\" type=\"submit\">Register</Button>\n              <Link to=\"/login\"><Button>Cancel</Button></Link>\n            </form>\n          </CardContent>\n        </Card>\n      </div>\n    )\n  }\n};\n\nexport default RegistrationForm;\n","import React, { Component } from 'react'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { Redirect } from 'react-router-dom';\n\nimport { authRegister } from '../actions/authActions'\nimport { removeError } from '../actions/errorActions'\n\nimport RegistrationForm from '../components/RegistrationForm'\n\nexport class Register extends Component {\n\n  componentWillUnmount() {\n    this.props.removeError();\n  }\n\n  // Registers the user.\n  handleSubmit = (e) => {\n    e.preventDefault();\n    let country;\n    /*\n    JS tries to convert empty string to 0 with Number, this prevents that,\n    which POSTs an empty string instead of 0 to return the correct error\n    if the Home Country field is left blank on registration.\n    */\n    if (e.target.country.value !== '') {\n      country = Number(e.target.country.value)\n    }\n    this.props.authRegister(\n      e.target.username.value,\n      e.target.email.value,\n      e.target.password1.value,\n      e.target.password2.value,\n      country\n    );\n    e.target.password1.value='';\n    e.target.password2.value='';\n  }\n  render(){\n    return(\n      /*\n      If the user is authenticated on the Register page, it will redirect to\n      the home page.\n      */\n      <div className=\"content\">\n      {\n        !this.props.authenticated\n        ? <RegistrationForm handleSubmit={this.handleSubmit} {...this.props}/>\n        : <Redirect to={{pathname: \"/\",}} />\n      }\n      </div>\n    );\n  }\n}\n\nconst mapState = state => {\n  return {\n    authenticating: state.auth.authenticating,\n    authenticated: state.auth.authenticated,\n  };\n}\n\nconst mapDispatch = dispatch => {\n  return bindActionCreators({\n    authRegister,\n    removeError\n  }, dispatch);\n}\n\nexport default connect(mapState, mapDispatch)(Register);\n\nRegister.propTypes = {\n  authenticating: PropTypes.bool,\n  authenticated: PropTypes.bool,\n  authRegister: PropTypes.func\n};\n","import React from 'react'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardMedia from '@material-ui/core/CardMedia'\nimport IconButton from '@material-ui/core/IconButton'\nimport MoreVertIcon from '@material-ui/icons/MoreVert'\nimport AddCircleIcon from '@material-ui/icons/AddCircle'\nimport RemoveCircleIcon from '@material-ui/icons/RemoveCircle'\nimport Menu from '@material-ui/core/Menu'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport Tooltip from '@material-ui/core/Tooltip'\n\nclass Results extends React.Component {\n\n  state = {\n    anchorEl: null,\n  };\n\n  handleClick = event => {\n    this.setState({ anchorEl: event.currentTarget });\n  };\n\n  handleClose = () => {\n    this.setState({ anchorEl: null });\n  };\n\n  render(){\n\n    const { anchorEl } = this.state;\n\n    return(\n      <Card style={{maxWidth: 400, margin: '0 auto'}}>\n        <CardHeader\n          style={{ marginLeft: 24 }}\n          action={\n            <IconButton\n              onClick={this.handleClick}\n              aria-owns={anchorEl ? 'simple-menu' : undefined}\n              aria-haspopup=\"true\"\n            >\n              <MoreVertIcon />\n            </IconButton>\n          }\n          title={this.props.country.name} />\n        <Menu\n          id=\"simple-menu\"\n          anchorEl={anchorEl}\n          open={Boolean(anchorEl)}\n          onClose={this.handleClose}\n        >\n          {/*\n            Maps userCountries into an array of just the country names, then\n            checks if the Result country name is in the array. If it is, it\n            displays the Remove Button, if it is not, it displays the Add\n            Button. If no user is authenticated, neither button will show.\n          */}\n          {\n            (this.props.authenticated && ![...this.props.userCountries].map(country => country.name).includes(this.props.country.name))\n            && (\n              <Tooltip title='Add To My Map'>\n                <MenuItem onClick={(e) => {this.handleClose(); this.props.handleClick(e);}} value={this.props.country.name} id={this.props.country.id}>\n                  <AddCircleIcon style={{margin: '0 auto'}}/>\n                </MenuItem>\n              </Tooltip>\n            )\n          }\n          {\n            (this.props.authenticated && [...this.props.userCountries].map(country => country.name).includes(this.props.country.name))\n            && (\n              <Tooltip title='Remove From My Map'>\n                <MenuItem onClick={(e) => {this.handleClose(); this.props.handleClick(e);}} value={this.props.country.name} id={this.props.country.id}>\n                  <RemoveCircleIcon style={{margin: '0 auto'}}/>\n                </MenuItem>\n              </Tooltip>\n            )\n          }\n          {/*\n          If user is not authenticated, Add button shows the Not Authenticated\n          Modal instead.\n          */}\n          {\n            !this.props.authenticated\n            && (\n              <Tooltip title='Add To My Map'>\n                <MenuItem onClick={() => this.props.openNotAuthModal()} value={this.props.country.name} id={this.props.country.id}>\n                  <AddCircleIcon style={{margin: '0 auto'}}/>\n                </MenuItem>\n              </Tooltip>\n            )\n          }\n          <MenuItem onClick={() => {this.handleClose(); this.props.openCountryModal(this.props.country);}}>More Info</MenuItem>\n        </Menu>\n        <CardMedia component='img' src={this.props.country.flag} alt=\"\" width=\"400\"/>\n      </Card>\n    )};\n}\n\nexport default Results;\n","import React, { Component } from 'react'\nimport Button from '@material-ui/core/Button'\nimport countries from '../country_data'\nimport Autosuggest from 'react-autosuggest'\nimport TextField from '@material-ui/core/TextField'\nimport MenuItem from '@material-ui/core/MenuItem'\n\n/*\nThis component contains all of the logic for react-autosuggest to auto complete\nusers searches for countries.\n*/\nconst theme = {\n  container: {\n    position: 'relative'\n  },\n  input: {\n    width: 300,\n    height: 30,\n    marginBottom: 10\n  },\n  inputFocused: {\n    outline: 'none'\n  },\n  inputOpen: {\n    borderBottomLeftRadius: 0,\n    borderBottomRightRadius: 0\n  },\n  suggestionsContainer: {\n    display: 'none'\n  },\n  suggestionsContainerOpen: {\n    display: 'block',\n    position: 'relative',\n    width: 300,\n    maxHeight: 200,\n    zIndex: 2,\n    overflowY: 'auto'\n  },\n  suggestionsList: {\n    margin: 0,\n    padding: 0,\n    listStyleType: 'none',\n  },\n  suggestion: {\n    display: 'block'\n  },\n  suggestionHighlighted: {\n    backgroundColor: '#ddd'\n  }\n};\n\nconst getSuggestions = value => {\n  const inputValue = value.trim().toLowerCase();\n  const inputLength = inputValue.length;\n  return inputLength === 0 ? [] : countries.filter(country =>\n    country.name.toLowerCase().slice(0, inputLength) === inputValue\n  );\n};\n\nconst getSuggestionValue = suggestion => suggestion.name;\n\nfunction renderSuggestion(suggestion) {\n  return (\n    <MenuItem component=\"div\">\n      <div>\n        {suggestion.name}\n      </div>\n    </MenuItem>\n  );\n}\n\nfunction renderInputComponent(inputProps) {\n  const { inputRef = () => {}, ref, ...other } = inputProps;\n  return (\n    <TextField\n      InputProps={{\n        inputRef: node => {\n          ref(node);\n          inputRef(node);\n        },\n      }}\n      {...other}\n    />\n  );\n}\n\nclass SearchBar extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      value: '',\n      suggestions: []\n    };\n  }\n\n  onChange = (event, { newValue }) => {\n    this.setState({\n      value: newValue\n    });\n  };\n\n  onSuggestionsFetchRequested = ({ value }) => {\n    this.setState({\n      suggestions: getSuggestions(value)\n    });\n  };\n\n  onSuggestionsClearRequested = () => {\n    this.setState({\n      suggestions: []\n    });\n  };\n\n  render() {\n    const { value, suggestions } = this.state;\n\n    const inputProps = {\n      placeholder: 'Search for a Country or Territory',\n      value,\n      onChange: this.onChange\n    };\n\n    return(\n      <div>\n        <form onSubmit={this.props.handleSubmit}>\n          <div style={{ maxWidth: 300, margin: '0 auto' }}>\n            <Autosuggest\n              suggestions={suggestions}\n              onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\n              onSuggestionsClearRequested={this.onSuggestionsClearRequested}\n              getSuggestionValue={getSuggestionValue}\n              renderSuggestion={renderSuggestion}\n              renderInputComponent={renderInputComponent}\n              inputProps={inputProps}\n              theme = {theme}\n            />\n            <Button variant=\"contained\" color=\"primary\" type='submit'>Search</Button>\n          </div>\n        </form>\n      </div>\n    )\n  }\n};\n\nexport default SearchBar;\n","import React, { Component } from 'react'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\n\nimport { fetchCountry } from '../actions/countryActions'\nimport { openCountryModal, closeCountryModal } from '../actions/modalActions'\nimport { openNotAuthModal, closeNotAuthModal } from '../actions/modalActions'\nimport { putUserData } from '../actions/userActions'\nimport { removeError } from '../actions/errorActions'\n\nimport CountryModal from '../components/CountryModal'\nimport NotAuthModal from '../components/NotAuthModal'\nimport Results from '../components/Results'\nimport SearchBar from '../components/SearchBar'\n\nimport { DotLoader } from 'react-spinners'\n\nexport class Search extends Component {\n\n  componentWillUnmount() {\n    this.props.removeError();\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.fetchCountry(e.target[0].value);\n  }\n\n  /*\n  This function handles making the new userCountries array and PUT requesting\n  the array to the Django backend.\n  */\n  handleClick = (e) => {\n    e.preventDefault();\n    // Resets newCountry to null at the beginning of every function call.\n    let newCountry = null;\n    let newCountryList;\n    let success;\n    let countryName = e.currentTarget.attributes.value.nodeValue;\n    newCountry =  Number(e.currentTarget.id)\n    // If the userCountries array is empty, the new array just becomes the newCountry.\n    if (this.props.userCountries.length === 0) {\n      newCountryList = [newCountry]\n    } else {\n      // The newCountryList becomes the userCountries converted from object to just id.\n      newCountryList = this.props.userCountries;\n      newCountryList = newCountryList.map(country => country.id);\n      // If country is not in the userCountries, it gets added.\n      if (newCountryList.findIndex(country => country === newCountry) === -1) {\n        newCountryList = newCountryList.concat([newCountry]);\n        success = `${countryName} has been added to your map.`\n      // If country is in the userCountries, it gets deleted.\n      } else {\n          let index = newCountryList.findIndex(country => country === newCountry);\n          // If the index === -1, it means the country is not in the array.\n          if (index !== -1){\n            newCountryList.splice(index, 1);\n          success = `${countryName} has been removed from your map.`\n        }\n      }\n    }\n    // Makes the PUT request.\n    this.props.putUserData(\n      this.props.username,\n      this.props.email,\n      newCountryList,\n      this.props.home.id,\n      this.props.biography,\n      success\n    );\n  }\n\n  render() {\n\n    const listCountries = this.props.searchedCountry.map(country =>(\n      <div style={{ marginTop: 20 }} key={country.id}>\n        <Results {...this.props} country={country} handleClick={this.handleClick}/>\n      </div>\n    ));\n\n      return (\n        <div className=\"content\" style={{marginTop: 60}}>\n          <NotAuthModal {...this.props} />\n          {this.props.fetched && <CountryModal {...this.props} />}\n          <SearchBar handleSubmit={this.handleSubmit} /> <br/>\n          {this.props.fetching && <DotLoader size={50} color={'#2196f3'} className=\"content\" />}\n          {this.props.fetched && <div>{listCountries}</div>}\n        </div>\n      );\n  }\n}\n\nconst mapState = state => {\n  return {\n    username: state.user.user.username,\n    email: state.user.user.email,\n    home: state.user.user.home,\n    biography: state.user.user.biography,\n    userCountries: state.user.user.countries,\n    authenticated: state.auth.authenticated,\n    searchedCountry: state.country.country,\n    fetched: state.country.fetched,\n    fetching: state.country.fetching,\n    showCountryModal: state.modal.showCountryModal,\n    modalCountry: state.modal.modalCountry,\n    showNotAuthModal: state.modal.showNotAuthModal,\n  };\n};\n\nconst mapDispatch = dispatch => {\n  return bindActionCreators({\n    fetchCountry,\n    putUserData,\n    openCountryModal,\n    closeCountryModal,\n    removeError,\n    openNotAuthModal,\n    closeNotAuthModal,\n  }, dispatch);\n};\n\nexport default connect(mapState, mapDispatch)(Search);\n\nSearch.propTypes = {\n  username: PropTypes.string,\n  email: PropTypes.string,\n  home: PropTypes.object,\n  biography: PropTypes.string,\n  userCountries: PropTypes.array,\n  authenticated: PropTypes.bool,\n  searchedCountry: PropTypes.array,\n  fetched: PropTypes.bool,\n  fetching: PropTypes.bool,\n  showCountryModal: PropTypes.bool,\n  modalCountry: PropTypes.object,\n  showNotAuthModal: PropTypes.bool,\n\n  fetchCountry: PropTypes.func,\n  putUserData: PropTypes.func,\n  openCountryModal: PropTypes.func,\n  closeCountryModal: PropTypes.func,\n  removeError: PropTypes.func,\n  openNotAuthModal: PropTypes.func,\n  closeNotAuthModal: PropTypes.func,\n};\n","import React, { Component } from 'react'\nimport { bindActionCreators } from 'redux'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\n\nimport { fetchSingleUser } from '../actions/userActions'\nimport { fetchUserTripReports, fetchNextUserTripReports } from '../actions/tripReportActions'\nimport { removeError } from '../actions/errorActions'\nimport { toggleFavorite } from '../actions/favoriteActions'\nimport { openCopyLinkModal, closeCopyLinkModal } from '../actions/modalActions'\nimport { openCountryModal, closeCountryModal } from '../actions/modalActions'\nimport { openImageModal, closeImageModal } from '../actions/modalActions'\nimport { openTripReportModal, closeTripReportModal } from '../actions/modalActions'\nimport { openNotAuthModal, closeNotAuthModal } from '../actions/modalActions'\n\nimport CountryModal from '../components/CountryModal'\nimport CopyLinkModal from '../components/CopyLinkModal'\nimport GoogleMap from '../components/GoogleMap'\nimport NotAuthModal from '../components/NotAuthModal'\nimport TripReportModal from '../components/TripReportModal'\nimport TripReportThumbnail from '../components/TripReportThumbnail'\n\nimport Avatar from '@material-ui/core/Avatar'\nimport { DotLoader } from 'react-spinners'\nimport Grid from '@material-ui/core/Grid'\nimport Typography from '@material-ui/core/Typography'\n\n/*\nThis container displays the same information as EditProfile, but does not allow\nthe person visiting this page to edit or post new content. Since this route is\nnot a private route, it allows users to have a link to their profile to share\noutside of this website.\n*/\nexport class ViewProfile extends Component {\n\n  // Returns True if the user has scrolled past the bottom.\n  isBottom(el) {\n    return el.getBoundingClientRect().bottom <= window.innerHeight;\n  }\n\n  // Adds event listener that checks for scrolling.\n  componentDidMount() {\n    const { username } = this.props.match.params;\n    this.props.fetchSingleUser(username);\n    this.props.fetchUserTripReports(username);\n    document.addEventListener('scroll', this.onScroll);\n  }\n\n  componentWillUnmount() {\n    this.props.removeError();\n    document.removeEventListener('scroll', this.onScroll);\n  }\n\n  /*\n  If the user has scrolled to the bottom, AND there is next URL to load more\n  Trip Reports, AND the next Trip Reports are not already being fetched, the\n  next Trip Reports will be fetched i.e. infinite scrolling.\n  */\n  onScroll = () => {\n    const element = document.getElementById('scroll');\n    if (this.isBottom(element) && this.props.next && !this.props.fetchingUserNext & !this.props.fetchingTripReports) {\n      this.props.fetchNextUserTripReports(this.props.next);\n    }\n  };\n\n  handleClick = (e) => {\n    e.preventDefault();\n    this.props.toggleFavorite(e.currentTarget.id);\n  }\n\n  render() {\n\n    let listTripReports = null;\n    if (this.props.tripReports){\n      listTripReports = this.props.tripReports.map(tripReport =>(\n        <Grid item key={tripReport.id}>\n          <TripReportThumbnail tripReport={tripReport} {...this.props} />\n        </Grid>\n      ));\n    }\n\n    return (\n      <div id='scroll' className='content'>\n        <CopyLinkModal {...this.props} />\n        <NotAuthModal {...this.props} />\n        {this.props.fetched && <CountryModal {...this.props} />}\n        {this.props.modalPost.author && <TripReportModal handleClick={this.handleClick} {...this.props} />}\n\n        {/* This section is the user avatar, username, biography, etc. */}\n        <div className='wrap' style={{ marginBottom: 60 }} >\n          <div className='left' style={{ width: '37%' }}>\n            {this.props.user.home && <Avatar style={{ width: 150, height: 150, margin: '0 auto' }} src={this.props.user.home.flag}/>}\n          </div>\n          <div className='right' style={{textAlign: 'left', width: '63%', padding: 10 }}>\n            <div style={{ height: 40 }}>\n            <Typography variant=\"h4\" gutterBottom>\n              {this.props.user.username}\n            </Typography>\n            </div><br/>\n            <div style={{ height: 40 }}>\n              {`${process.env.REACT_APP_API_URL}${this.props.match.url}`}\n            </div><br/>\n            <div style={{ height: 40, maxWidth: '75%' }}>\n              {this.props.user.biography}\n            </div>\n          </div>\n        </div>\n        {this.props.fetched && <hr style={{width: '85%', size: 1}}/>}\n\n        {/* This section is the user map */}\n        {this.props.fetched && <GoogleMap {...this.props}/>}\n        {this.props.fetched && <hr style={{width: '85%', size: 1}}/>}\n\n        {/* This section is the user posts */}\n        <div style={{marginTop: 50}}>\n          {this.props.fetchingTripReports && <div><DotLoader size={50} color={'#2196f3'} className=\"content\" /></div>}\n          {this.props.fetchedTripReports && <Grid container spacing={24} justify='center' >{listTripReports}</Grid>}\n          <div style={{ height: 15 }}/>\n          {this.props.fetchingUserNext && <DotLoader size={50} color={'#2196f3'} className=\"content\" />}\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapState = state => {\n  return {\n    pk: state.user.user.pk,\n    authenticated: state.auth.authenticated,\n    fetched: state.user.fetchedSingleUser,\n    user: state.user.singleUser,\n    modalCountry: state.modal.modalCountry,\n    userCountries: state.user.singleUser.countries,\n    showCountryModal: state.modal.showCountryModal,\n    modalPost: state.modal.modalPost,\n    showTripReportModal: state.modal.showTripReportModal,\n    fetchingTripReports: state.tripReport.fetchingTripReports,\n    fetchedTripReports: state.tripReport.fetchedTripReports,\n    fetchingUserNext: state.tripReport.fetchingUserNext,\n    tripReports: state.tripReport.userTripReports.results,\n    next: state.tripReport.userTripReports.next,\n    showNotAuthModal: state.modal.showNotAuthModal,\n    showCopyLinkModal: state.modal.showCopyLinkModal,\n    modalLink: state.modal.modalLink,\n    showImageModal: state.modal.showImageModal,\n    modalImage: state.modal.modalImage,\n  };\n}\n\nconst mapDispatch = dispatch => {\n  return bindActionCreators({\n    removeError,\n    fetchSingleUser,\n    fetchUserTripReports,\n    fetchNextUserTripReports,\n    openCountryModal,\n    closeCountryModal,\n    openTripReportModal,\n    closeTripReportModal,\n    toggleFavorite,\n    openNotAuthModal,\n    closeNotAuthModal,\n    openCopyLinkModal,\n    closeCopyLinkModal,\n    openImageModal,\n    closeImageModal,\n  }, dispatch);\n}\n\nexport default connect(mapState, mapDispatch)(ViewProfile);\n\nViewProfile.propTypes = {\n  pk: PropTypes.number,\n  authenticated: PropTypes.bool,\n  fetched: PropTypes.bool,\n  user: PropTypes.object,\n  modalCountry: PropTypes.object,\n  showCountryModal: PropTypes.bool,\n  modalPost: PropTypes.object,\n  showTripReportModal: PropTypes.bool,\n  fetchedTripReports: PropTypes.bool,\n  fetchingTripReports: PropTypes.bool,\n  fetchingUserNext: PropTypes.bool,\n  tripReports: PropTypes.array,\n  next: PropTypes.string,\n  showNotAuthModal: PropTypes.bool,\n  showCopyLinkModal: PropTypes.bool,\n  modalLink: PropTypes.string,\n  showImageModal: PropTypes.bool,\n  modalImage: PropTypes.string,\n\n  removeError: PropTypes.func,\n  fetchSingleUser: PropTypes.func,\n  fetchUserTripReports: PropTypes.func,\n  fetchNextUserTripReports: PropTypes.func,\n  openCountryModal: PropTypes.func,\n  closeCountryModal: PropTypes.func,\n  openTripReportModal: PropTypes.func,\n  closeTripReportModal: PropTypes.func,\n  toggleFavorite: PropTypes.func,\n  openNotAuthModal: PropTypes.func,\n  closeNotAuthModal: PropTypes.func,\n  openCopyLinkModal: PropTypes.func,\n  closeCopyLinkModal: PropTypes.func,\n  openImageModal: PropTypes.func,\n  closeImageModal: PropTypes.func,\n};\n","import React, { Component } from 'react'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { Route } from \"react-router-dom\"\n\nimport { removeError } from '../actions/errorActions'\nimport { fetchUser } from '../actions/userActions'\n\nimport Error from '../components/Error'\nimport NavBar from '../components/NavBar'\nimport PrivateRoute from '../components/PrivateRoute'\nimport Success from '../components/Success'\n\nimport EditProfile from './EditProfile'\nimport Feed from './Feed'\nimport ForgotPassword from './ForgotPassword'\nimport Home from './Home'\nimport Login from './Login'\nimport Logout from './Logout'\nimport Post from './Post'\nimport Register from './Register'\nimport Search from './Search'\nimport ViewProfile from './ViewProfile'\n\nimport { DotLoader } from 'react-spinners'\n\nexport class Layout extends Component {\n\n  componentWillMount() {\n    if (this.props.authenticated) {\n      this.props.fetchUser();\n    }\n  }\n\n  handleClick = () => {\n    this.props.authLogout();\n    this.props.history.push('/');\n  }\n\n  render(){\n\n    return(\n      <div>\n      {\n        !this.props.fetching\n        ?<div>\n          <NavBar {...this.props} />\n          {/*\n            Errors are added if there are server errors, authentication errors,\n            errors while posting content, etc. Succeses are added to give users\n            feedback when they have successfully added a country to their map,\n            deleted a post, etc. The removeError function is run on every\n            components Unmount, so that errors and sucesses do not persist\n            through navigation. Users can also remove these by clicking the 'x'.\n          */}\n          {this.props.error && <Error {...this.props} error={this.props.error} />}\n          {this.props.success && <Success {...this.props} />}\n\n          <Route exact path='/' component={Home} />\n          <Route path='/search'component={Search} />\n          <Route path='/feed'component={Feed} />\n          <PrivateRoute {...this.props} path='/edit_profile' component={EditProfile} />\n          <Route path='/u/:username' component={ViewProfile} />\n          <Route path='/login' component={Login} />\n          <Route path='/logout' component={Logout} />\n          <Route path='/register' component={Register} />\n          <Route path='/password_reset' component={ForgotPassword} />\n          <Route path='/p/:slug' component={Post} />\n        </div>\n        :<div className='centered'><DotLoader size={50} color={'#2196f3'} className=\"content\" /></div>\n      }\n      </div>\n    )\n  }\n}\n\nconst mapState = state => {\n  return {\n    error: state.error.error,\n    success: state.error.success,\n    authenticated: state.auth.authenticated,\n    fetching: state.user.fetching,\n    fetched: state.user.fetched,\n  }\n}\n\nconst mapDispatch = dispatch => {\n  return bindActionCreators({\n    fetchUser,\n    removeError\n  }, dispatch)\n}\n\nexport default connect(mapState, mapDispatch)(Layout);\n\nLayout.propTypes = {\n  error: PropTypes.object,\n  success: PropTypes.string,\n  authenticated: PropTypes.bool,\n  fetching: PropTypes.bool,\n  fetched: PropTypes.bool,\n\n  fetchUser: PropTypes.func,\n  removeError: PropTypes.func\n};\n","import './App.css'\nimport React, { Component } from 'react'\nimport { bindActionCreators } from 'redux'\nimport PropType from 'prop-types'\nimport { BrowserRouter as Router, Route } from \"react-router-dom\"\nimport Layout from './containers/Layout'\nimport { connect } from 'react-redux'\nimport { authCheckState } from './actions/authActions'\nimport { fetchTripReports, fetchFeaturedTripReport } from './actions/tripReportActions'\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles'\n\nclass App extends Component {\n  /*\n  When the App component is mounted, it checks if a user is authenticated and\n  fetches the user data from the Django REST API.\n  */\n  componentWillMount() {\n    this.props.authCheckState();\n    this.props.fetchTripReports(`${process.env.REACT_APP_API_URL}/api/v1/reports/?ordering=-pk`);\n    this.props.fetchFeaturedTripReport('rr9IuTcYtL3E');\n  }\n\n  render() {\n\n    // Google Material UI Theme\n    const theme = createMuiTheme({\n      typography: {\n        useNextVariants: true,\n      },\n      overides: {\n        CardActions: {\n          root: {\n            overflow: 'scroll'\n          }\n        }\n      },\n      palette: {\n        primary: {\n          main: '#2196f3',\n        },\n        secondary: {\n          main: '#000000',\n        }\n      }\n    });\n\n    return (\n      <MuiThemeProvider theme={theme}>\n        <Router>\n          <Route path=\"\" component={Layout} {...this.props}>\n          </Route>\n        </Router>\n      </MuiThemeProvider>\n    );\n  }\n}\n\nconst mapState = state => {\n  return {\n  }\n}\n\nconst mapDispatch = dispatch => {\n  return bindActionCreators({\n    authCheckState,\n    fetchTripReports,\n    fetchFeaturedTripReport,\n  }, dispatch);\n}\n\nexport default connect(mapState, mapDispatch)(App);\n\nApp.propTypes = {\n  authCheckState: PropType.func,\n  fetchTripReports: PropType.func,\n  fetchFeaturedTripReport: PropType.func,\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport './index.css';\nimport store from \"./store/index\"\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>, document.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}