{"ast":null,"code":"import _toConsumableArray from \"/Users/peterzernia/projects/wanderlist/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/peterzernia/projects/wanderlist/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar initialState = {\n  posting: false,\n  updating: false,\n  fetching: false,\n  fetched: false,\n  fetchingNext: false,\n  fetchedNext: false,\n  fetchingUserNext: false,\n  fetchedUserNext: false,\n  fetchingTripReports: false,\n  fetchedTripReports: false,\n  fetchingSlugTripReports: false,\n  fetchedSlugTripReports: false,\n  fetchingFeaturedTripReport: false,\n  fetchedFeaturedTripReport: false,\n  tripReports: {\n    results: [],\n    count: null,\n    next: null,\n    previous: null\n  },\n  userTripReports: {\n    results: [],\n    count: null,\n    next: null,\n    previous: null\n  },\n  slugTripReports: [],\n  featuredTripReport: []\n};\nexport default function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    // Basic axios request returns a response, and the state must be updated.\n    case \"FETCH_TRIP_REPORTS_PENDING\":\n      {\n        return _objectSpread({}, state, {\n          fetching: true\n        });\n      }\n\n    case \"FETCH_TRIP_REPORTS_FULFILLED\":\n      {\n        return _objectSpread({}, state, {\n          fetching: false,\n          fetched: true,\n          tripReports: action.tripReports\n        });\n      }\n\n    case \"FETCH_TRIP_REPORTS_REJECTED\":\n      {\n        return _objectSpread({}, state, {\n          fetching: false,\n          fetched: false\n        });\n      }\n\n    /*\n    In the case of fetching the next page of trip reports, the new trip reports\n    need to be added to the list of existing, fetched trip reports. They must\n    not overwnite the original list.\n    */\n\n    case \"FETCH_NEXT_TRIP_REPORTS_PENDING\":\n      {\n        return _objectSpread({}, state, {\n          fetchingNext: true,\n          fetchedNext: false\n        });\n      }\n\n    case \"FETCH_NEXT_TRIP_REPORTS_FULFILLED\":\n      {\n        return _objectSpread({}, state, {\n          fetchingNext: false,\n          fetchedNext: true,\n          tripReports: {\n            count: action.tripReports.count,\n            next: action.tripReports.next,\n            previous: action.tripReports.previous,\n            results: _toConsumableArray(state.tripReports.results).concat(action.tripReports.results)\n          }\n        });\n      }\n\n    case \"FETCH_NEXT_TRIP_REPORTS_REJECTED\":\n      {\n        return _objectSpread({}, state, {\n          fetchingNext: false,\n          fetchedNext: false\n        });\n      }\n    // Basic axios request for fetching a user's Trip Reports\n\n    case \"FETCH_USER_TRIP_REPORTS_PENDING\":\n      {\n        return _objectSpread({}, state, {\n          fetchingTripReports: true,\n          fetchedTripReports: false\n        });\n      }\n\n    case \"FETCH_USER_TRIP_REPORTS_FULFILLED\":\n      {\n        return _objectSpread({}, state, {\n          fetchingTripReports: false,\n          fetchedTripReports: true,\n          userTripReports: action.tripReports\n        });\n      }\n\n    case \"FETCH_USER_TRIP_REPORTS_REJECTED\":\n      {\n        return _objectSpread({}, state, {\n          fetchingTripReports: false,\n          fetchedTripReports: false\n        });\n      }\n\n    /*\n    In the case of fetching the next page of the user's trip reports, the new\n    trip reports need to be added to the list of existing, fetched trip reports.\n    They must not overwnite the original list.\n    */\n\n    case \"FETCH_NEXT_USER_TRIP_REPORTS_PENDING\":\n      {\n        return _objectSpread({}, state, {\n          fetchingUserNext: true,\n          fetchedUserNext: false\n        });\n      }\n\n    case \"FETCH_NEXT_USER_TRIP_REPORTS_FULFILLED\":\n      {\n        return _objectSpread({}, state, {\n          fetchingUserNext: false,\n          fetchedUserNext: true,\n          userTripReports: {\n            count: action.tripReports.count,\n            next: action.tripReports.next,\n            previous: action.tripReports.previous,\n            results: _toConsumableArray(state.userTripReports.results).concat(action.tripReports.results)\n          }\n        });\n      }\n\n    case \"FETCH_NEXT_USER_TRIP_REPORTS_REJECTED\":\n      {\n        return _objectSpread({}, state, {\n          fetchingUserNext: false,\n          fetchedUserNext: false\n        });\n      }\n    // Axios post\n\n    case \"POST_TRIP_REPORTS_PENDING\":\n      {\n        return _objectSpread({}, state, {\n          posting: true\n        });\n      }\n\n    case \"POST_TRIP_REPORTS_FULFILLED\":\n      {\n        return _objectSpread({}, state, {\n          /*\n          The axios response is a single trip report. The new trip report must be\n          added onto the array, then the array must be sorted by id for both the\n          Trip Reports and User Trip Reports lists.\n          */\n          userTripReports: {\n            results: _toConsumableArray(state.userTripReports.results).concat(action.response).sort(function (a, b) {\n              return a.id < b.id;\n            }),\n            count: state.userTripReports.count,\n            next: state.userTripReports.next,\n            previous: state.userTripReports.previous\n          },\n          tripReports: {\n            results: _toConsumableArray(state.tripReports.results).concat(action.response).sort(function (a, b) {\n              return a.id < b.id;\n            }),\n            count: state.tripReports.count,\n            next: state.tripReports.next,\n            previous: state.tripReports.previous\n          },\n          posting: false\n        });\n      }\n\n    case \"POST_TRIP_REPORTS_REJECTED\":\n      {\n        return _objectSpread({}, state, {\n          posting: false\n        });\n      }\n    // Axios delete\n\n    case \"DELETE_TRIP_REPORTS_FULFILLED\":\n      {\n        return _objectSpread({}, state, {\n          /*\n          The response is the deleted post that must be filtered out of both\n          lists.\n          */\n          userTripReports: {\n            results: _toConsumableArray(state.userTripReports.results).filter(function (tripReport) {\n              return tripReport.id !== action.response.id;\n            }),\n            count: state.userTripReports.count,\n            next: state.userTripReports.next,\n            previous: state.userTripReports.previous\n          },\n          tripReports: {\n            results: _toConsumableArray(state.tripReports.results).filter(function (tripReport) {\n              return tripReport.id !== action.response.id;\n            }),\n            count: state.tripReports.count,\n            next: state.tripReports.next,\n            previous: state.tripReports.previous\n          }\n        });\n      }\n\n    case \"UPDATE_TRIP_REPORTS_PENDING\":\n      {\n        return _objectSpread({}, state, {\n          updating: true\n        });\n      }\n\n    case \"UPDATE_TRIP_REPORTS_FULFILLED\":\n      {\n        return _objectSpread({}, state, {\n          /*\n          The axios response is the updated post. The old, unupdated post must be\n          filtered out of both lists, the updated post must be added, then\n          the array must be sorted.\n          */\n          userTripReports: {\n            results: _toConsumableArray(state.userTripReports.results).filter(function (tripReport) {\n              return tripReport.id !== action.response.id;\n            }).concat(action.response).sort(function (a, b) {\n              return a.id < b.id;\n            }),\n            count: state.userTripReports.count,\n            next: state.userTripReports.next,\n            previous: state.userTripReports.previous\n          },\n          tripReports: {\n            results: _toConsumableArray(state.tripReports.results).filter(function (tripReport) {\n              return tripReport.id !== action.response.id;\n            }).concat(action.response).sort(function (a, b) {\n              return a.id < b.id;\n            }),\n            count: state.tripReports.count,\n            next: state.tripReports.next,\n            previous: state.tripReports.previous\n          },\n          updating: false\n        });\n      }\n\n    case \"UPDATE_TRIP_REPORTS_REJECTED\":\n      {\n        return _objectSpread({}, state, {\n          updating: false\n        });\n      }\n\n    case \"FETCH_SLUG_TRIP_REPORTS_PENDING\":\n      {\n        return _objectSpread({}, state, {\n          fetchingSlugTripReports: true,\n          fetchedSlugTripReports: false\n        });\n      }\n\n    case \"FETCH_SLUG_TRIP_REPORTS_FULFILLED\":\n      {\n        return _objectSpread({}, state, {\n          fetchingSlugTripReports: false,\n          fetchedSlugTripReports: true,\n          slugTripReports: action.tripReports.results\n        });\n      }\n\n    case \"FETCH_SLUG_TRIP_REPORTS_REJECTED\":\n      {\n        return _objectSpread({}, state, {\n          fetchingSlugTripReports: false,\n          fetchedSlugTripReports: false\n        });\n      }\n\n    case \"FETCH_FEATURED_TRIP_REPORT_PENDING\":\n      {\n        return _objectSpread({}, state, {\n          fetchingFeaturedTripReport: true,\n          fetchedFeaturedTripReport: false\n        });\n      }\n\n    case \"FETCH_FEATURED_TRIP_REPORT_FULFILLED\":\n      {\n        return _objectSpread({}, state, {\n          fetchingFeaturedTripReport: false,\n          fetchedFeaturedTripReport: true,\n          featuredTripReport: action.tripReport.results\n        });\n      }\n\n    case \"FETCH_FEATURED_TRIP_REPORT_REJECTED\":\n      {\n        return _objectSpread({}, state, {\n          fetchingFeaturedTripReport: false,\n          fetchedFeaturedTripReport: false\n        });\n      }\n\n    case \"TOGGLE_FAVORITE_FULFILLED\":\n      {\n        return _objectSpread({}, state, {\n          /*\n          Same as PUT request, the response of the axios call to toggle favorite\n          returns the new Trip Report object with updated favorites array. This\n          Trip Report favoriters must replace the old Trip Report favoriters.\n          User Trip Reports do not need to be updated since a favorite button is\n          never shown for that array.\n          */\n          tripReports: {\n            // Since order matters, only the specific index of the array should be changed.\n            results: _toConsumableArray(state.tripReports.results).map(function (tripReport) {\n              return tripReport.id === action.response.id ? _objectSpread({}, tripReport, {\n                favoriters: action.response.favoriters\n              }) : _objectSpread({}, tripReport);\n            }),\n            count: state.tripReports.count,\n            next: state.tripReports.next,\n            previous: state.tripReports.previous\n          },\n          slugTripReports: _toConsumableArray(state.slugTripReports).map(function (tripReport) {\n            return tripReport.id === action.response.id ? _objectSpread({}, tripReport, {\n              favoriters: action.response.favoriters\n            }) : _objectSpread({}, tripReport);\n          }),\n          featuredTripReport: _toConsumableArray(state.featuredTripReport).map(function (tripReport) {\n            return tripReport.id === action.response.id ? _objectSpread({}, tripReport, {\n              favoriters: action.response.favoriters\n            }) : _objectSpread({}, tripReport);\n          })\n        });\n      }\n\n    case \"PUT_USER_DATA_FULFILLED\":\n      {\n        return _objectSpread({}, state, {\n          tripReports: {\n            // If the user home changes, any posts by that user must be updated to update Avatar image.\n            results: _toConsumableArray(state.tripReports.results).map(function (tripReport) {\n              return tripReport.author.id === action.user.id ? _objectSpread({}, tripReport, {\n                author: action.user\n              }) : _objectSpread({}, tripReport);\n            }),\n            count: state.tripReports.count,\n            next: state.tripReports.next,\n            previous: state.tripReports.previous\n          }\n        });\n      }\n    // Reset authenticated user trip reports array on logout.\n\n    case \"AUTH_LOGOUT\":\n      {\n        return _objectSpread({}, state, {\n          userTripReports: {\n            results: [],\n            count: null,\n            next: null,\n            previous: null\n          }\n        });\n      }\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/peterzernia/projects/wanderlist/src/store/tripReport.js"],"names":["initialState","posting","updating","fetching","fetched","fetchingNext","fetchedNext","fetchingUserNext","fetchedUserNext","fetchingTripReports","fetchedTripReports","fetchingSlugTripReports","fetchedSlugTripReports","fetchingFeaturedTripReport","fetchedFeaturedTripReport","tripReports","results","count","next","previous","userTripReports","slugTripReports","featuredTripReport","state","action","type","concat","response","sort","a","b","id","filter","tripReport","map","favoriters","author","user"],"mappings":"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","sourcesContent":["const initialState = {\n  posting: false,\n  updating: false,\n  fetching: false,\n  fetched: false,\n  fetchingNext: false,\n  fetchedNext: false,\n  fetchingUserNext: false,\n  fetchedUserNext: false,\n  fetchingTripReports: false,\n  fetchedTripReports: false,\n  fetchingSlugTripReports: false,\n  fetchedSlugTripReports: false,\n  fetchingFeaturedTripReport: false,\n  fetchedFeaturedTripReport: false,\n  tripReports: { results: [], count: null, next: null, previous: null},\n  userTripReports: { results: [], count: null, next: null, previous: null},\n  slugTripReports: [],\n  featuredTripReport: []\n}\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    // Basic axios request returns a response, and the state must be updated.\n    case \"FETCH_TRIP_REPORTS_PENDING\": {\n      return {\n        ...state,\n        fetching: true,\n      }\n    }\n    case \"FETCH_TRIP_REPORTS_FULFILLED\": {\n      return {\n        ...state,\n        fetching: false,\n        fetched: true,\n        tripReports: action.tripReports,\n      }\n    }\n    case \"FETCH_TRIP_REPORTS_REJECTED\": {\n      return {\n        ...state,\n        fetching: false,\n        fetched: false,\n      }\n    }\n    /*\n    In the case of fetching the next page of trip reports, the new trip reports\n    need to be added to the list of existing, fetched trip reports. They must\n    not overwnite the original list.\n    */\n    case \"FETCH_NEXT_TRIP_REPORTS_PENDING\": {\n      return {\n        ...state,\n        fetchingNext: true,\n        fetchedNext: false\n      }\n    }\n    case \"FETCH_NEXT_TRIP_REPORTS_FULFILLED\": {\n      return {\n        ...state,\n        fetchingNext: false,\n        fetchedNext: true,\n        tripReports: {\n          count: action.tripReports.count,\n          next: action.tripReports.next,\n          previous: action.tripReports.previous,\n          results: [...state.tripReports.results].concat(action.tripReports.results),\n        }\n      }\n    }\n    case \"FETCH_NEXT_TRIP_REPORTS_REJECTED\": {\n      return {\n        ...state,\n        fetchingNext: false,\n        fetchedNext: false,\n      }\n    }\n    // Basic axios request for fetching a user's Trip Reports\n    case \"FETCH_USER_TRIP_REPORTS_PENDING\": {\n      return {\n        ...state,\n        fetchingTripReports: true,\n        fetchedTripReports: false\n      }\n    }\n    case \"FETCH_USER_TRIP_REPORTS_FULFILLED\": {\n      return {\n        ...state,\n        fetchingTripReports: false,\n        fetchedTripReports: true,\n        userTripReports: action.tripReports,\n      }\n    }\n    case \"FETCH_USER_TRIP_REPORTS_REJECTED\": {\n      return {\n        ...state,\n        fetchingTripReports: false,\n        fetchedTripReports: false,\n      }\n    }\n    /*\n    In the case of fetching the next page of the user's trip reports, the new\n    trip reports need to be added to the list of existing, fetched trip reports.\n    They must not overwnite the original list.\n    */\n    case \"FETCH_NEXT_USER_TRIP_REPORTS_PENDING\": {\n      return {\n        ...state,\n        fetchingUserNext: true,\n        fetchedUserNext: false\n      }\n    }\n    case \"FETCH_NEXT_USER_TRIP_REPORTS_FULFILLED\": {\n      return {\n        ...state,\n        fetchingUserNext: false,\n        fetchedUserNext: true,\n        userTripReports: {\n          count: action.tripReports.count,\n          next: action.tripReports.next,\n          previous: action.tripReports.previous,\n          results: [...state.userTripReports.results].concat(action.tripReports.results),\n        }\n      }\n    }\n    case \"FETCH_NEXT_USER_TRIP_REPORTS_REJECTED\": {\n      return {\n        ...state,\n        fetchingUserNext: false,\n        fetchedUserNext: false,\n      }\n    }\n    // Axios post\n    case \"POST_TRIP_REPORTS_PENDING\": {\n      return {\n        ...state,\n        posting: true\n      }\n    }\n    case \"POST_TRIP_REPORTS_FULFILLED\": {\n      return {\n        ...state,\n        /*\n        The axios response is a single trip report. The new trip report must be\n        added onto the array, then the array must be sorted by id for both the\n        Trip Reports and User Trip Reports lists.\n        */\n        userTripReports: {\n          results: [...state.userTripReports.results].concat(action.response).sort((a, b) => a.id < b.id),\n          count: state.userTripReports.count,\n          next: state.userTripReports.next,\n          previous: state.userTripReports.previous\n        },\n        tripReports: {\n          results: [...state.tripReports.results].concat(action.response).sort((a, b) => a.id < b.id),\n          count: state.tripReports.count,\n          next: state.tripReports.next,\n          previous: state.tripReports.previous\n        },\n        posting: false\n      }\n    }\n    case \"POST_TRIP_REPORTS_REJECTED\": {\n      return {\n        ...state,\n        posting: false\n        }\n    }\n    // Axios delete\n    case \"DELETE_TRIP_REPORTS_FULFILLED\": {\n      return {\n        ...state,\n        /*\n        The response is the deleted post that must be filtered out of both\n        lists.\n        */\n        userTripReports: {\n          results: [...state.userTripReports.results].filter(tripReport => tripReport.id !== action.response.id),\n          count: state.userTripReports.count,\n          next: state.userTripReports.next,\n          previous: state.userTripReports.previous\n        },\n        tripReports: {\n          results: [...state.tripReports.results].filter(tripReport => tripReport.id !== action.response.id),\n          count: state.tripReports.count,\n          next: state.tripReports.next,\n          previous: state.tripReports.previous\n        }\n      }\n    }\n    case \"UPDATE_TRIP_REPORTS_PENDING\": {\n      return {\n        ...state,\n        updating: true\n      }\n    }\n    case \"UPDATE_TRIP_REPORTS_FULFILLED\": {\n      return {\n        ...state,\n        /*\n        The axios response is the updated post. The old, unupdated post must be\n        filtered out of both lists, the updated post must be added, then\n        the array must be sorted.\n        */\n        userTripReports: {\n          results: [...state.userTripReports.results].filter(tripReport => tripReport.id !== action.response.id).concat(action.response).sort((a, b) => a.id < b.id),\n          count: state.userTripReports.count,\n          next: state.userTripReports.next,\n          previous: state.userTripReports.previous\n        },\n        tripReports: {\n          results: [...state.tripReports.results].filter(tripReport => tripReport.id !== action.response.id).concat(action.response).sort((a, b) => a.id < b.id),\n          count: state.tripReports.count,\n          next: state.tripReports.next,\n          previous: state.tripReports.previous\n        },\n        updating: false\n      }\n    }\n    case \"UPDATE_TRIP_REPORTS_REJECTED\": {\n      return {\n        ...state,\n        updating: false\n      }\n    }\n    case \"FETCH_SLUG_TRIP_REPORTS_PENDING\": {\n      return {\n        ...state,\n        fetchingSlugTripReports: true,\n        fetchedSlugTripReports: false\n      }\n    }\n    case \"FETCH_SLUG_TRIP_REPORTS_FULFILLED\": {\n      return {\n        ...state,\n        fetchingSlugTripReports: false,\n        fetchedSlugTripReports: true,\n        slugTripReports: action.tripReports.results,\n      }\n    }\n    case \"FETCH_SLUG_TRIP_REPORTS_REJECTED\": {\n      return {\n        ...state,\n        fetchingSlugTripReports: false,\n        fetchedSlugTripReports: false,\n      }\n    }\n    case \"FETCH_FEATURED_TRIP_REPORT_PENDING\": {\n      return {\n        ...state,\n        fetchingFeaturedTripReport: true,\n        fetchedFeaturedTripReport: false\n      }\n    }\n    case \"FETCH_FEATURED_TRIP_REPORT_FULFILLED\": {\n      return {\n        ...state,\n        fetchingFeaturedTripReport: false,\n        fetchedFeaturedTripReport: true,\n        featuredTripReport: action.tripReport.results,\n      }\n    }\n    case \"FETCH_FEATURED_TRIP_REPORT_REJECTED\": {\n      return {\n        ...state,\n        fetchingFeaturedTripReport: false,\n        fetchedFeaturedTripReport: false,\n      }\n    }\n    case \"TOGGLE_FAVORITE_FULFILLED\": {\n      return {\n        ...state,\n        /*\n        Same as PUT request, the response of the axios call to toggle favorite\n        returns the new Trip Report object with updated favorites array. This\n        Trip Report favoriters must replace the old Trip Report favoriters.\n        User Trip Reports do not need to be updated since a favorite button is\n        never shown for that array.\n        */\n        tripReports: {\n          // Since order matters, only the specific index of the array should be changed.\n          results: [...state.tripReports.results].map( tripReport => tripReport.id === action.response.id ? { ...tripReport, favoriters: action.response.favoriters} : {...tripReport}),\n          count: state.tripReports.count,\n          next: state.tripReports.next,\n          previous: state.tripReports.previous\n        },\n        slugTripReports: [...state.slugTripReports].map( tripReport => tripReport.id === action.response.id ? {...tripReport, favoriters: action.response.favoriters} : {...tripReport}),\n        featuredTripReport: [...state.featuredTripReport].map( tripReport => tripReport.id === action.response.id ? {...tripReport, favoriters: action.response.favoriters} : {...tripReport})\n      }\n    }\n    case \"PUT_USER_DATA_FULFILLED\": {\n      return {\n        ...state,\n        tripReports: {\n          // If the user home changes, any posts by that user must be updated to update Avatar image.\n          results: [...state.tripReports.results].map( tripReport => tripReport.author.id === action.user.id ? { ...tripReport, author: action.user} : {...tripReport}),\n          count: state.tripReports.count,\n          next: state.tripReports.next,\n          previous: state.tripReports.previous\n        },\n      }\n    }\n    // Reset authenticated user trip reports array on logout.\n    case \"AUTH_LOGOUT\": {\n      return {\n        ...state,\n        userTripReports: { results: [], count: null, next: null, previous: null },\n      }\n    }\n    default:\n      return state\n  }\n}\n"]},"metadata":{},"sourceType":"module"}