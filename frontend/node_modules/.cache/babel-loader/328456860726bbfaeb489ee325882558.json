{"ast":null,"code":"import axios from 'axios';\nexport var fetchUserPending = function fetchUserPending() {\n  return {\n    type: \"FETCH_USER_PENDING\"\n  };\n};\nexport var fetchUserFulfilled = function fetchUserFulfilled(user) {\n  return {\n    type: \"FETCH_USER_FULFILLED\",\n    user: user\n  };\n};\nexport var fetchUserRejected = function fetchUserRejected(error) {\n  return {\n    type: \"FETCH_USER_REJECTED\",\n    error: error\n  };\n};\nexport var fetchUserTripReportsPending = function fetchUserTripReportsPending() {\n  return {\n    type: \"FETCH_TRIP_REPORTS_PENDING\"\n  };\n};\nexport var fetchUserTripReportsFulfilled = function fetchUserTripReportsFulfilled(tripReports) {\n  return {\n    type: \"FETCH_TRIP_REPORTS_FULFILLED\",\n    tripReports: tripReports\n  };\n};\nexport var fetchUserTripReportsRejected = function fetchUserTripReportsRejected(error) {\n  return {\n    type: \"FETCH_TRIP_REPORTS_REJECTED\",\n    error: error\n  };\n};\nexport var putUserDataPending = function putUserDataPending() {\n  return {\n    type: \"PUT_USER_DATA_PENDING\"\n  };\n};\nexport var putUserDataFulfilled = function putUserDataFulfilled(user) {\n  return {\n    type: \"PUT_USER_DATA_FULFILLED\",\n    user: user\n  };\n};\nexport var putUserDataRejected = function putUserDataRejected(error) {\n  return {\n    type: \"PUT_USER_DATA_REJECTED\",\n    error: error\n  };\n};\n/*\nGET requests the Django REST API, which returns user object.\n*/\n\nexport var fetchUser = function fetchUser() {\n  var token = localStorage.getItem('token');\n  return function (dispatch) {\n    dispatch(fetchUserPending());\n    axios.get('http://localhost:8000/api/v1/rest-auth/user/', {\n      headers: {\n        'Authorization': \"Token \".concat(token)\n      }\n    }).then(function (response) {\n      var user = response.data;\n      dispatch(fetchUserFulfilled(user));\n    }).catch(function (err) {\n      dispatch(fetchUserRejected(err));\n    });\n  };\n};\nexport var fetchUserTripReports = function fetchUserTripReports(username) {\n  return function (dispatch) {\n    dispatch(fetchUserTripReportsPending());\n    axios.get(\"http://localhost:8000/api/v1/reports/?search=\".concat(username)).then(function (response) {\n      var user = response.data;\n      dispatch(fetchUserTripReportsFulfilled(user));\n    }).catch(function (err) {\n      dispatch(fetchUserTripReportsRejected(err));\n    });\n  };\n};\nexport var putUserData = function putUserData(username, countries, email) {\n  var token = localStorage.getItem('token');\n  return function (dispatch) {\n    dispatch(putUserDataPending());\n    axios.put('http://localhost:8000/api/v1/rest-auth/user/', {\n      username: username,\n      countries: countries,\n      email: email\n    }, {\n      headers: {\n        'Authorization': \"Token \".concat(token)\n      }\n    }).then(function (response) {\n      var user = response.data;\n      dispatch(putUserDataFulfilled(user));\n    }).catch(function (err) {\n      dispatch(putUserDataRejected(err));\n    });\n  };\n};","map":{"version":3,"sources":["/Users/peterzernia/projects/countries/src/actions/userActions.js"],"names":["axios","fetchUserPending","type","fetchUserFulfilled","user","fetchUserRejected","error","fetchUserTripReportsPending","fetchUserTripReportsFulfilled","tripReports","fetchUserTripReportsRejected","putUserDataPending","putUserDataFulfilled","putUserDataRejected","fetchUser","token","localStorage","getItem","dispatch","get","headers","then","response","data","catch","err","fetchUserTripReports","username","putUserData","countries","email","put"],"mappings":"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","sourcesContent":["import axios from 'axios'\n\nexport const fetchUserPending = () => {\n  return {\n    type: \"FETCH_USER_PENDING\"\n  }\n}\n\nexport const fetchUserFulfilled = user => {\n  return {\n    type: \"FETCH_USER_FULFILLED\",\n    user: user\n  }\n}\n\nexport const fetchUserRejected = error => {\n  return {\n    type: \"FETCH_USER_REJECTED\",\n    error: error\n  }\n}\n\nexport const fetchUserTripReportsPending = () => {\n  return {\n    type: \"FETCH_TRIP_REPORTS_PENDING\"\n  }\n}\n\nexport const fetchUserTripReportsFulfilled = tripReports => {\n  return {\n    type: \"FETCH_TRIP_REPORTS_FULFILLED\",\n    tripReports: tripReports\n  }\n}\n\nexport const fetchUserTripReportsRejected = error => {\n  return {\n    type: \"FETCH_TRIP_REPORTS_REJECTED\",\n    error: error\n  }\n}\n\nexport const putUserDataPending = () => {\n  return {\n    type: \"PUT_USER_DATA_PENDING\"\n  }\n}\n\nexport const putUserDataFulfilled = user => {\n  return {\n    type: \"PUT_USER_DATA_FULFILLED\",\n    user: user\n  }\n}\n\nexport const putUserDataRejected = error => {\n  return {\n    type: \"PUT_USER_DATA_REJECTED\",\n    error: error\n  }\n}\n\n/*\nGET requests the Django REST API, which returns user object.\n*/\nexport const fetchUser = () => {\n  const token = localStorage.getItem('token');\n  return dispatch => {\n    dispatch(fetchUserPending());\n    axios.get('http://localhost:8000/api/v1/rest-auth/user/', {headers: { 'Authorization': `Token ${token}`}})\n      .then(response => {\n        const user = response.data;\n        dispatch(fetchUserFulfilled(user));\n      })\n      .catch(err => {\n        dispatch(fetchUserRejected(err));\n      })\n  }\n}\n\nexport const fetchUserTripReports = (username) => {\n  return dispatch => {\n    dispatch(fetchUserTripReportsPending());\n    axios.get(`http://localhost:8000/api/v1/reports/?search=${username}`)\n      .then(response => {\n        const user = response.data;\n        dispatch(fetchUserTripReportsFulfilled(user));\n      })\n      .catch(err => {\n        dispatch(fetchUserTripReportsRejected(err));\n      })\n  }\n}\n\nexport const putUserData = (username, countries, email) => {\n  const token = localStorage.getItem('token');\n  return dispatch => {\n    dispatch(putUserDataPending());\n    axios.put(\n      'http://localhost:8000/api/v1/rest-auth/user/',\n      {\n        username: username,\n        countries: countries,\n        email: email,\n      },\n      {headers: { 'Authorization': `Token ${token}`}}\n  )\n      .then(response => {\n        const user = response.data;\n        dispatch(putUserDataFulfilled(user));\n      })\n      .catch(err => {\n        dispatch(putUserDataRejected(err));\n      })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}