{"ast":null,"code":"import axios from 'axios'; // Action creators\n\nexport var fetchCountryPending = function fetchCountryPending() {\n  return {\n    type: \"FETCH_COUNTRY_PENDING\"\n  };\n};\nexport var fetchCountryFulfilled = function fetchCountryFulfilled(country) {\n  return {\n    type: \"FETCH_COUNTRY_FULFILLED\",\n    country: country\n  };\n};\nexport var fetchCountryRejected = function fetchCountryRejected() {\n  return {\n    type: \"FETCH_COUNTRY_REJECTED\"\n  };\n}; // GET requests the Django REST API which returns country object(s).\n\nexport var fetchCountry = function fetchCountry(query) {\n  return function (dispatch) {\n    return dispatch(fetchCountryPending());\n  };\n};\naxios.get(\"\".concat(process.env.REACT_APP_API_URL, \"/api/v1/countries/?search=\").concat(query)).then(function (response) {\n  var country = response.data;\n  dispatch(fetchCountryFulfilled(country));\n}).catch(function (err) {\n  dispatch(fetchCountryRejected());\n  dispatch({\n    type: \"ADD_ERROR\",\n    error: err\n  });\n});\nexport var logout = function logout() {\n  return function (dispatch) {\n    return axios.post('/auth/logout').then(function (_) {\n      dispatch(removeUser());\n      history.push('/login');\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n};","map":{"version":3,"sources":["/Users/peterzernia/projects/wanderlist/src/actions/countryActions.js"],"names":["axios","fetchCountryPending","type","fetchCountryFulfilled","country","fetchCountryRejected","fetchCountry","query","dispatch","get","process","env","REACT_APP_API_URL","then","response","data","catch","err","error","logout","post","_","removeUser","history","push","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,OAAO,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB;AAAA,SAAO;AAACC,IAAAA,IAAI,EAAE;AAAP,GAAP;AAAA,CAA5B;AACP,OAAO,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,CAAAC,OAAO;AAAA,SAAK;AAACF,IAAAA,IAAI,EAAE,yBAAP;AAAkCE,IAAAA,OAAO,EAAPA;AAAlC,GAAL;AAAA,CAArC;AACP,OAAO,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB;AAAA,SAAO;AAACH,IAAAA,IAAI,EAAE;AAAP,GAAP;AAAA,CAA7B,C,CAGP;;AACA,OAAO,IAAMI,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD;AAAA,SAC1B,UAAAC,QAAQ;AAAA,WACNA,QAAQ,CAACP,mBAAmB,EAApB,CADF;AAAA,GADkB;AAAA,CAArB;AAGHD,KAAK,CAACS,GAAN,WAAaC,OAAO,CAACC,GAAR,CAAYC,iBAAzB,uCAAuEL,KAAvE,GACGM,IADH,CACQ,UAAAC,QAAQ,EAAI;AAChB,MAAMV,OAAO,GAAGU,QAAQ,CAACC,IAAzB;AACAP,EAAAA,QAAQ,CAACL,qBAAqB,CAACC,OAAD,CAAtB,CAAR;AACD,CAJH,EAKGY,KALH,CAKS,UAAAC,GAAG,EAAI;AACZT,EAAAA,QAAQ,CAACH,oBAAoB,EAArB,CAAR;AACAG,EAAAA,QAAQ,CAAC;AAACN,IAAAA,IAAI,EAAE,WAAP;AAAoBgB,IAAAA,KAAK,EAAED;AAA3B,GAAD,CAAR;AACD,CARH;AAWJ,OAAO,IAAME,MAAM,GAAG,SAATA,MAAS;AAAA,SACpB,UAAAX,QAAQ;AAAA,WACNR,KAAK,CAACoB,IAAN,CAAW,cAAX,EACGP,IADH,CACQ,UAAAQ,CAAC,EAAI;AACTb,MAAAA,QAAQ,CAACc,UAAU,EAAX,CAAR;AACAC,MAAAA,OAAO,CAACC,IAAR,CAAa,QAAb;AACD,KAJH,EAKGR,KALH,CAKS,UAAAC,GAAG;AAAA,aAAIQ,OAAO,CAACC,GAAR,CAAYT,GAAZ,CAAJ;AAAA,KALZ,CADM;AAAA,GADY;AAAA,CAAf","sourcesContent":["import axios from 'axios'\n\n// Action creators\nexport const fetchCountryPending = () => ({type: \"FETCH_COUNTRY_PENDING\"})\nexport const fetchCountryFulfilled = country => ({type: \"FETCH_COUNTRY_FULFILLED\", country})\nexport const fetchCountryRejected = () => ({type: \"FETCH_COUNTRY_REJECTED\"})\n\n\n// GET requests the Django REST API which returns country object(s).\nexport const fetchCountry = (query) =>\n  dispatch => \n    dispatch(fetchCountryPending());\n    axios.get(`${process.env.REACT_APP_API_URL}/api/v1/countries/?search=${query}`)\n      .then(response => {\n        const country = response.data;\n        dispatch(fetchCountryFulfilled(country));\n      })\n      .catch(err => {\n        dispatch(fetchCountryRejected());\n        dispatch({type: \"ADD_ERROR\", error: err});\n      })\n\n\nexport const logout = () =>\n  dispatch =>\n    axios.post('/auth/logout')\n      .then(_ => {\n        dispatch(removeUser())\n        history.push('/login')\n      })\n      .catch(err => console.log(err))\n"]},"metadata":{},"sourceType":"module"}