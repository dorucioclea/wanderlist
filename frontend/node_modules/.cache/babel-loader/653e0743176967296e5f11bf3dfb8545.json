{"ast":null,"code":"import _toConsumableArray from \"/Users/peterzernia/projects/countries/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/peterzernia/projects/countries/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar initialState = {\n  posting: false,\n  updating: false,\n  fetching: false,\n  fetched: false,\n  fetchingNext: false,\n  fetchedNext: false,\n  fetchingUserNext: false,\n  fetchedUserNext: false,\n  fetchingTripReports: false,\n  fetchedTripReports: false,\n  fetchingSlugTripReports: false,\n  fetchedSlugTripReports: false,\n  tripReports: {\n    results: [],\n    count: null,\n    next: null,\n    previous: null\n  },\n  userTripReports: {\n    results: [],\n    count: null,\n    next: null,\n    previous: null\n  },\n  slugTripReports: {\n    results: [],\n    count: null,\n    next: null,\n    previous: null\n  }\n};\nexport default function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    // Basic axios request returns a response, and the state must be updated.\n    case \"FETCH_TRIP_REPORTS_PENDING\":\n      {\n        return _objectSpread({}, state, {\n          fetching: true\n        });\n      }\n\n    case \"FETCH_TRIP_REPORTS_FULFILLED\":\n      {\n        return _objectSpread({}, state, {\n          fetching: false,\n          fetched: true,\n          tripReports: action.tripReports\n        });\n      }\n\n    case \"FETCH_TRIP_REPORTS_REJECTED\":\n      {\n        return _objectSpread({}, state, {\n          fetching: false,\n          fetched: false\n        });\n      }\n\n    /*\n    In the case of fetching the next page of trip reports, the new trip reports\n    need to be added to the list of existing, fetched trip reports. They must\n    not overwnite the original list.\n    */\n\n    case \"FETCH_NEXT_TRIP_REPORTS_PENDING\":\n      {\n        return _objectSpread({}, state, {\n          fetchingNext: true,\n          fetchedNext: false\n        });\n      }\n\n    case \"FETCH_NEXT_TRIP_REPORTS_FULFILLED\":\n      {\n        return _objectSpread({}, state, {\n          fetchingNext: false,\n          fetchedNext: true,\n          tripReports: {\n            count: action.tripReports.count,\n            next: action.tripReports.next,\n            previous: action.tripReports.previous,\n            results: _toConsumableArray(state.tripReports.results).concat(action.tripReports.results)\n          }\n        });\n      }\n\n    case \"FETCH_NEXT_TRIP_REPORTS_REJECTED\":\n      {\n        return _objectSpread({}, state, {\n          fetchingNext: false,\n          fetchedNext: false\n        });\n      }\n    // Basic axios request for fetching a user's Trip Reports\n\n    case \"FETCH_USER_TRIP_REPORTS_PENDING\":\n      {\n        return _objectSpread({}, state, {\n          fetchingTripReports: true,\n          fetchedTripReports: false\n        });\n      }\n\n    case \"FETCH_USER_TRIP_REPORTS_FULFILLED\":\n      {\n        return _objectSpread({}, state, {\n          fetchingTripReports: false,\n          fetchedTripReports: true,\n          userTripReports: action.tripReports\n        });\n      }\n\n    case \"FETCH_USER_TRIP_REPORTS_REJECTED\":\n      {\n        return _objectSpread({}, state, {\n          fetchingTripReports: false,\n          fetchedTripReports: false\n        });\n      }\n\n    /*\n    In the case of fetching the next page of the user's trip reports, the new\n    trip reports need to be added to the list of existing, fetched trip reports.\n    They must not overwnite the original list.\n    */\n\n    case \"FETCH_NEXT_USER_TRIP_REPORTS_PENDING\":\n      {\n        return _objectSpread({}, state, {\n          fetchingUserNext: true,\n          fetchedUserNext: false\n        });\n      }\n\n    case \"FETCH_NEXT_USER_TRIP_REPORTS_FULFILLED\":\n      {\n        return _objectSpread({}, state, {\n          fetchingUserNext: false,\n          fetchedUserNext: true,\n          userTripReports: {\n            count: action.tripReports.count,\n            next: action.tripReports.next,\n            previous: action.tripReports.previous,\n            results: _toConsumableArray(state.userTripReports.results).concat(action.tripReports.results)\n          }\n        });\n      }\n\n    case \"FETCH_NEXT_USER_TRIP_REPORTS_REJECTED\":\n      {\n        return _objectSpread({}, state, {\n          fetchingUserNext: false,\n          fetchedUserNext: false\n        });\n      }\n    // Axios post\n\n    case \"POST_TRIP_REPORTS_PENDING\":\n      {\n        return _objectSpread({}, state, {\n          posting: true\n        });\n      }\n\n    case \"POST_TRIP_REPORTS_FULFILLED\":\n      {\n        return _objectSpread({}, state, {\n          /*\n          The axios response is a single trip report. The new trip report must be\n          added onto the array, then the array must be sorted by id for both the\n          Trip Reports and User Trip Reports lists.\n          */\n          userTripReports: {\n            results: _toConsumableArray(state.userTripReports.results).concat(action.response).sort(function (a, b) {\n              return a.id < b.id;\n            }),\n            count: state.userTripReports.count,\n            next: state.userTripReports.next,\n            previous: state.userTripReports.previous\n          },\n          tripReports: {\n            results: _toConsumableArray(state.tripReports.results).concat(action.response).sort(function (a, b) {\n              return a.id < b.id;\n            }),\n            count: state.tripReports.count,\n            next: state.tripReports.next,\n            previous: state.tripReports.previous\n          },\n          posting: false\n        });\n      }\n\n    case \"POST_TRIP_REPORTS_REJECTED\":\n      {\n        return _objectSpread({}, state, {\n          posting: false\n        });\n      }\n    // Axios deleet\n\n    case \"DELETE_TRIP_REPORTS_PENDING\":\n      {\n        return _objectSpread({}, state);\n      }\n\n    case \"DELETE_TRIP_REPORTS_FULFILLED\":\n      {\n        return _objectSpread({}, state, {\n          /*\n          The response is the deleted post that must be filtered out of both\n          lists.\n          */\n          userTripReports: {\n            results: _toConsumableArray(state.userTripReports.results).filter(function (tripReport) {\n              return tripReport.id !== action.response.id;\n            }),\n            count: state.userTripReports.count,\n            next: state.userTripReports.next,\n            previous: state.userTripReports.previous\n          },\n          tripReports: {\n            results: _toConsumableArray(state.tripReports.results).filter(function (tripReport) {\n              return tripReport.id !== action.response.id;\n            }),\n            count: state.tripReports.count,\n            next: state.tripReports.next,\n            previous: state.tripReports.previous\n          }\n        });\n      }\n\n    case \"DELETE_TRIP_REPORTS_REJECTED\":\n      {\n        return _objectSpread({}, state);\n      }\n\n    case \"UPDATE_TRIP_REPORTS_PENDING\":\n      {\n        return _objectSpread({}, state, {\n          updating: true\n        });\n      }\n\n    case \"UPDATE_TRIP_REPORTS_FULFILLED\":\n      {\n        return _objectSpread({}, state, {\n          /*\n          The axios response is the updated post. The old, unupdated post must be\n          filtered out of both lists, the updated post must be added, then\n          the array must be sorted.\n          */\n          userTripReports: {\n            results: _toConsumableArray(state.userTripReports.results).filter(function (tripReport) {\n              return tripReport.id !== action.response.id;\n            }).concat(action.response).sort(function (a, b) {\n              return a.id < b.id;\n            }),\n            count: state.userTripReports.count,\n            next: state.userTripReports.next,\n            previous: state.userTripReports.previous\n          },\n          tripReports: {\n            results: _toConsumableArray(state.tripReports.results).filter(function (tripReport) {\n              return tripReport.id !== action.response.id;\n            }).concat(action.response).sort(function (a, b) {\n              return a.id < b.id;\n            }),\n            count: state.tripReports.count,\n            next: state.tripReports.next,\n            previous: state.tripReports.previous\n          },\n          updating: false\n        });\n      }\n\n    case \"UPDATE_TRIP_REPORTS_REJECTED\":\n      {\n        return _objectSpread({}, state, {\n          updating: false\n        });\n      }\n\n    case \"FETCH_SLUG_TRIP_REPORTS_PENDING\":\n      {\n        return _objectSpread({}, state, {\n          fetchingSlugTripReports: true,\n          fetchedSlugTripReports: false\n        });\n      }\n\n    case \"FETCH_SLUG_TRIP_REPORTS_FULFILLED\":\n      {\n        return _objectSpread({}, state, {\n          fetchingSlugTripReports: false,\n          fetchedSlugTripReports: true,\n          slugTripReports: action.tripReports\n        });\n      }\n\n    case \"FETCH_SLUG_TRIP_REPORTS_REJECTED\":\n      {\n        return _objectSpread({}, state, {\n          fetchingSlugTripReports: false,\n          fetchedSlugTripReports: false\n        });\n      }\n\n    case \"TOGGLE_FAVORITE_FULFILLED\":\n      {\n        var index = state.tripReports.results.findIndex(function (tripReport) {\n          return tripReport.id === action.response.id;\n        });\n        return _objectSpread({}, state, {\n          /*\n          Same as PUT request, the response of the axios call to toggle favorite\n          returns the new Trip Report object with updated favorites array. This\n          Trip Report object must replace the old Trip Report object.\n          */\n          userTripReports: {\n            results: _toConsumableArray(state.userTripReports.results).filter(function (tripReport) {\n              return tripReport.id !== action.response.id;\n            }).concat(action.response).sort(function (a, b) {\n              return a.id < b.id;\n            }),\n            count: state.userTripReports.count,\n            next: state.userTripReports.next,\n            previous: state.userTripReports.previous\n          },\n          tripReports: {\n            results: _toConsumableArray(state.tripReports.results).map(function (tripReport, i) {\n              return i === index ? _objectSpread({}, tripReport, {\n                favoriters: action.response.favoriters\n              }) : _objectSpread({}, tripReport);\n            }),\n            count: state.tripReports.count,\n            next: state.tripReports.next,\n            previous: state.tripReports.previous\n          },\n          slugTripReports: {\n            results: _toConsumableArray(state.slugTripReports.results).filter(function (tripReport) {\n              return tripReport.id !== action.response.id;\n            }).concat(action.response).sort(function (a, b) {\n              return a.id < b.id;\n            }),\n            count: state.slugTripReports.count,\n            next: state.slugTripReports.next,\n            previous: state.slugTripReports.previous\n          }\n        });\n      }\n\n    case \"TOGGLE_FAVORITE_REJECTED\":\n      {\n        return _objectSpread({}, state);\n      }\n    // Reset authenticated user trip reports array on logout.\n\n    case \"AUTH_LOGOUT\":\n      {\n        return _objectSpread({}, state, {\n          userTripReports: {\n            results: [],\n            count: null,\n            next: null,\n            previous: null\n          }\n        });\n      }\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/peterzernia/projects/countries/src/store/tripReport.js"],"names":["initialState","posting","updating","fetching","fetched","fetchingNext","fetchedNext","fetchingUserNext","fetchedUserNext","fetchingTripReports","fetchedTripReports","fetchingSlugTripReports","fetchedSlugTripReports","tripReports","results","count","next","previous","userTripReports","slugTripReports","state","action","type","concat","response","sort","a","b","id","filter","tripReport","index","findIndex","map","i","favoriters"],"mappings":"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","sourcesContent":["const initialState = {\n  posting: false,\n  updating: false,\n  fetching: false,\n  fetched: false,\n  fetchingNext: false,\n  fetchedNext: false,\n  fetchingUserNext: false,\n  fetchedUserNext: false,\n  fetchingTripReports: false,\n  fetchedTripReports: false,\n  fetchingSlugTripReports: false,\n  fetchedSlugTripReports: false,\n  tripReports: { results: [], count: null, next: null, previous: null},\n  userTripReports: { results: [], count: null, next: null, previous: null},\n  slugTripReports: { results: [], count: null, next: null, previous: null},\n}\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    // Basic axios request returns a response, and the state must be updated.\n    case \"FETCH_TRIP_REPORTS_PENDING\": {\n      return {\n        ...state,\n        fetching: true,\n      }\n    }\n    case \"FETCH_TRIP_REPORTS_FULFILLED\": {\n      return {\n        ...state,\n        fetching: false,\n        fetched: true,\n        tripReports: action.tripReports,\n      }\n    }\n    case \"FETCH_TRIP_REPORTS_REJECTED\": {\n      return {\n        ...state,\n        fetching: false,\n        fetched: false,\n      }\n    }\n    /*\n    In the case of fetching the next page of trip reports, the new trip reports\n    need to be added to the list of existing, fetched trip reports. They must\n    not overwnite the original list.\n    */\n    case \"FETCH_NEXT_TRIP_REPORTS_PENDING\": {\n      return {\n        ...state,\n        fetchingNext: true,\n        fetchedNext: false\n      }\n    }\n    case \"FETCH_NEXT_TRIP_REPORTS_FULFILLED\": {\n      return {\n        ...state,\n        fetchingNext: false,\n        fetchedNext: true,\n        tripReports: {\n          count: action.tripReports.count,\n          next: action.tripReports.next,\n          previous: action.tripReports.previous,\n          results: [...state.tripReports.results].concat(action.tripReports.results),\n        }\n      }\n    }\n    case \"FETCH_NEXT_TRIP_REPORTS_REJECTED\": {\n      return {\n        ...state,\n        fetchingNext: false,\n        fetchedNext: false,\n      }\n    }\n    // Basic axios request for fetching a user's Trip Reports\n    case \"FETCH_USER_TRIP_REPORTS_PENDING\": {\n      return {\n        ...state,\n        fetchingTripReports: true,\n        fetchedTripReports: false\n      }\n    }\n    case \"FETCH_USER_TRIP_REPORTS_FULFILLED\": {\n      return {\n        ...state,\n        fetchingTripReports: false,\n        fetchedTripReports: true,\n        userTripReports: action.tripReports,\n      }\n    }\n    case \"FETCH_USER_TRIP_REPORTS_REJECTED\": {\n      return {\n        ...state,\n        fetchingTripReports: false,\n        fetchedTripReports: false,\n      }\n    }\n    /*\n    In the case of fetching the next page of the user's trip reports, the new\n    trip reports need to be added to the list of existing, fetched trip reports.\n    They must not overwnite the original list.\n    */\n    case \"FETCH_NEXT_USER_TRIP_REPORTS_PENDING\": {\n      return {\n        ...state,\n        fetchingUserNext: true,\n        fetchedUserNext: false\n      }\n    }\n    case \"FETCH_NEXT_USER_TRIP_REPORTS_FULFILLED\": {\n      return {\n        ...state,\n        fetchingUserNext: false,\n        fetchedUserNext: true,\n        userTripReports: {\n          count: action.tripReports.count,\n          next: action.tripReports.next,\n          previous: action.tripReports.previous,\n          results: [...state.userTripReports.results].concat(action.tripReports.results),\n        }\n      }\n    }\n    case \"FETCH_NEXT_USER_TRIP_REPORTS_REJECTED\": {\n      return {\n        ...state,\n        fetchingUserNext: false,\n        fetchedUserNext: false,\n      }\n    }\n    // Axios post\n    case \"POST_TRIP_REPORTS_PENDING\": {\n      return {\n        ...state,\n        posting: true\n      }\n    }\n    case \"POST_TRIP_REPORTS_FULFILLED\": {\n      return {\n        ...state,\n        /*\n        The axios response is a single trip report. The new trip report must be\n        added onto the array, then the array must be sorted by id for both the\n        Trip Reports and User Trip Reports lists.\n        */\n        userTripReports: {\n          results: [...state.userTripReports.results].concat(action.response).sort((a, b) => a.id < b.id),\n          count: state.userTripReports.count,\n          next: state.userTripReports.next,\n          previous: state.userTripReports.previous\n        },\n        tripReports: {\n          results: [...state.tripReports.results].concat(action.response).sort((a, b) => a.id < b.id),\n          count: state.tripReports.count,\n          next: state.tripReports.next,\n          previous: state.tripReports.previous\n        },\n        posting: false\n      }\n    }\n    case \"POST_TRIP_REPORTS_REJECTED\": {\n      return {\n        ...state,\n        posting: false\n        }\n    }\n    // Axios deleet\n    case \"DELETE_TRIP_REPORTS_PENDING\": {\n      return {\n        ...state,\n      }\n    }\n    case \"DELETE_TRIP_REPORTS_FULFILLED\": {\n      return {\n        ...state,\n        /*\n        The response is the deleted post that must be filtered out of both\n        lists.\n        */\n        userTripReports: {\n          results: [...state.userTripReports.results].filter(tripReport => tripReport.id !== action.response.id),\n          count: state.userTripReports.count,\n          next: state.userTripReports.next,\n          previous: state.userTripReports.previous\n        },\n        tripReports: {\n          results: [...state.tripReports.results].filter(tripReport => tripReport.id !== action.response.id),\n          count: state.tripReports.count,\n          next: state.tripReports.next,\n          previous: state.tripReports.previous\n        }\n      }\n    }\n    case \"DELETE_TRIP_REPORTS_REJECTED\": {\n      return {\n        ...state,\n      }\n    }\n    case \"UPDATE_TRIP_REPORTS_PENDING\": {\n      return {\n        ...state,\n        updating: true\n      }\n    }\n    case \"UPDATE_TRIP_REPORTS_FULFILLED\": {\n      return {\n        ...state,\n        /*\n        The axios response is the updated post. The old, unupdated post must be\n        filtered out of both lists, the updated post must be added, then\n        the array must be sorted.\n        */\n        userTripReports: {\n          results: [...state.userTripReports.results].filter(tripReport => tripReport.id !== action.response.id).concat(action.response).sort((a, b) => a.id < b.id),\n          count: state.userTripReports.count,\n          next: state.userTripReports.next,\n          previous: state.userTripReports.previous\n        },\n        tripReports: {\n          results: [...state.tripReports.results].filter(tripReport => tripReport.id !== action.response.id).concat(action.response).sort((a, b) => a.id < b.id),\n          count: state.tripReports.count,\n          next: state.tripReports.next,\n          previous: state.tripReports.previous\n        },\n        updating: false\n      }\n    }\n    case \"UPDATE_TRIP_REPORTS_REJECTED\": {\n      return {\n        ...state,\n        updating: false\n      }\n    }\n    case \"FETCH_SLUG_TRIP_REPORTS_PENDING\": {\n      return {\n        ...state,\n        fetchingSlugTripReports: true,\n        fetchedSlugTripReports: false\n      }\n    }\n    case \"FETCH_SLUG_TRIP_REPORTS_FULFILLED\": {\n      return {\n        ...state,\n        fetchingSlugTripReports: false,\n        fetchedSlugTripReports: true,\n        slugTripReports: action.tripReports,\n      }\n    }\n    case \"FETCH_SLUG_TRIP_REPORTS_REJECTED\": {\n      return {\n        ...state,\n        fetchingSlugTripReports: false,\n        fetchedSlugTripReports: false,\n      }\n    }\n    case \"TOGGLE_FAVORITE_FULFILLED\": {\n      const index = state.tripReports.results.findIndex((tripReport => tripReport.id === action.response.id))\n      return {\n        ...state,\n        /*\n        Same as PUT request, the response of the axios call to toggle favorite\n        returns the new Trip Report object with updated favorites array. This\n        Trip Report object must replace the old Trip Report object.\n        */\n        userTripReports: {\n          results: [...state.userTripReports.results].filter(tripReport => tripReport.id !== action.response.id).concat(action.response).sort((a, b) => a.id < b.id),\n          count: state.userTripReports.count,\n          next: state.userTripReports.next,\n          previous: state.userTripReports.previous\n        },\n        tripReports: {\n          results: [...state.tripReports.results].map((tripReport, i) => i === index ? { ...tripReport, favoriters: action.response.favoriters} : {...tripReport}),\n          count: state.tripReports.count,\n          next: state.tripReports.next,\n          previous: state.tripReports.previous\n        },\n        slugTripReports: {\n          results: [...state.slugTripReports.results].filter(tripReport => tripReport.id !== action.response.id).concat(action.response).sort((a, b) => a.id < b.id),\n          count: state.slugTripReports.count,\n          next: state.slugTripReports.next,\n          previous: state.slugTripReports.previous\n        }\n      }\n    }\n    case \"TOGGLE_FAVORITE_REJECTED\": {\n      return {\n        ...state,\n      }\n    }\n    // Reset authenticated user trip reports array on logout.\n    case \"AUTH_LOGOUT\": {\n      return {\n        ...state,\n        userTripReports: { results: [], count: null, next: null, previous: null},\n      }\n    }\n    default:\n      return state\n  }\n}\n"]},"metadata":{},"sourceType":"module"}