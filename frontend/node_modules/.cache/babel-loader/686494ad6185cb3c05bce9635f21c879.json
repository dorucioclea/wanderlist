{"ast":null,"code":"import axios from 'axios';\nexport var fetchUserPending = function fetchUserPending() {\n  return {\n    type: \"FETCH_USER_PENDING\"\n  };\n};\nexport var fetchUserFulfilled = function fetchUserFulfilled(user) {\n  return {\n    type: \"FETCH_USER_FULFILLED\",\n    user: user\n  };\n};\nexport var fetchUserRejected = function fetchUserRejected(error) {\n  return {\n    type: \"FETCH_USER_REJECTED\",\n    error: error\n  };\n};\nexport var addCountryPending = function addCountryPending() {\n  return {\n    type: \"ADD_COUNTRY_PENDING\"\n  };\n};\nexport var addCountryFulfilled = function addCountryFulfilled(user) {\n  return {\n    type: \"ADD_COUNTRY_FULFILLED\",\n    user: user\n  };\n};\nexport var addCountryRejected = function addCountryRejected(error) {\n  return {\n    type: \"ADD_COUNTRY_REJECTED\",\n    error: error\n  };\n};\nexport var fetchUser = function fetchUser() {\n  var token = localStorage.getItem('token');\n  return function (dispatch) {\n    dispatch(fetchUserPending());\n    axios.get('http://localhost:8000/api/v1/rest-auth/user/', {\n      headers: {\n        'Authorization': \"Token \".concat(token)\n      }\n    }).then(function (response) {\n      var user = response.data;\n      dispatch(fetchUserFulfilled(user));\n    }).catch(function (err) {\n      dispatch(fetchUserRejected(err));\n    });\n  };\n};\nexport var addCountry = function addCountry(username, countries) {\n  var token = localStorage.getItem('token');\n  return function (dispatch) {\n    dispatch(addCountryPending());\n    axios.put(\"http://localhost:8000/api/v1/users/\".concat(username, \"/\"), {\n      headers: {\n        'Authorization': \"Token \".concat(token)\n      }\n    }, {\n      countries: countries\n    }).then(function (response) {\n      var user = response.data;\n      dispatch(addCountryFulfilled(user));\n    }).catch(function (err) {\n      dispatch(addCountryRejected(err));\n    });\n  };\n};","map":{"version":3,"sources":["/Users/peterzernia/projects/countries/frontend/src/actions/userActions.js"],"names":["axios","fetchUserPending","type","fetchUserFulfilled","user","fetchUserRejected","error","addCountryPending","addCountryFulfilled","addCountryRejected","fetchUser","token","localStorage","getItem","dispatch","get","headers","then","response","data","catch","err","addCountry","username","countries","put"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AACpC,SAAO;AACLC,IAAAA,IAAI,EAAE;AADD,GAAP;AAGD,CAJM;AAMP,OAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,IAAI,EAAI;AACxC,SAAO;AACLF,IAAAA,IAAI,EAAE,sBADD;AAELE,IAAAA,IAAI,EAAEA;AAFD,GAAP;AAID,CALM;AAOP,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAAAC,KAAK,EAAI;AACxC,SAAO;AACLJ,IAAAA,IAAI,EAAE,qBADD;AAELI,IAAAA,KAAK,EAAEA;AAFF,GAAP;AAID,CALM;AAOP,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AACrC,SAAO;AACLL,IAAAA,IAAI,EAAE;AADD,GAAP;AAGD,CAJM;AAMP,OAAO,IAAMM,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAAJ,IAAI,EAAI;AACzC,SAAO;AACLF,IAAAA,IAAI,EAAE,uBADD;AAELE,IAAAA,IAAI,EAAEA;AAFD,GAAP;AAID,CALM;AAOP,OAAO,IAAMK,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAH,KAAK,EAAI;AACzC,SAAO;AACLJ,IAAAA,IAAI,EAAE,sBADD;AAELI,IAAAA,KAAK,EAAEA;AAFF,GAAP;AAID,CALM;AAOP,OAAO,IAAMI,SAAS,GAAG,SAAZA,SAAY,GAAM;AAC7B,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,SAAO,UAAAC,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAACb,gBAAgB,EAAjB,CAAR;AACAD,IAAAA,KAAK,CAACe,GAAN,CAAU,8CAAV,EAA0D;AAACC,MAAAA,OAAO,EAAE;AAAE,yCAA0BL,KAA1B;AAAF;AAAV,KAA1D,EACGM,IADH,CACQ,UAAAC,QAAQ,EAAI;AAChB,UAAMd,IAAI,GAAGc,QAAQ,CAACC,IAAtB;AACAL,MAAAA,QAAQ,CAACX,kBAAkB,CAACC,IAAD,CAAnB,CAAR;AACD,KAJH,EAKGgB,KALH,CAKS,UAAAC,GAAG,EAAI;AACZP,MAAAA,QAAQ,CAACT,iBAAiB,CAACgB,GAAD,CAAlB,CAAR;AACD,KAPH;AAQD,GAVD;AAWD,CAbM;AAeP,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,QAAD,EAAWC,SAAX,EAAyB;AACjD,MAAMb,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,SAAO,UAAAC,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAACP,iBAAiB,EAAlB,CAAR;AACAP,IAAAA,KAAK,CAACyB,GAAN,8CACwCF,QADxC,QAEE;AAACP,MAAAA,OAAO,EAAE;AAAE,yCAA0BL,KAA1B;AAAF;AAAV,KAFF,EAGE;AAACa,MAAAA,SAAS,EAAEA;AAAZ,KAHF,EAKGP,IALH,CAKQ,UAAAC,QAAQ,EAAI;AAChB,UAAMd,IAAI,GAAGc,QAAQ,CAACC,IAAtB;AACAL,MAAAA,QAAQ,CAACN,mBAAmB,CAACJ,IAAD,CAApB,CAAR;AACD,KARH,EASGgB,KATH,CASS,UAAAC,GAAG,EAAI;AACZP,MAAAA,QAAQ,CAACL,kBAAkB,CAACY,GAAD,CAAnB,CAAR;AACD,KAXH;AAYD,GAdD;AAeD,CAjBM","sourcesContent":["import axios from 'axios'\n\nexport const fetchUserPending = () => {\n  return {\n    type: \"FETCH_USER_PENDING\"\n  }\n}\n\nexport const fetchUserFulfilled = user => {\n  return {\n    type: \"FETCH_USER_FULFILLED\",\n    user: user\n  }\n}\n\nexport const fetchUserRejected = error => {\n  return {\n    type: \"FETCH_USER_REJECTED\",\n    error: error\n  }\n}\n\nexport const addCountryPending = () => {\n  return {\n    type: \"ADD_COUNTRY_PENDING\"\n  }\n}\n\nexport const addCountryFulfilled = user => {\n  return {\n    type: \"ADD_COUNTRY_FULFILLED\",\n    user: user\n  }\n}\n\nexport const addCountryRejected = error => {\n  return {\n    type: \"ADD_COUNTRY_REJECTED\",\n    error: error\n  }\n}\n\nexport const fetchUser = () => {\n  const token = localStorage.getItem('token');\n  return dispatch => {\n    dispatch(fetchUserPending());\n    axios.get('http://localhost:8000/api/v1/rest-auth/user/', {headers: { 'Authorization': `Token ${token}`}})\n      .then(response => {\n        const user = response.data;\n        dispatch(fetchUserFulfilled(user));\n      })\n      .catch(err => {\n        dispatch(fetchUserRejected(err));\n      })\n  }\n}\n\nexport const addCountry = (username, countries) => {\n  const token = localStorage.getItem('token');\n  return dispatch => {\n    dispatch(addCountryPending());\n    axios.put(\n      `http://localhost:8000/api/v1/users/${username}/`,\n      {headers: { 'Authorization': `Token ${token}`}},\n      {countries: countries}\n  )\n      .then(response => {\n        const user = response.data;\n        dispatch(addCountryFulfilled(user));\n      })\n      .catch(err => {\n        dispatch(addCountryRejected(err));\n      })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}