{"ast":null,"code":"import _classCallCheck from \"/Users/peterzernia/projects/countries/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/peterzernia/projects/countries/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/peterzernia/projects/countries/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/peterzernia/projects/countries/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/peterzernia/projects/countries/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/peterzernia/projects/countries/src/containers/Post.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport PostModal from '../components/PostModal';\nimport { postTripReport as _postTripReport } from '../actions/tripReportActions';\n\nvar Post =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Post, _Component);\n\n  function Post() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Post);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Post)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var options = e.target.countries.options;\n      var countries = [];\n\n      for (var i = 0, l = options.length; i < l; i++) {\n        if (options[i].selected) {\n          countries.push(options[i].value);\n        }\n      }\n\n      _this.props.postTripReport(_this.props.username, e.target.title.value, e.target.content.value, countries);\n\n      _this.props.history.push('/');\n    };\n\n    return _this;\n  }\n\n  _createClass(Post, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, React.createElement(PostModal, Object.assign({}, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: this.props.openPostModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, \"New Post\"));\n    }\n  }]);\n\n  return Post;\n}(Component);\n\nvar mapState = function mapState(state) {\n  return {\n    error: state.tripReport.error,\n    username: state.user.user.username\n  };\n};\n\nvar mapDispatch = function mapDispatch(dispatch) {\n  return {\n    postTripReport: function postTripReport(title, content, author, countries) {\n      return dispatch(_postTripReport(title, content, author, countries));\n    },\n    openPostModal: function (_openPostModal) {\n      function openPostModal() {\n        return _openPostModal.apply(this, arguments);\n      }\n\n      openPostModal.toString = function () {\n        return _openPostModal.toString();\n      };\n\n      return openPostModal;\n    }(function () {\n      return dispatch(openPostModal());\n    }),\n    closePostModal: function (_closePostModal) {\n      function closePostModal() {\n        return _closePostModal.apply(this, arguments);\n      }\n\n      closePostModal.toString = function () {\n        return _closePostModal.toString();\n      };\n\n      return closePostModal;\n    }(function () {\n      return dispatch(closePostModal());\n    })\n  };\n};\n\nexport default connect(mapState, mapDispatch)(Post);\nPost.propTypes = {\n  error: PropTypes.object,\n  pk: PropTypes.string\n};","map":{"version":3,"sources":["/Users/peterzernia/projects/countries/src/containers/Post.js"],"names":["React","Component","connect","PropTypes","PostModal","postTripReport","Post","handleSubmit","e","preventDefault","options","target","countries","i","l","length","selected","push","value","props","username","title","content","history","openPostModal","mapState","state","error","tripReport","user","mapDispatch","dispatch","author","closePostModal","propTypes","object","pk","string"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,SAASC,cAAc,IAAdA,eAAT,QAA+B,8BAA/B;;IAEMC,I;;;;;;;;;;;;;;;;;;UAEJC,Y,GAAe,UAACC,CAAD,EAAO;AACpBA,MAAAA,CAAC,CAACC,cAAF;AACA,UAAIC,OAAO,GAAGF,CAAC,CAACG,MAAF,CAASC,SAAT,CAAmBF,OAAjC;AACA,UAAIE,SAAS,GAAE,EAAf;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGJ,OAAO,CAACK,MAA5B,EAAoCF,CAAC,GAAGC,CAAxC,EAA2CD,CAAC,EAA5C,EAAgD;AAC9C,YAAIH,OAAO,CAACG,CAAD,CAAP,CAAWG,QAAf,EAAyB;AACvBJ,UAAAA,SAAS,CAACK,IAAV,CAAeP,OAAO,CAACG,CAAD,CAAP,CAAWK,KAA1B;AACD;AACF;;AACD,YAAKC,KAAL,CAAWd,cAAX,CACE,MAAKc,KAAL,CAAWC,QADb,EAEEZ,CAAC,CAACG,MAAF,CAASU,KAAT,CAAeH,KAFjB,EAGEV,CAAC,CAACG,MAAF,CAASW,OAAT,CAAiBJ,KAHnB,EAIEN,SAJF;;AAMA,YAAKO,KAAL,CAAWI,OAAX,CAAmBN,IAAnB,CAAwB,GAAxB;AACD,K;;;;;;;6BAEO;AACN,aACE;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD,oBAAe,KAAKE,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF,EAEE;AAAQ,QAAA,SAAS,EAAC,iBAAlB;AAAoC,QAAA,OAAO,EAAE,KAAKA,KAAL,CAAWK,aAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,CADF;AAMD;;;;EA3BgBvB,S;;AA8BnB,IAAMwB,QAAQ,GAAG,SAAXA,QAAW,CAAAC,KAAK,EAAI;AACxB,SAAO;AACLC,IAAAA,KAAK,EAAED,KAAK,CAACE,UAAN,CAAiBD,KADnB;AAELP,IAAAA,QAAQ,EAAEM,KAAK,CAACG,IAAN,CAAWA,IAAX,CAAgBT;AAFrB,GAAP;AAID,CALD;;AAOA,IAAMU,WAAW,GAAG,SAAdA,WAAc,CAAAC,QAAQ,EAAI;AAC9B,SAAO;AACL1B,IAAAA,cAAc,EAAE,wBAACgB,KAAD,EAAQC,OAAR,EAAiBU,MAAjB,EAAyBpB,SAAzB;AAAA,aAAuCmB,QAAQ,CAAC1B,eAAc,CAACgB,KAAD,EAAQC,OAAR,EAAiBU,MAAjB,EAAyBpB,SAAzB,CAAf,CAA/C;AAAA,KADX;AAELY,IAAAA,aAAa;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,MAAE;AAAA,aAAMO,QAAQ,CAACP,aAAa,EAAd,CAAd;AAAA,KAAF,CAFR;AAGLS,IAAAA,cAAc;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,MAAE;AAAA,aAAMF,QAAQ,CAACE,cAAc,EAAf,CAAd;AAAA,KAAF;AAHT,GAAP;AAKD,CAND;;AAQA,eAAe/B,OAAO,CAACuB,QAAD,EAAWK,WAAX,CAAP,CAA+BxB,IAA/B,CAAf;AAEAA,IAAI,CAAC4B,SAAL,GAAiB;AACfP,EAAAA,KAAK,EAAExB,SAAS,CAACgC,MADF;AAEfC,EAAAA,EAAE,EAAEjC,SAAS,CAACkC;AAFC,CAAjB","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport PostModal from '../components/PostModal'\nimport { postTripReport } from '../actions/tripReportActions'\n\nclass Post extends Component {\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    var options = e.target.countries.options;\n    var countries =[];\n    for (var i = 0, l = options.length; i < l; i++) {\n      if (options[i].selected) {\n        countries.push(options[i].value);\n      }\n    }\n    this.props.postTripReport(\n      this.props.username,\n      e.target.title.value,\n      e.target.content.value,\n      countries\n    )\n    this.props.history.push('/');\n  }\n\n  render(){\n    return(\n      <div className=\"content\">\n        <PostModal {...this.props} />\n        <button className=\"btn btn-primary\" onClick={this.props.openPostModal}>New Post</button>\n      </div>\n    );\n  }\n}\n\nconst mapState = state => {\n  return {\n    error: state.tripReport.error,\n    username: state.user.user.username,\n  };\n}\n\nconst mapDispatch = dispatch => {\n  return {\n    postTripReport: (title, content, author, countries) => dispatch(postTripReport(title, content, author, countries)),\n    openPostModal: () => dispatch(openPostModal()),\n    closePostModal: () => dispatch(closePostModal())\n  };\n}\n\nexport default connect(mapState, mapDispatch)(Post);\n\nPost.propTypes = {\n  error: PropTypes.object,\n  pk: PropTypes.string,\n};\n"]},"metadata":{},"sourceType":"module"}