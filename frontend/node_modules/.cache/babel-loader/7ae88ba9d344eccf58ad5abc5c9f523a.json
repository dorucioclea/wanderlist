{"ast":null,"code":"import axios from 'axios';\nexport var fetchTripReportsPending = function fetchTripReportsPending() {\n  return {\n    type: \"FETCH_TRIP_REPORTS_PENDING\"\n  };\n};\nexport var fetchTripReportsFulfilled = function fetchTripReportsFulfilled(tripReports) {\n  return {\n    type: \"FETCH_TRIP_REPORTS_FULFILLED\",\n    tripReports: tripReports\n  };\n};\nexport var fetchTripReportsRejected = function fetchTripReportsRejected(error) {\n  return {\n    type: \"FETCH_TRIP_REPORTS_REJECTED\",\n    error: error\n  };\n};\nexport var fetchUserTripReportsPending = function fetchUserTripReportsPending() {\n  return {\n    type: \"FETCH_USER_TRIP_REPORTS_PENDING\"\n  };\n};\nexport var fetchUserTripReportsFulfilled = function fetchUserTripReportsFulfilled(tripReports) {\n  return {\n    type: \"FETCH_USER_TRIP_REPORTS_FULFILLED\",\n    tripReports: tripReports\n  };\n};\nexport var fetchUserTripReportsRejected = function fetchUserTripReportsRejected(error) {\n  return {\n    type: \"FETCH_USER_TRIP_REPORTS_REJECTED\",\n    error: error\n  };\n};\nexport var postTripReportsPending = function postTripReportsPending() {\n  return {\n    type: \"POST_TRIP_REPORTS_PENDING\"\n  };\n};\nexport var postTripReportsFulfilled = function postTripReportsFulfilled() {\n  return {\n    type: \"POST_TRIP_REPORTS_FULFILLED\"\n  };\n};\nexport var postTripReportsRejected = function postTripReportsRejected(error) {\n  return {\n    type: \"POST_TRIP_REPORTS_REJECTED\",\n    error: error\n  };\n};\nexport var deleteTripReportsPending = function deleteTripReportsPending() {\n  return {\n    type: \"DELETE_TRIP_REPORTS_PENDING\"\n  };\n};\nexport var deleteTripReportsFulfilled = function deleteTripReportsFulfilled() {\n  return {\n    type: \"DELETE_TRIP_REPORTS_FULFILLED\"\n  };\n};\nexport var deleteTripReportsRejected = function deleteTripReportsRejected(error) {\n  return {\n    type: \"DELETE_TRIP_REPORTS_REJECTED\",\n    error: error\n  };\n};\nexport var fetchTripReports = function fetchTripReports() {\n  return function (dispatch) {\n    dispatch(fetchTripReportsPending());\n    axios.get('http://localhost:8000/api/v1/reports/').then(function (response) {\n      var tripReports = response.data;\n      dispatch(fetchTripReportsFulfilled(tripReports));\n    }).catch(function (err) {\n      dispatch(fetchTripReportsRejected(err));\n    });\n  };\n};\nexport var fetchUserTripReports = function fetchUserTripReports(username) {\n  return function (dispatch) {\n    dispatch(fetchUserTripReportsPending());\n    axios.get(\"http://localhost:8000/api/v1/reports/?search=\".concat(username)).then(function (response) {\n      var tripReports = response.data;\n      dispatch(fetchUserTripReportsFulfilled(tripReports));\n    }).catch(function (err) {\n      dispatch(fetchUserTripReportsRejected(err));\n    });\n  };\n};\nexport var postTripReport = function postTripReport(author, title, content, countries) {\n  return function (dispatch) {\n    dispatch(postTripReportsPending());\n    axios.post('http://localhost:8000/api/v1/reports/', {\n      title: title,\n      content: content,\n      author: author,\n      countries: countries\n    }).then(function (response) {\n      dispatch(postTripReportsFulfilled());\n    }).catch(function (err) {\n      dispatch(postTripReportsRejected(err));\n    });\n  };\n};\nexport var deleteTripReport = function deleteTripReport(tripReport) {\n  var csrftoken = getCookie('csrftoken');\n  return function (dispatch) {\n    dispatch(deleteTripReportsPending());\n    axios.delete(\"http://localhost:8000/api/v1/reports/\".concat(tripReport), {\n      headers: {\n        \"X-CSRFToken\": csrfToken\n      }\n    }).then(function (response) {\n      dispatch(deleteTripReportsFulfilled());\n    }).catch(function (err) {\n      dispatch(deleteTripReportsRejected(err));\n    });\n  };\n};\n\nfunction getCookie(name) {\n  var cookieValue = null;\n\n  if (document.cookie && document.cookie !== '') {\n    var cookies = document.cookie.split(';');\n\n    for (var i = 0; i < cookies.length; i++) {\n      var cookie = jQuery.trim(cookies[i]);\n\n      if (cookie.substring(0, name.length + 1) === name + '=') {\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n        break;\n      }\n    }\n  }\n\n  return cookieValue;\n}","map":{"version":3,"sources":["/Users/peterzernia/projects/countries/src/actions/tripReportActions.js"],"names":["axios","fetchTripReportsPending","type","fetchTripReportsFulfilled","tripReports","fetchTripReportsRejected","error","fetchUserTripReportsPending","fetchUserTripReportsFulfilled","fetchUserTripReportsRejected","postTripReportsPending","postTripReportsFulfilled","postTripReportsRejected","deleteTripReportsPending","deleteTripReportsFulfilled","deleteTripReportsRejected","fetchTripReports","dispatch","get","then","response","data","catch","err","fetchUserTripReports","username","postTripReport","author","title","content","countries","post","deleteTripReport","tripReport","csrftoken","getCookie","delete","headers","csrfToken","name","cookieValue","document","cookie","cookies","split","i","length","jQuery","trim","substring","decodeURIComponent"],"mappings":"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","sourcesContent":["import axios from 'axios'\n\nexport const fetchTripReportsPending = () => {\n  return {\n    type: \"FETCH_TRIP_REPORTS_PENDING\"\n  }\n}\n\nexport const fetchTripReportsFulfilled = tripReports => {\n  return {\n    type: \"FETCH_TRIP_REPORTS_FULFILLED\",\n    tripReports: tripReports\n  }\n}\n\nexport const fetchTripReportsRejected = error => {\n  return {\n    type: \"FETCH_TRIP_REPORTS_REJECTED\",\n    error: error\n  }\n}\n\nexport const fetchUserTripReportsPending = () => {\n  return {\n    type: \"FETCH_USER_TRIP_REPORTS_PENDING\"\n  }\n}\n\nexport const fetchUserTripReportsFulfilled = tripReports => {\n  return {\n    type: \"FETCH_USER_TRIP_REPORTS_FULFILLED\",\n    tripReports: tripReports\n  }\n}\n\nexport const fetchUserTripReportsRejected = error => {\n  return {\n    type: \"FETCH_USER_TRIP_REPORTS_REJECTED\",\n    error: error\n  }\n}\n\nexport const postTripReportsPending = () => {\n  return {\n    type: \"POST_TRIP_REPORTS_PENDING\"\n  }\n}\n\nexport const postTripReportsFulfilled = () => {\n  return {\n    type: \"POST_TRIP_REPORTS_FULFILLED\"\n  }\n}\n\nexport const postTripReportsRejected = error => {\n  return {\n    type: \"POST_TRIP_REPORTS_REJECTED\",\n    error: error\n  }\n}\n\nexport const deleteTripReportsPending = () => {\n  return {\n    type: \"DELETE_TRIP_REPORTS_PENDING\"\n  }\n}\n\nexport const deleteTripReportsFulfilled = () => {\n  return {\n    type: \"DELETE_TRIP_REPORTS_FULFILLED\"\n  }\n}\n\nexport const deleteTripReportsRejected = error => {\n  return {\n    type: \"DELETE_TRIP_REPORTS_REJECTED\",\n    error: error\n  }\n}\n\nexport const fetchTripReports = () => {\n  return dispatch => {\n    dispatch(fetchTripReportsPending());\n    axios.get('http://localhost:8000/api/v1/reports/')\n      .then(response => {\n        const tripReports = response.data;\n        dispatch(fetchTripReportsFulfilled(tripReports));\n      })\n      .catch(err => {\n        dispatch(fetchTripReportsRejected(err));\n      })\n  }\n}\n\nexport const fetchUserTripReports = (username) => {\n  return dispatch => {\n    dispatch(fetchUserTripReportsPending());\n    axios.get(`http://localhost:8000/api/v1/reports/?search=${username}`)\n      .then(response => {\n        const tripReports = response.data;\n        dispatch(fetchUserTripReportsFulfilled(tripReports));\n      })\n      .catch(err => {\n        dispatch(fetchUserTripReportsRejected(err));\n      })\n  }\n}\n\nexport const postTripReport = (author, title, content, countries) => {\n  return dispatch => {\n    dispatch(postTripReportsPending());\n    axios.post('http://localhost:8000/api/v1/reports/', {\n      title: title,\n      content: content,\n      author: author,\n      countries: countries\n    })\n      .then(response => {\n        dispatch(postTripReportsFulfilled());\n      })\n      .catch(err => {\n        dispatch(postTripReportsRejected(err));\n      })\n  }\n}\n\nexport const deleteTripReport = (tripReport) => {\n  var csrftoken = getCookie('csrftoken');\n  return dispatch => {\n    dispatch(deleteTripReportsPending());\n    axios.delete(`http://localhost:8000/api/v1/reports/${tripReport}`, { headers: {\"X-CSRFToken\": csrfToken }})\n      .then(response => {\n        dispatch(deleteTripReportsFulfilled());\n      })\n      .catch(err => {\n        dispatch(deleteTripReportsRejected(err));\n      })\n  }\n}\n\nfunction getCookie(name) {\n    var cookieValue = null;\n    if (document.cookie && document.cookie !== '') {\n        var cookies = document.cookie.split(';');\n        for (var i = 0; i < cookies.length; i++) {\n            var cookie = jQuery.trim(cookies[i]);\n            if (cookie.substring(0, name.length + 1) === (name + '=')) {\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                break;\n            }\n        }\n    }\n    return cookieValue;\n}\n"]},"metadata":{},"sourceType":"module"}